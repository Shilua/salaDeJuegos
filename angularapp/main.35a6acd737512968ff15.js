(self.webpackChunksala_de_juegos=self.webpackChunksala_de_juegos||[]).push([[179],{8255:e=>{function t(e){return Promise.resolve().then(()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t})}t.keys=()=>[],t.resolve=t,t.id=8255,e.exports=t},5366:(e,t,n)=>{"use strict";n.d(t,{deG:()=>In,tb:()=>Jd,AFp:()=>Gd,ip1:()=>Hd,CZH:()=>$d,hGG:()=>$f,z2F:()=>Mf,sBO:()=>bh,Sil:()=>lf,_Vd:()=>Hl,EJc:()=>tf,SBq:()=>Kl,qLn:()=>pi,vpe:()=>wd,gxx:()=>_o,tBr:()=>Jn,XFs:()=>N,GSi:()=>Aa,OlP:()=>bn,zs3:()=>Po,ZZ4:()=>ph,aQg:()=>mh,soG:()=>ef,LVF:()=>zd,YKP:()=>Oh,v3s:()=>Uf,h0i:()=>Nh,PXZ:()=>Of,R0b:()=>ff,FiY:()=>Xn,Lbi:()=>Qd,g9A:()=>Yd,Qsj:()=>Jl,FYo:()=>Ql,JOm:()=>Ii,Tiy:()=>eh,q3G:()=>Xr,tp0:()=>tr,EAV:()=>qf,Rgc:()=>Ch,dDg:()=>wf,DyG:()=>Tn,q4F:()=>nh,GfV:()=>th,s_b:()=>Dh,ifc:()=>M,eFA:()=>Rf,G48:()=>xf,Gpc:()=>f,X6Q:()=>kf,_c5:()=>Zf,VLi:()=>Ef,c2e:()=>Xd,zSh:()=>bo,wAp:()=>kc,vHH:()=>m,EiD:()=>Qr,mCW:()=>Dr,qzn:()=>br,JVY:()=>Er,pB0:()=>Ar,eBb:()=>Sr,L6k:()=>Tr,LAX:()=>Cr,cg1:()=>Sc,Tjo:()=>zf,kL8:()=>Cc,yhl:()=>Ir,dqk:()=>q,sIi:()=>Wo,CqO:()=>Ba,QGY:()=>ja,F4k:()=>qa,zlt:()=>Hh,RDi:()=>ke,AaK:()=>l,z3N:()=>wr,qOj:()=>Fo,TTD:()=>we,_Bn:()=>Bl,xp6:()=>vs,uIk:()=>na,Tol:()=>Eu,DjV:()=>Yu,ekj:()=>wu,Suo:()=>Pd,Xpm:()=>J,lG2:()=>oe,Yz7:()=>b,cJS:()=>I,oAB:()=>re,Yjl:()=>ae,Y36:()=>xa,_UZ:()=>La,BQk:()=>Fa,ynx:()=>Ma,qZA:()=>Pa,TgZ:()=>Da,EpF:()=>Va,n5z:()=>hn,Ikx:()=>wc,SDv:()=>Nl,QtT:()=>Dl,pQV:()=>Rl,LFG:()=>Wn,$8M:()=>fn,NdJ:()=>za,CRH:()=>Ld,oxw:()=>Wa,ALo:()=>hd,lcZ:()=>dd,xi3:()=>fd,Hsn:()=>Qa,F$t:()=>Ya,Q6J:()=>Oa,s9C:()=>Ja,MGl:()=>Xa,VKq:()=>Yh,WLB:()=>Qh,kEZ:()=>Jh,iGM:()=>Rd,MAs:()=>Ia,CHM:()=>Ke,LSH:()=>ni,kYT:()=>ie,Udp:()=>_u,YNc:()=>ba,W1O:()=>Vd,_uU:()=>Mu,Oqu:()=>Fu,hij:()=>Uu,Gf:()=>Dd});var r=n(5959),i=n(7570),s=n(8318),o=n(1906),a=n(1055);function u(e){for(let t in e)if(e[t]===u)return t;throw Error("Could not find renamed property on target object.")}function c(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function l(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(l).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function h(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const d=u({__forward_ref__:u});function f(e){return e.__forward_ref__=f,e.toString=function(){return l(this())},e}function p(e){return g(e)?e():e}function g(e){return"function"==typeof e&&e.hasOwnProperty(d)&&e.__forward_ref__===f}class m extends Error{constructor(e,t){super(function(e,t){return`${e?`NG0${e}: `:""}${t}`}(e,t)),this.code=e}}function y(e){return"string"==typeof e?e:null==e?"":String(e)}function v(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():y(e)}function _(e,t){const n=t?` in ${t}`:"";throw new m("201",`No provider for ${v(e)} found${n}`)}function w(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${n} ${r} ${t} <=Actual]`))}function b(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function I(e){return{providers:e.providers||[],imports:e.imports||[]}}function E(e){return T(e,C)||T(e,k)}function T(e,t){return e.hasOwnProperty(t)?e[t]:null}function S(e){return e&&(e.hasOwnProperty(A)||e.hasOwnProperty(x))?e[A]:null}const C=u({"\u0275prov":u}),A=u({"\u0275inj":u}),k=u({ngInjectableDef:u}),x=u({ngInjectorDef:u});var N=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}({});let O;function R(e){const t=O;return O=e,t}function D(e,t,n){const r=E(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&N.Optional?null:void 0!==t?t:void _(l(e),"Injector")}function P(e){return{toString:e}.toString()}var L=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}({}),M=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}({});const F="undefined"!=typeof globalThis&&globalThis,U="undefined"!=typeof window&&window,V="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,j="undefined"!=typeof global&&global,q=F||j||U||V,B={},z=[],Z=u({"\u0275cmp":u}),H=u({"\u0275dir":u}),$=u({"\u0275pipe":u}),G=u({"\u0275mod":u}),W=u({"\u0275loc":u}),K=u({"\u0275fac":u}),Y=u({__NG_ELEMENT_ID__:u});let Q=0;function J(e){return P(()=>{const t={},n={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===L.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||z,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||M.Emulated,id:"c",styles:e.styles||z,_:null,setInput:null,schemas:e.schemas||null,tView:null},r=e.directives,i=e.features,s=e.pipes;return n.id+=Q++,n.inputs=se(e.inputs,t),n.outputs=se(e.outputs),i&&i.forEach(e=>e(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(ee):null,n.pipeDefs=s?()=>("function"==typeof s?s():s).map(te):null,n})}function X(e,t,n){const r=e.\u0275cmp;r.directiveDefs=()=>t.map(ee),r.pipeDefs=()=>n.map(te)}function ee(e){return ue(e)||function(e){return e[H]||null}(e)}function te(e){return function(e){return e[$]||null}(e)}const ne={};function re(e){return P(()=>{const t={type:e.type,bootstrap:e.bootstrap||z,declarations:e.declarations||z,imports:e.imports||z,exports:e.exports||z,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&(ne[e.id]=e.type),t})}function ie(e,t){return P(()=>{const n=ce(e,!0);n.declarations=t.declarations||z,n.imports=t.imports||z,n.exports=t.exports||z})}function se(e,t){if(null==e)return B;const n={};for(const r in e)if(e.hasOwnProperty(r)){let i=e[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,t&&(t[i]=s)}return n}const oe=J;function ae(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,onDestroy:e.type.prototype.ngOnDestroy||null}}function ue(e){return e[Z]||null}function ce(e,t){const n=e[G]||null;if(!n&&!0===t)throw new Error(`Type ${l(e)} does not have '\u0275mod' property.`);return n}const le=20,he=10;function de(e){return Array.isArray(e)&&"object"==typeof e[1]}function fe(e){return Array.isArray(e)&&!0===e[1]}function pe(e){return 0!=(8&e.flags)}function ge(e){return 2==(2&e.flags)}function me(e){return 1==(1&e.flags)}function ye(e){return null!==e.template}function ve(e,t){return e.hasOwnProperty(K)?e[K]:null}class _e{constructor(e,t,n){this.previousValue=e,this.currentValue=t,this.firstChange=n}isFirstChange(){return this.firstChange}}function we(){return be}function be(e){return e.type.prototype.ngOnChanges&&(e.setInput=Ee),Ie}function Ie(){const e=Te(this),t=null==e?void 0:e.current;if(t){const n=e.previous;if(n===B)e.previous=t;else for(let e in t)n[e]=t[e];e.current=null,this.ngOnChanges(t)}}function Ee(e,t,n,r){const i=Te(e)||function(e,t){return e.__ngSimpleChanges__=t}(e,{previous:B,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[n],u=o[a];s[a]=new _e(u&&u.currentValue,t,o===B),e[r]=t}function Te(e){return e.__ngSimpleChanges__||null}we.ngInherit=!0;const Se="http://www.w3.org/2000/svg",Ce="http://www.w3.org/1998/MathML/";let Ae;function ke(e){Ae=e}function xe(){return void 0!==Ae?Ae:"undefined"!=typeof document?document:void 0}function Ne(e){return!!e.listen}const Oe={createRenderer:(e,t)=>xe()};function Re(e){for(;Array.isArray(e);)e=e[0];return e}function De(e,t){return Re(t[e])}function Pe(e,t){return Re(t[e.index])}function Le(e,t){return e.data[t]}function Me(e,t){return e[t]}function Fe(e,t){const n=t[e];return de(n)?n:n[0]}function Ue(e){return 4==(4&e[2])}function Ve(e){return 128==(128&e[2])}function je(e,t){return null==t?null:e[t]}function qe(e){e[18]=0}function Be(e,t){e[5]+=t;let n=e,r=e[3];for(;null!==r&&(1===t&&1===n[5]||-1===t&&0===n[5]);)r[5]+=t,n=r,r=r[3]}const ze={lFrame:_t(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Ze(){return ze.bindingsEnabled}function He(){ze.bindingsEnabled=!0}function $e(){ze.bindingsEnabled=!1}function Ge(){return ze.lFrame.lView}function We(){return ze.lFrame.tView}function Ke(e){return ze.lFrame.contextLView=e,e[8]}function Ye(){let e=Qe();for(;null!==e&&64===e.type;)e=e.parent;return e}function Qe(){return ze.lFrame.currentTNode}function Je(){const e=ze.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function Xe(e,t){const n=ze.lFrame;n.currentTNode=e,n.isParent=t}function et(){return ze.lFrame.isParent}function tt(){ze.lFrame.isParent=!1}function nt(){return ze.isInCheckNoChangesMode}function rt(e){ze.isInCheckNoChangesMode=e}function it(){const e=ze.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function st(){return ze.lFrame.bindingIndex}function ot(e){return ze.lFrame.bindingIndex=e}function at(){return ze.lFrame.bindingIndex++}function ut(e){const t=ze.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function ct(e){ze.lFrame.inI18n=e}function lt(e,t){const n=ze.lFrame;n.bindingIndex=n.bindingRootIndex=e,ht(t)}function ht(e){ze.lFrame.currentDirectiveIndex=e}function dt(e){const t=ze.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}function ft(){return ze.lFrame.currentQueryIndex}function pt(e){ze.lFrame.currentQueryIndex=e}function gt(e){const t=e[1];return 2===t.type?t.declTNode:1===t.type?e[6]:null}function mt(e,t,n){if(n&N.SkipSelf){let r=t,i=e;for(;r=r.parent,!(null!==r||n&N.Host||(r=gt(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;t=r,e=i}const r=ze.lFrame=vt();return r.currentTNode=t,r.lView=e,!0}function yt(e){const t=vt(),n=e[1];ze.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function vt(){const e=ze.lFrame,t=null===e?null:e.child;return null===t?_t(e):t}function _t(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function wt(){const e=ze.lFrame;return ze.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const bt=wt;function It(){const e=wt();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Et(){return ze.lFrame.selectedIndex}function Tt(e){ze.lFrame.selectedIndex=e}function St(){const e=ze.lFrame;return Le(e.tView,e.selectedIndex)}function Ct(){ze.lFrame.currentNamespace=Se}function At(){ze.lFrame.currentNamespace=Ce}function kt(){ze.lFrame.currentNamespace=null}function xt(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const t=e.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:s,ngAfterViewChecked:o,ngOnDestroy:a}=t;r&&(e.contentHooks||(e.contentHooks=[])).push(-n,r),i&&((e.contentHooks||(e.contentHooks=[])).push(n,i),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,i)),s&&(e.viewHooks||(e.viewHooks=[])).push(-n,s),o&&((e.viewHooks||(e.viewHooks=[])).push(n,o),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,o)),null!=a&&(e.destroyHooks||(e.destroyHooks=[])).push(n,a)}}function Nt(e,t,n){Dt(e,t,3,n)}function Ot(e,t,n,r){(3&e[2])===n&&Dt(e,t,n,r)}function Rt(e,t){let n=e[2];(3&n)===t&&(n&=2047,n+=1,e[2]=n)}function Dt(e,t,n,r){const i=null!=r?r:-1,s=t.length-1;let o=0;for(let a=void 0!==r?65535&e[18]:0;a<s;a++)if("number"==typeof t[a+1]){if(o=t[a],null!=r&&o>=r)break}else t[a]<0&&(e[18]+=65536),(o<i||-1==i)&&(Pt(e,n,t,a),e[18]=(4294901760&e[18])+a+2),a++}function Pt(e,t,n,r){const i=n[r]<0,s=n[r+1],o=e[i?-n[r]:n[r]];if(i){if(e[2]>>11<e[18]>>16&&(3&e[2])===t){e[2]+=2048;try{s.call(o)}finally{}}}else try{s.call(o)}finally{}}const Lt=-1;class Mt{constructor(e,t,n){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=n}}function Ft(e,t,n){const r=Ne(e);let i=0;for(;i<n.length;){const s=n[i];if("number"==typeof s){if(0!==s)break;i++;const o=n[i++],a=n[i++],u=n[i++];r?e.setAttribute(t,a,u,o):t.setAttributeNS(o,a,u)}else{const o=s,a=n[++i];Vt(o)?r&&e.setProperty(t,o,a):r?e.setAttribute(t,o,a):t.setAttribute(o,a),i++}}return i}function Ut(e){return 3===e||4===e||6===e}function Vt(e){return 64===e.charCodeAt(0)}function jt(e,t){if(null===t||0===t.length);else if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const i=t[r];"number"==typeof i?n=i:0===n||qt(e,n,i,null,-1===n||2===n?t[++r]:null)}}return e}function qt(e,t,n,r,i){let s=0,o=e.length;if(-1===t)o=-1;else for(;s<e.length;){const n=e[s++];if("number"==typeof n){if(n===t){o=-1;break}if(n>t){o=s-1;break}}}for(;s<e.length;){const t=e[s];if("number"==typeof t)break;if(t===n){if(null===r)return void(null!==i&&(e[s+1]=i));if(r===e[s+1])return void(e[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(e.splice(o,0,t),s=o+1),e.splice(s++,0,n),null!==r&&e.splice(s++,0,r),null!==i&&e.splice(s++,0,i)}function Bt(e){return e!==Lt}function zt(e){return 32767&e}function Zt(e,t){let n=e>>16,r=t;for(;n>0;)r=r[15],n--;return r}let Ht=!0;function $t(e){const t=Ht;return Ht=e,t}let Gt=0;function Wt(e,t){const n=Yt(e,t);if(-1!==n)return n;const r=t[1];r.firstCreatePass&&(e.injectorIndex=t.length,Kt(r.data,e),Kt(t,null),Kt(r.blueprint,null));const i=Qt(e,t),s=e.injectorIndex;if(Bt(i)){const e=zt(i),n=Zt(i,t),r=n[1].data;for(let i=0;i<8;i++)t[s+i]=n[e+i]|r[e+i]}return t[s+8]=i,s}function Kt(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Yt(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Qt(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;null!==i;){const e=i[1],t=e.type;if(r=2===t?e.declTNode:1===t?i[6]:null,null===r)return Lt;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Lt}function Jt(e,t,n){!function(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Y)&&(r=n[Y]),null==r&&(r=n[Y]=Gt++);const i=255&r;t.data[e+(i>>5)]|=1<<i}(e,t,n)}function Xt(e,t,n){if(n&N.Optional)return e;_(t,"NodeInjector")}function en(e,t,n,r){if(n&N.Optional&&void 0===r&&(r=null),0==(n&(N.Self|N.Host))){const i=e[9],s=R(void 0);try{return i?i.get(t,r,n&N.Optional):D(t,r,n&N.Optional)}finally{R(s)}}return Xt(r,t,n)}function tn(e,t,n,r=N.Default,i){if(null!==e){const s=function(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(Y)?e[Y]:void 0;return"number"==typeof t?t>=0?255&t:rn:t}(n);if("function"==typeof s){if(!mt(t,e,r))return r&N.Host?Xt(i,n,r):en(t,n,r,i);try{const e=s(r);if(null!=e||r&N.Optional)return e;_(n)}finally{bt()}}else if("number"==typeof s){let i=null,o=Yt(e,t),a=Lt,u=r&N.Host?t[16][6]:null;for((-1===o||r&N.SkipSelf)&&(a=-1===o?Qt(e,t):t[o+8],a!==Lt&&cn(r,!1)?(i=t[1],o=zt(a),t=Zt(a,t)):o=-1);-1!==o;){const e=t[1];if(un(s,o,e.data)){const e=sn(o,t,n,i,r,u);if(e!==nn)return e}a=t[o+8],a!==Lt&&cn(r,t[1].data[o+8]===u)&&un(s,o,t)?(i=e,o=zt(a),t=Zt(a,t)):o=-1}}}return en(t,n,r,i)}const nn={};function rn(){return new ln(Ye(),Ge())}function sn(e,t,n,r,i,s){const o=t[1],a=o.data[e+8],u=on(a,o,n,null==r?ge(a)&&Ht:r!=o&&0!=(3&a.type),i&N.Host&&s===a);return null!==u?an(t,o,u,a):nn}function on(e,t,n,r,i){const s=e.providerIndexes,o=t.data,a=1048575&s,u=e.directiveStart,c=s>>20,l=i?a+c:e.directiveEnd;for(let h=r?a:a+c;h<l;h++){const e=o[h];if(h<u&&n===e||h>=u&&e.type===n)return h}if(i){const e=o[u];if(e&&ye(e)&&e.type===n)return u}return null}function an(e,t,n,r){let i=e[n];const s=t.data;if(i instanceof Mt){const o=i;o.resolving&&function(e,t){throw new m("200",`Circular dependency in DI detected for ${e}`)}(v(s[n]));const a=$t(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?R(o.injectImpl):null;mt(e,r,N.Default);try{i=e[n]=o.factory(void 0,s,e,r),t.firstCreatePass&&n>=r.directiveStart&&function(e,t,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=t.type.prototype;if(r){const r=be(t);(n.preOrderHooks||(n.preOrderHooks=[])).push(e,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-e,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,s))}(n,s[n],t)}finally{null!==u&&R(u),$t(a),o.resolving=!1,bt()}}return i}function un(e,t,n){return!!(n[t+(e>>5)]&1<<e)}function cn(e,t){return!(e&N.Self||e&N.Host&&t)}class ln{constructor(e,t){this._tNode=e,this._lView=t}get(e,t){return tn(this._tNode,this._lView,e,void 0,t)}}function hn(e){return P(()=>{const t=e.prototype.constructor,n=t[K]||dn(t),r=Object.prototype;let i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){const e=i[K]||dn(i);if(e&&e!==n)return e;i=Object.getPrototypeOf(i)}return e=>new e})}function dn(e){return g(e)?()=>{const t=dn(p(e));return t&&t()}:ve(e)}function fn(e){return function(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const e=n.length;let r=0;for(;r<e;){const i=n[r];if(Ut(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<e&&"string"==typeof n[r];)r++;else{if(i===t)return n[r+1];r+=2}}}return null}(Ye(),e)}const pn="__annotations__",gn="__parameters__",mn="__prop__metadata__";function yn(e,t,n,r,i){return P(()=>{const s=vn(t);function o(...e){if(this instanceof o)return s.call(this,...e),this;const t=new o(...e);return function(n){return i&&i(n,...e),(n.hasOwnProperty(pn)?n[pn]:Object.defineProperty(n,pn,{value:[]})[pn]).push(t),r&&r(n),n}}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=e,o.annotationCls=o,o})}function vn(e){return function(...t){if(e){const n=e(...t);for(const e in n)this[e]=n[e]}}}function _n(e,t,n){return P(()=>{const r=vn(t);function i(...e){if(this instanceof i)return r.apply(this,e),this;const t=new i(...e);return n.annotation=t,n;function n(e,n,r){const i=e.hasOwnProperty(gn)?e[gn]:Object.defineProperty(e,gn,{value:[]})[gn];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(t),e}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}const wn=function(){return _n("Attribute",e=>({attributeName:e,__NG_ELEMENT_ID__:()=>fn(e)}))}();class bn{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=b({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}toString(){return`InjectionToken ${this._desc}`}}const In=new bn("AnalyzeForEntryComponents");function En(){const e=q.ng;if(!e||!e.\u0275compilerFacade)throw new Error("Angular JIT compilation failed: '@angular/compiler' not loaded!\n  - JIT compilation is discouraged for production use-cases! Consider AOT mode instead.\n  - Did you bootstrap using '@angular/platform-browser-dynamic' or '@angular/platform-server'?\n  - Alternatively provide the compiler with 'import \"@angular/compiler\";' before bootstrapping.");return e.\u0275compilerFacade}const Tn=Function;function Sn(e){return"function"==typeof e}function Cn(e,t){void 0===t&&(t=e);for(let n=0;n<e.length;n++){let r=e[n];Array.isArray(r)?(t===e&&(t=e.slice(0,n)),Cn(r,t)):t!==e&&t.push(r)}return t}function An(e,t){e.forEach(e=>Array.isArray(e)?An(e,t):t(e))}function kn(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function xn(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function Nn(e,t){const n=[];for(let r=0;r<e;r++)n.push(t);return n}function On(e,t,n){let r=Dn(e,t);return r>=0?e[1|r]=n:(r=~r,function(e,t,n,r){let i=e.length;if(i==t)e.push(n,r);else if(1===i)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;)e[i]=e[i-2],i--;e[t]=n,e[t+1]=r}}(e,r,t,n)),r}function Rn(e,t){const n=Dn(e,t);if(n>=0)return e[1|n]}function Dn(e,t){return function(e,t,n){let r=0,i=e.length>>1;for(;i!==r;){const n=r+(i-r>>1),s=e[n<<1];if(t===s)return n<<1;s>t?i=n:r=n+1}return~(i<<1)}(e,t)}const Pn=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*(arguments|(?:[^()]+\(\[\],)?[^()]+\(arguments\))\)/,Ln=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,Mn=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,Fn=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(\)\s*{\s*super\(\.\.\.arguments\)/;class Un{constructor(e){this._reflect=e||q.Reflect}isReflectionEnabled(){return!0}factory(e){return(...t)=>new e(...t)}_zipTypesAndAnnotations(e,t){let n;n=Nn(void 0===e?t.length:e.length);for(let r=0;r<n.length;r++)n[r]=void 0===e?[]:e[r]&&e[r]!=Object?[e[r]]:[],t&&null!=t[r]&&(n[r]=n[r].concat(t[r]));return n}_ownParameters(e,t){if(n=e.toString(),Pn.test(n)||Fn.test(n)||Ln.test(n)&&!Mn.test(n))return null;var n;if(e.parameters&&e.parameters!==t.parameters)return e.parameters;const r=e.ctorParameters;if(r&&r!==t.ctorParameters){const e="function"==typeof r?r():r,t=e.map(e=>e&&e.type),n=e.map(e=>e&&Vn(e.decorators));return this._zipTypesAndAnnotations(t,n)}const i=e.hasOwnProperty(gn)&&e[gn],s=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",e);return s||i?this._zipTypesAndAnnotations(s,i):Nn(e.length)}parameters(e){if(!Sn(e))return[];const t=jn(e);let n=this._ownParameters(e,t);return n||t===Object||(n=this.parameters(t)),n||[]}_ownAnnotations(e,t){if(e.annotations&&e.annotations!==t.annotations){let t=e.annotations;return"function"==typeof t&&t.annotations&&(t=t.annotations),t}return e.decorators&&e.decorators!==t.decorators?Vn(e.decorators):e.hasOwnProperty(pn)?e[pn]:null}annotations(e){if(!Sn(e))return[];const t=jn(e),n=this._ownAnnotations(e,t)||[];return(t!==Object?this.annotations(t):[]).concat(n)}_ownPropMetadata(e,t){if(e.propMetadata&&e.propMetadata!==t.propMetadata){let t=e.propMetadata;return"function"==typeof t&&t.propMetadata&&(t=t.propMetadata),t}if(e.propDecorators&&e.propDecorators!==t.propDecorators){const t=e.propDecorators,n={};return Object.keys(t).forEach(e=>{n[e]=Vn(t[e])}),n}return e.hasOwnProperty(mn)?e[mn]:null}propMetadata(e){if(!Sn(e))return{};const t=jn(e),n={};if(t!==Object){const e=this.propMetadata(t);Object.keys(e).forEach(t=>{n[t]=e[t]})}const r=this._ownPropMetadata(e,t);return r&&Object.keys(r).forEach(e=>{const t=[];n.hasOwnProperty(e)&&t.push(...n[e]),t.push(...r[e]),n[e]=t}),n}ownPropMetadata(e){return Sn(e)&&this._ownPropMetadata(e,jn(e))||{}}hasLifecycleHook(e,t){return e instanceof Tn&&t in e.prototype}guards(e){return{}}getter(e){return new Function("o","return o."+e+";")}setter(e){return new Function("o","v","return o."+e+" = v;")}method(e){return new Function("o","args",`if (!o.${e}) throw new Error('"${e}" is undefined');\n        return o.${e}.apply(o, args);`)}importUri(e){return"object"==typeof e&&e.filePath?e.filePath:`./${l(e)}`}resourceUri(e){return`./${l(e)}`}resolveIdentifier(e,t,n,r){return r}resolveEnum(e,t){return e[t]}}function Vn(e){return e?e.map(e=>new(0,e.type.annotationCls)(...e.args?e.args:[])):[]}function jn(e){const t=e.prototype?Object.getPrototypeOf(e.prototype):null;return(t?t.constructor:null)||Object}const qn={},Bn=/\n/gm,zn="__source",Zn=u({provide:String,useValue:u});let Hn;function $n(e){const t=Hn;return Hn=e,t}function Gn(e,t=N.Default){if(void 0===Hn)throw new Error("inject() must be called from an injection context");return null===Hn?D(e,void 0,t):Hn.get(e,t&N.Optional?null:void 0,t)}function Wn(e,t=N.Default){return(O||Gn)(p(e),t)}function Kn(e){throw new Error("invalid")}function Yn(e){const t=[];for(let n=0;n<e.length;n++){const r=p(e[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let e,n=N.Default;for(let t=0;t<r.length;t++){const i=r[t],s=i.__NG_DI_FLAG__;"number"==typeof s?-1===s?e=i.token:n|=s:e=i}t.push(Wn(e,n))}else t.push(Wn(r))}return t}function Qn(e,t){return e.__NG_DI_FLAG__=t,e.prototype.__NG_DI_FLAG__=t,e}const Jn=Qn(_n("Inject",e=>({token:e})),-1),Xn=Qn(_n("Optional"),8),er=Qn(_n("Self"),2),tr=Qn(_n("SkipSelf"),4),nr=Qn(_n("Host"),1);let rr,ir,sr=null;function or(e){return ar((sr=sr||new Un).parameters(e))}function ar(e){return e.map(e=>function(e){const t={token:null,attribute:null,host:!1,optional:!1,self:!1,skipSelf:!1};if(Array.isArray(e)&&e.length>0)for(let n=0;n<e.length;n++){const r=e[n];if(void 0===r)continue;const i=Object.getPrototypeOf(r);if(r instanceof Xn||"Optional"===i.ngMetadataName)t.optional=!0;else if(r instanceof tr||"SkipSelf"===i.ngMetadataName)t.skipSelf=!0;else if(r instanceof er||"Self"===i.ngMetadataName)t.self=!0;else if(r instanceof nr||"Host"===i.ngMetadataName)t.host=!0;else if(r instanceof Jn)t.token=r.token;else if(r instanceof wn){if(void 0===r.attributeName)throw new Error("Attribute name must be defined.");t.attribute=r.attributeName}else t.token=r}else t.token=void 0===e||Array.isArray(e)&&0===e.length?null:e;return t}(e))}function ur(){if(void 0===rr&&(rr=null,q.trustedTypes))try{rr=q.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch(e){}return rr}function cr(e){var t;return(null===(t=ur())||void 0===t?void 0:t.createHTML(e))||e}function lr(){if(void 0===ir&&(ir=null,q.trustedTypes))try{ir=q.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch(e){}return ir}function hr(e){var t;return(null===(t=lr())||void 0===t?void 0:t.createHTML(e))||e}function dr(e){var t;return(null===(t=lr())||void 0===t?void 0:t.createScript(e))||e}function fr(e){var t;return(null===(t=lr())||void 0===t?void 0:t.createScriptURL(e))||e}class pr{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class gr extends pr{getTypeName(){return"HTML"}}class mr extends pr{getTypeName(){return"Style"}}class yr extends pr{getTypeName(){return"Script"}}class vr extends pr{getTypeName(){return"URL"}}class _r extends pr{getTypeName(){return"ResourceURL"}}function wr(e){return e instanceof pr?e.changingThisBreaksApplicationSecurity:e}function br(e,t){const n=Ir(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===t}function Ir(e){return e instanceof pr&&e.getTypeName()||null}function Er(e){return new gr(e)}function Tr(e){return new mr(e)}function Sr(e){return new yr(e)}function Cr(e){return new vr(e)}function Ar(e){return new _r(e)}function kr(e){const t=new Nr(e);return function(){try{return!!(new window.DOMParser).parseFromString(cr(""),"text/html")}catch(e){return!1}}()?new xr(t):t}class xr{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(cr(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch(t){return null}}}class Nr{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e);const t=this.inertDocument.createElement("body");e.appendChild(t)}}getInertBodyElement(e){const t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=cr(e),t;const n=this.inertDocument.createElement("body");return n.innerHTML=cr(e),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(e){const t=e.attributes;for(let r=t.length-1;0<r;r--){const n=t.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||e.removeAttribute(n)}let n=e.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Or=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Rr=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Dr(e){return(e=String(e)).match(Or)||e.match(Rr)?e:"unsafe:"+e}function Pr(e){return(e=String(e)).split(",").map(e=>Dr(e.trim())).join(", ")}function Lr(e){const t={};for(const n of e.split(","))t[n]=!0;return t}function Mr(...e){const t={};for(const n of e)for(const e in n)n.hasOwnProperty(e)&&(t[e]=!0);return t}const Fr=Lr("area,br,col,hr,img,wbr"),Ur=Lr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Vr=Lr("rp,rt"),jr=Mr(Vr,Ur),qr=Mr(Fr,Mr(Ur,Lr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Mr(Vr,Lr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),jr),Br=Lr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),zr=Lr("srcset"),Zr=Mr(Br,zr,Lr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Lr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Hr=Lr("script,style,template");class $r{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,n=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?n=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,n&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let e=this.checkClobberedElement(t,t.nextSibling);if(e){t=e;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!qr.hasOwnProperty(t))return this.sanitizedSomething=!0,!Hr.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const n=e.attributes;for(let r=0;r<n.length;r++){const e=n.item(r),t=e.name,i=t.toLowerCase();if(!Zr.hasOwnProperty(i)){this.sanitizedSomething=!0;continue}let s=e.value;Br[i]&&(s=Dr(s)),zr[i]&&(s=Pr(s)),this.buf.push(" ",t,'="',Kr(s),'"')}return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();qr.hasOwnProperty(t)&&!Fr.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(Kr(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const Gr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Wr=/([^\#-~ |!])/g;function Kr(e){return e.replace(/&/g,"&amp;").replace(Gr,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(Wr,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Yr;function Qr(e,t){let n=null;try{Yr=Yr||kr(e);let r=t?String(t):"";n=Yr.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=Yr.getInertBodyElement(r)}while(r!==s);return cr((new $r).sanitizeChildren(Jr(n)||n))}finally{if(n){const e=Jr(n)||n;for(;e.firstChild;)e.removeChild(e.firstChild)}}}function Jr(e){return"content"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var Xr=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}({});function ei(e){const t=ui();return t?hr(t.sanitize(Xr.HTML,e)||""):br(e,"HTML")?hr(wr(e)):Qr(xe(),y(e))}function ti(e){const t=ui();return t?t.sanitize(Xr.STYLE,e)||"":br(e,"Style")?wr(e):y(e)}function ni(e){const t=ui();return t?t.sanitize(Xr.URL,e)||"":br(e,"URL")?wr(e):Dr(y(e))}function ri(e){const t=ui();if(t)return fr(t.sanitize(Xr.RESOURCE_URL,e)||"");if(br(e,"ResourceURL"))return fr(wr(e));throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)")}function ii(e){const t=ui();if(t)return dr(t.sanitize(Xr.SCRIPT,e)||"");if(br(e,"Script"))return dr(wr(e));throw new Error("unsafe value used in a script context")}function si(e){return cr(e[0])}function oi(e){return function(e){var t;return(null===(t=ur())||void 0===t?void 0:t.createScriptURL(e))||e}(e[0])}function ai(e,t,n){return function(e,t){return"src"===t&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===t&&("base"===e||"link"===e)?ri:ni}(t,n)(e)}function ui(){const e=Ge();return e&&e[12]}function ci(e,t){e.__ngContext__=t}function li(e){const t=function(e){return e.__ngContext__||null}(e);return t?Array.isArray(t)?t:t.lView:null}function hi(e){return e.ngDebugContext}function di(e){return e.ngOriginalError}function fi(e,...t){e.error(...t)}class pi{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e),n=this._findContext(e),r=function(e){return e.ngErrorLogger||fi}(e);r(this._console,"ERROR",e),t&&r(this._console,"ORIGINAL ERROR",t),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(e){return e?hi(e)?hi(e):this._findContext(di(e)):null}_findOriginalError(e){let t=di(e);for(;t&&di(t);)t=di(t);return t}}const gi=/^>|^->|<!--|-->|--!>|<!-$/g,mi=/(<|>)/,yi=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(q))();function vi(e){return e.ownerDocument.defaultView}function _i(e){return e.ownerDocument}function wi(e){return e.ownerDocument.body}function bi(e){return e instanceof Function?e():e}var Ii=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}({});let Ei;function Ti(e,t){return Ei(e,t)}function Si(e){const t=e[3];return fe(t)?t[3]:t}function Ci(e){return ki(e[13])}function Ai(e){return ki(e[4])}function ki(e){for(;null!==e&&!fe(e);)e=e[4];return e}function xi(e,t,n,r,i){if(null!=r){let s,o=!1;fe(r)?s=r:de(r)&&(o=!0,r=r[0]);const a=Re(r);0===e&&null!==n?null==i?qi(t,n,a):ji(t,n,a,i||null,!0):1===e&&null!==n?ji(t,n,a,i||null,!0):2===e?Xi(t,a,o):3===e&&t.destroyNode(a),null!=s&&function(e,t,n,r,i){const s=n[7];s!==Re(n)&&xi(t,e,r,s,i);for(let o=he;o<n.length;o++){const i=n[o];ts(i[1],i,e,t,r,s)}}(t,e,s,n,i)}}function Ni(e,t){return Ne(e)?e.createText(t):e.createTextNode(t)}function Oi(e,t,n){Ne(e)?e.setValue(t,n):t.textContent=n}function Ri(e,t){return e.createComment(function(e){return e.replace(gi,e=>e.replace(mi,"\u200b$1\u200b"))}(t))}function Di(e,t,n){return Ne(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function Pi(e,t){const n=e[9],r=n.indexOf(t),i=t[3];1024&t[2]&&(t[2]&=-1025,Be(i,-1)),n.splice(r,1)}function Li(e,t){if(e.length<=he)return;const n=he+t,r=e[n];if(r){const s=r[17];null!==s&&s!==e&&Pi(s,r),t>0&&(e[n-1][4]=r[4]);const o=xn(e,he+t);ts(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=o[19];null!==a&&a.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function Mi(e,t){if(!(256&t[2])){const n=t[11];Ne(n)&&n.destroyNode&&ts(e,t,n,3,null,null),function(e){let t=e[13];if(!t)return Fi(e[1],e);for(;t;){let n=null;if(de(t))n=t[13];else{const e=t[10];e&&(n=e)}if(!n){for(;t&&!t[4]&&t!==e;)de(t)&&Fi(t[1],t),t=t[3];null===t&&(t=e),de(t)&&Fi(t[1],t),n=t&&t[4]}t=n}}(t)}}function Fi(e,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const e=t[n[r]];if(!(e instanceof Mt)){const t=n[r+1];if(Array.isArray(t))for(let n=0;n<t.length;n+=2){const r=e[t[n]],i=t[n+1];try{i.call(r)}finally{}}else try{t.call(e)}finally{}}}}(e,t),function(e,t){const n=e.cleanup,r=t[7];let i=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const e=n[s+1],o="function"==typeof e?e(t):Re(t[e]),a=r[i=n[s+2]],u=n[s+3];"boolean"==typeof u?o.removeEventListener(n[s],a,u):u>=0?r[i=u]():r[i=-u].unsubscribe(),s+=2}else{const e=r[i=n[s+1]];n[s].call(e)}if(null!==r){for(let e=i+1;e<r.length;e++)(0,r[e])();t[7]=null}}(e,t),1===t[1].type&&Ne(t[11])&&t[11].destroy();const n=t[17];if(null!==n&&fe(t[3])){n!==t[3]&&Pi(n,t);const r=t[19];null!==r&&r.detachView(e)}}}function Ui(e,t,n){return Vi(e,t.parent,n)}function Vi(e,t,n){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[0];if(2&r.flags){const t=e.data[r.directiveStart].encapsulation;if(t===M.None||t===M.Emulated)return null}return Pe(r,n)}function ji(e,t,n,r,i){Ne(e)?e.insertBefore(t,n,r,i):t.insertBefore(n,r,i)}function qi(e,t,n){Ne(e)?e.appendChild(t,n):t.appendChild(n)}function Bi(e,t,n,r,i){null!==r?ji(e,t,n,r,i):qi(e,t,n)}function zi(e,t){return Ne(e)?e.parentNode(t):t.parentNode}function Zi(e,t,n){return Gi(e,t,n)}function Hi(e,t,n){return 40&e.type?Pe(e,n):null}let $i,Gi=Hi;function Wi(e,t){Gi=e,$i=t}function Ki(e,t,n,r){const i=Ui(e,r,t),s=t[11],o=Zi(r.parent||t[6],r,t);if(null!=i)if(Array.isArray(n))for(let a=0;a<n.length;a++)Bi(s,i,n[a],o,!1);else Bi(s,i,n,o,!1);void 0!==$i&&$i(s,r,t,n,i)}function Yi(e,t){if(null!==t){const n=t.type;if(3&n)return Pe(t,e);if(4&n)return Ji(-1,e[t.index]);if(8&n){const n=t.child;if(null!==n)return Yi(e,n);{const n=e[t.index];return fe(n)?Ji(-1,n):Re(n)}}if(32&n)return Ti(t,e)()||Re(e[t.index]);{const n=Qi(e,t);return null!==n?Array.isArray(n)?n[0]:Yi(Si(e[16]),n):Yi(e,t.next)}}return null}function Qi(e,t){return null!==t?e[16][6].projection[t.projection]:null}function Ji(e,t){const n=he+e+1;if(n<t.length){const e=t[n],r=e[1].firstChild;if(null!==r)return Yi(e,r)}return t[7]}function Xi(e,t,n){const r=zi(e,t);r&&function(e,t,n,r){Ne(e)?e.removeChild(t,n,r):t.removeChild(n)}(e,r,t,n)}function es(e,t,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;if(o&&0===t&&(a&&ci(Re(a),r),n.flags|=4),64!=(64&n.flags))if(8&u)es(e,t,n.child,r,i,s,!1),xi(t,e,i,a,s);else if(32&u){const o=Ti(n,r);let u;for(;u=o();)xi(t,e,i,u,s);xi(t,e,i,a,s)}else 16&u?ns(e,t,r,n,i,s):xi(t,e,i,a,s);n=o?n.projectionNext:n.next}}function ts(e,t,n,r,i,s){es(n,r,e.firstChild,t,i,s,!1)}function ns(e,t,n,r,i,s){const o=n[16],a=o[6].projection[r.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++)xi(t,e,i,a[u],s);else es(e,t,a,o[3],i,s,!0)}function rs(e,t,n){Ne(e)?e.setAttribute(t,"style",n):t.style.cssText=n}function is(e,t,n){Ne(e)?""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n):t.className=n}function ss(e,t,n){let r=e.length;for(;;){const i=e.indexOf(t,n);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){const n=t.length;if(i+n===r||e.charCodeAt(i+n)<=32)return i}n=i+1}}const os="ng-template";function as(e,t,n){let r=0;for(;r<e.length;){let i=e[r++];if(n&&"class"===i){if(i=e[r],-1!==ss(i.toLowerCase(),t,0))return!0}else if(1===i){for(;r<e.length&&"string"==typeof(i=e[r++]);)if(i.toLowerCase()===t)return!0;return!1}}return!1}function us(e){return 4===e.type&&e.value!==os}function cs(e,t,n){return t===(4!==e.type||n?e.value:os)}function ls(e,t,n){let r=4;const i=e.attrs||[],s=function(e){for(let t=0;t<e.length;t++)if(Ut(e[t]))return t;return e.length}(i);let o=!1;for(let a=0;a<t.length;a++){const u=t[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!cs(e,u,n)||""===u&&1===t.length){if(hs(r))return!1;o=!0}}else{const c=8&r?u:t[++a];if(8&r&&null!==e.attrs){if(!as(e.attrs,c,n)){if(hs(r))return!1;o=!0}continue}const l=ds(8&r?"class":u,i,us(e),n);if(-1===l){if(hs(r))return!1;o=!0;continue}if(""!==c){let e;e=l>s?"":i[l+1].toLowerCase();const t=8&r?e:null;if(t&&-1!==ss(t,c,0)||2&r&&c!==e){if(hs(r))return!1;o=!0}}}}else{if(!o&&!hs(r)&&!hs(u))return!1;if(o&&hs(u))continue;o=!1,r=u|1&r}}return hs(r)||o}function hs(e){return 0==(1&e)}function ds(e,t,n,r){if(null===t)return-1;let i=0;if(r||!n){let n=!1;for(;i<t.length;){const r=t[i];if(r===e)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let e=t[++i];for(;"string"==typeof e;)e=t[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function fs(e,t,n=!1){for(let r=0;r<t.length;r++)if(ls(e,t[r],n))return!0;return!1}function ps(e,t){e:for(let n=0;n<t.length;n++){const r=t[n];if(e.length===r.length){for(let t=0;t<e.length;t++)if(e[t]!==r[t])continue e;return!0}}return!1}function gs(e,t){return e?":not("+t.trim()+")":t}function ms(e){let t=e[0],n=1,r=2,i="",s=!1;for(;n<e.length;){let o=e[n];if("string"==typeof o)if(2&r){const t=e[++n];i+="["+o+(t.length>0?'="'+t+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""===i||hs(o)||(t+=gs(s,i),i=""),r=o,s=s||!hs(r);n++}return""!==i&&(t+=gs(s,i)),t}const ys={};function vs(e){_s(We(),Ge(),Et()+e,nt())}function _s(e,t,n,r){if(!r)if(3==(3&t[2])){const r=e.preOrderCheckHooks;null!==r&&Nt(t,r,n)}else{const r=e.preOrderHooks;null!==r&&Ot(t,r,0,n)}Tt(n)}function ws(e,t){return e<<17|t<<2}function bs(e){return e>>17&32767}function Is(e){return 2|e}function Es(e){return(131068&e)>>2}function Ts(e,t){return-131069&e|t<<2}function Ss(e){return 1|e}function Cs(e,t){const n=e.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const n=e.data[s];pt(i),n.contentQueries(2,t[s],s)}}}function As(e,t,n,r,i,s,o,a,u,c){const l=t.blueprint.slice();return l[0]=i,l[2]=140|r,qe(l),l[3]=l[15]=e,l[8]=n,l[10]=o||e&&e[10],l[11]=a||e&&e[11],l[12]=u||e&&e[12]||null,l[9]=c||e&&e[9]||null,l[6]=s,l[16]=2==t.type?e[16]:l,l}function ks(e,t,n,r,i){let s=e.data[t];if(null===s)s=xs(e,t,n,r,i),ze.lFrame.inI18n&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const e=Je();s.injectorIndex=null===e?-1:e.injectorIndex}return Xe(s,!0),s}function xs(e,t,n,r,i){const s=Qe(),o=et(),a=e.data[t]=function(e,t,n,r,i,s){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,t,r,i);return null===e.firstChild&&(e.firstChild=a),null!==s&&(o?null==s.child&&null!==a.parent&&(s.child=a):null===s.next&&(s.next=a)),a}function Ns(e,t,n,r){if(0===n)return-1;const i=t.length;for(let s=0;s<n;s++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function Os(e,t,n){yt(t);try{const r=e.viewQuery;null!==r&&co(1,r,n);const i=e.template;null!==i&&Ps(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&Cs(e,t),e.staticViewQueries&&co(2,e.viewQuery,n);const s=e.components;null!==s&&function(e,t){for(let n=0;n<t.length;n++)io(e,t[n])}(t,s)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0),r}finally{t[2]&=-5,It()}}function Rs(e,t,n,r){const i=t[2];if(256==(256&i))return;yt(t);const s=nt();try{qe(t),ot(e.bindingStartIndex),null!==n&&Ps(e,t,n,2,r);const o=3==(3&i);if(!s)if(o){const n=e.preOrderCheckHooks;null!==n&&Nt(t,n,null)}else{const n=e.preOrderHooks;null!==n&&Ot(t,n,0,null),Rt(t,0)}if(function(e){for(let t=Ci(e);null!==t;t=Ai(t)){if(!t[2])continue;const e=t[9];for(let t=0;t<e.length;t++){const n=e[t],r=n[3];0==(1024&n[2])&&Be(r,1),n[2]|=1024}}}(t),function(e){for(let t=Ci(e);null!==t;t=Ai(t))for(let e=he;e<t.length;e++){const n=t[e],r=n[1];Ve(n)&&Rs(r,n,r.template,n[8])}}(t),null!==e.contentQueries&&Cs(e,t),!s)if(o){const n=e.contentCheckHooks;null!==n&&Nt(t,n)}else{const n=e.contentHooks;null!==n&&Ot(t,n,1),Rt(t,1)}!function(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let e=0;e<n.length;e++){const r=n[e];if(r<0)Tt(~r);else{const i=r,s=n[++e],o=n[++e];lt(s,i),o(2,t[i])}}}finally{Tt(-1)}}(e,t);const a=e.components;null!==a&&function(e,t){for(let n=0;n<t.length;n++)no(e,t[n])}(t,a);const u=e.viewQuery;if(null!==u&&co(2,u,r),!s)if(o){const n=e.viewCheckHooks;null!==n&&Nt(t,n)}else{const n=e.viewHooks;null!==n&&Ot(t,n,2),Rt(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),s||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,Be(t[3],-1))}finally{It()}}function Ds(e,t,n,r){const i=t[10],s=!nt(),o=Ue(t);try{s&&!o&&i.begin&&i.begin(),o&&Os(e,t,r),Rs(e,t,n,r)}finally{s&&!o&&i.end&&i.end()}}function Ps(e,t,n,r,i){const s=Et(),o=2&r;try{Tt(-1),o&&t.length>le&&_s(e,t,le,nt()),n(r,i)}finally{Tt(s)}}function Ls(e,t,n){if(pe(t)){const r=t.directiveEnd;for(let i=t.directiveStart;i<r;i++){const t=e.data[i];t.contentQueries&&t.contentQueries(1,n[i],i)}}}function Ms(e,t,n){Ze()&&(function(e,t,n,r){const i=n.directiveStart,s=n.directiveEnd;e.firstCreatePass||Wt(n,t),ci(r,t);const o=n.initialInputs;for(let a=i;a<s;a++){const r=e.data[a],s=ye(r);s&&Ys(t,n,r);const u=an(t,e,a,n);ci(u,t),null!==o&&Xs(0,a-i,u,r,0,o),s&&(Fe(n.index,t)[8]=u)}}(e,t,n,Pe(n,t)),128==(128&n.flags)&&function(e,t,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=ze.lFrame.currentDirectiveIndex;try{Tt(s);for(let n=r;n<i;n++){const r=e.data[n],i=t[n];ht(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||Hs(r,i)}}finally{Tt(-1),ht(o)}}(e,t,n))}function Fs(e,t,n=Pe){const r=t.localNames;if(null!==r){let i=t.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(t,e):e[o];e[i++]=a}}}function Us(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Vs(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function Vs(e,t,n,r,i,s,o,a,u,c){const l=le+r,h=l+i,d=function(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:ys);return n}(l,h),f="function"==typeof c?c():c;return d[1]={type:e,blueprint:d,template:n,queries:null,viewQuery:a,declTNode:t,data:d.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:f,incompleteFirstPass:!1}}function js(e,t,n,r){const i=ho(t);null===n?i.push(r):(i.push(n),e.firstCreatePass&&fo(e).push(r,i.length-1))}function qs(e,t,n){for(let r in e)if(e.hasOwnProperty(r)){const i=e[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(t,i):n[r]=[t,i]}return n}function Bs(e,t,n,r,i,s,o,a){const u=Pe(t,n);let c,l=t.inputs;var h;!a&&null!=l&&(c=l[r])?(mo(e,n,c,r,i),ge(t)&&function(e,t){const n=Fe(t,e);16&n[2]||(n[2]|=64)}(n,t.index)):3&t.type&&(r="class"===(h=r)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,i=null!=o?o(i,t.value||"",r):i,Ne(s)?s.setProperty(u,r,i):Vt(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function zs(e,t,n,r){let i=!1;if(Ze()){const s=function(e,t,n){const r=e.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];fs(n,o.selectors,!1)&&(i||(i=[]),Jt(Wt(n,t),e,o.type),ye(o)?($s(e,n),i.unshift(o)):i.push(o))}return i}(e,t,n),o=null===r?null:{"":-1};if(null!==s){i=!0,Ws(n,e.data.length,s.length);for(let e=0;e<s.length;e++){const t=s[e];t.providersResolver&&t.providersResolver(t)}let r=!1,a=!1,u=Ns(e,t,s.length,null);for(let i=0;i<s.length;i++){const c=s[i];n.mergedAttrs=jt(n.mergedAttrs,c.hostAttrs),Ks(e,n,t,u,c),Gs(u,c,o),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const l=c.type.prototype;!r&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index),r=!0),a||!l.ngOnChanges&&!l.ngDoCheck||((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index),a=!0),u++}!function(e,t){const n=t.directiveEnd,r=e.data,i=t.attrs,s=[];let o=null,a=null;for(let u=t.directiveStart;u<n;u++){const e=r[u],n=e.inputs,c=null===i||us(t)?null:eo(n,i);s.push(c),o=qs(n,u,o),a=qs(e.outputs,u,a)}null!==o&&(o.hasOwnProperty("class")&&(t.flags|=16),o.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=s,t.inputs=o,t.outputs=a}(e,n)}o&&function(e,t,n){if(t){const r=e.localNames=[];for(let e=0;e<t.length;e+=2){const i=n[t[e+1]];if(null==i)throw new m("301",`Export of name '${t[e+1]}' not found!`);r.push(t[e],i)}}}(n,r,o)}return n.mergedAttrs=jt(n.mergedAttrs,n.attrs),i}function Zs(e,t,n,r,i,s){const o=s.hostBindings;if(o){let n=e.hostBindingOpCodes;null===n&&(n=e.hostBindingOpCodes=[]);const s=~t.index;(function(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(n)!=s&&n.push(s),n.push(r,i,o)}}function Hs(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function $s(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function Gs(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;ye(t)&&(n[""]=e)}}function Ws(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function Ks(e,t,n,r,i){e.data[r]=i;const s=i.factory||(i.factory=ve(i.type)),o=new Mt(s,ye(i),null);e.blueprint[r]=o,n[r]=o,Zs(e,t,0,r,Ns(e,n,i.hostVars,ys),i)}function Ys(e,t,n){const r=Pe(t,e),i=Us(n),s=e[10],o=so(e,As(e,i,null,n.onPush?64:16,r,t,s,s.createRenderer(r,n),null,null));e[t.index]=o}function Qs(e,t,n,r,i,s){const o=Pe(e,t);Js(t[11],o,s,e.value,n,r,i)}function Js(e,t,n,r,i,s,o){if(null==s)Ne(e)?e.removeAttribute(t,i,n):t.removeAttribute(i);else{const a=null==o?y(s):o(s,r||"",i);Ne(e)?e.setAttribute(t,i,a,n):n?t.setAttributeNS(n,i,a):t.setAttribute(i,a)}}function Xs(e,t,n,r,i,s){const o=s[t];if(null!==o){const e=r.setInput;for(let t=0;t<o.length;){const i=o[t++],s=o[t++],a=o[t++];null!==e?r.setInput(n,a,i,s):n[s]=a}}}function eo(e,t){let n=null,r=0;for(;r<t.length;){const i=t[r];if(0!==i)if(5!==i){if("number"==typeof i)break;e.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,e[i],t[r+1])),r+=2}else r+=2;else r+=4}return n}function to(e,t,n,r){return new Array(e,!0,!1,t,null,0,r,n,null,null)}function no(e,t){const n=Fe(t,e);if(Ve(n)){const e=n[1];80&n[2]?Rs(e,n,e.template,n[8]):n[5]>0&&ro(n)}}function ro(e){for(let n=Ci(e);null!==n;n=Ai(n))for(let e=he;e<n.length;e++){const t=n[e];if(1024&t[2]){const e=t[1];Rs(e,t,e.template,t[8])}else t[5]>0&&ro(t)}const t=e[1].components;if(null!==t)for(let n=0;n<t.length;n++){const r=Fe(t[n],e);Ve(r)&&r[5]>0&&ro(r)}}function io(e,t){const n=Fe(t,e),r=n[1];!function(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(r,n),Os(r,n,n[8])}function so(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function oo(e){for(;e;){e[2]|=64;const t=Si(e);if(0!=(512&e[2])&&!t)return e;e=t}return null}function ao(e,t,n){const r=t[10];r.begin&&r.begin();try{Rs(e,t,e.template,n)}catch(i){throw go(t,i),i}finally{r.end&&r.end()}}function uo(e){!function(e){for(let t=0;t<e.components.length;t++){const n=e.components[t],r=li(n),i=r[1];Ds(i,r,i.template,n)}}(e[8])}function co(e,t,n){pt(0),t(e,n)}const lo=(()=>Promise.resolve(null))();function ho(e){return e[7]||(e[7]=[])}function fo(e){return e.cleanup||(e.cleanup=[])}function po(e,t,n){return(null===e||ye(e))&&(n=function(e){for(;Array.isArray(e);){if("object"==typeof e[1])return e;e=e[0]}return null}(n[t.index])),n[11]}function go(e,t){const n=e[9],r=n?n.get(pi,null):null;r&&r.handleError(t)}function mo(e,t,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],u=t[o],c=e.data[o];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function yo(e,t,n){const r=De(t,e);Oi(e[11],r,n)}function vo(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,s=0;if(null!==t)for(let o=0;o<t.length;o++){const e=t[o];"number"==typeof e?s=e:1==s?i=h(i,e):2==s&&(r=h(r,e+": "+t[++o]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}const _o=new bn("INJECTOR",-1);class wo{get(e,t=qn){if(t===qn){const t=new Error(`NullInjectorError: No provider for ${l(e)}!`);throw t.name="NullInjectorError",t}return t}}const bo=new bn("Set Injector scope."),Io={},Eo={};let To;function So(){return void 0===To&&(To=new wo),To}function Co(e,t=null,n=null,r){return new Ao(e,n,t||So(),r)}class Ao{constructor(e,t,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];t&&An(t,n=>this.processProvider(n,e,t)),An([e],e=>this.processInjectorType(e,[],i)),this.records.set(_o,No(void 0,this));const s=this.records.get(bo);this.scope=null!=s?s.value:null,this.source=r||("object"==typeof e?null:l(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,t=qn,n=N.Default){this.assertNotDestroyed();const r=$n(this);try{if(!(n&N.SkipSelf)){let t=this.records.get(e);if(void 0===t){const n=("function"==typeof(i=e)||"object"==typeof i&&i instanceof bn)&&E(e);t=n&&this.injectableDefInScope(n)?No(ko(e),Io):null,this.records.set(e,t)}if(null!=t)return this.hydrate(e,t)}return(n&N.Self?So():this.parent).get(e,t=n&N.Optional&&t===qn?null:t)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(l(e)),r)throw s;return function(e,t,n,r){const i=e.ngTempTokenPath;throw t[zn]&&i.unshift(t[zn]),e.message=function(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;let i=l(t);if(Array.isArray(t))i=t.map(l).join(" -> ");else if("object"==typeof t){let e=[];for(let n in t)if(t.hasOwnProperty(n)){let r=t[n];e.push(n+":"+("string"==typeof r?JSON.stringify(r):l(r)))}i=`{${e.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${e.replace(Bn,"\n  ")}`}("\n"+e.message,i,n,r),e.ngTokenPath=i,e.ngTempTokenPath=null,e}(s,e,"R3InjectorError",this.source)}throw s}finally{$n(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((t,n)=>e.push(l(n))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(e,t,n){if(!(e=p(e)))return!1;let r=S(e);const i=null==r&&e.ngModule||void 0,s=void 0===i?e:i,o=-1!==n.indexOf(s);if(void 0!==i&&(r=S(i)),null==r)return!1;if(null!=r.imports&&!o){let e;n.push(s);try{An(r.imports,r=>{this.processInjectorType(r,t,n)&&(void 0===e&&(e=[]),e.push(r))})}finally{}if(void 0!==e)for(let t=0;t<e.length;t++){const{ngModule:n,providers:r}=e[t];An(r,e=>this.processProvider(e,n,r||z))}}this.injectorDefTypes.add(s);const a=ve(s)||(()=>new s);this.records.set(s,No(a,Io));const u=r.providers;if(null!=u&&!o){const t=e;An(u,e=>this.processProvider(e,t,u))}return void 0!==i&&void 0!==e.providers}processProvider(e,t,n){let r=Ro(e=p(e))?e:p(e&&e.provide);const i=function(e,t,n){return Oo(e)?No(void 0,e.useValue):No(xo(e),Io)}(e);if(Ro(e)||!0!==e.multi)this.records.get(r);else{let t=this.records.get(r);t||(t=No(void 0,Io,!0),t.factory=()=>Yn(t.multi),this.records.set(r,t)),r=e,t.multi.push(e)}this.records.set(r,i)}hydrate(e,t){var n;return t.value===Io&&(t.value=Eo,t.value=t.factory()),"object"==typeof t.value&&t.value&&null!==(n=t.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=p(e.providedIn);return"string"==typeof t?"any"===t||t===this.scope:this.injectorDefTypes.has(t)}}function ko(e){const t=E(e),n=null!==t?t.factory:ve(e);if(null!==n)return n;if(e instanceof bn)throw new Error(`Token ${l(e)} is missing a \u0275prov definition.`);if(e instanceof Function)return function(e){const t=e.length;if(t>0){const n=Nn(t,"?");throw new Error(`Can't resolve all parameters for ${l(e)}: (${n.join(", ")}).`)}const n=function(e){const t=e&&(e[C]||e[k]);if(t){const n=function(e){if(e.hasOwnProperty("name"))return e.name;const t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),t}return null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new Error("unreachable")}function xo(e,t,n){let r;if(Ro(e)){const t=p(e);return ve(t)||ko(t)}if(Oo(e))r=()=>p(e.useValue);else if((i=e)&&i.useFactory)r=()=>e.useFactory(...Yn(e.deps||[]));else if(function(e){return!(!e||!e.useExisting)}(e))r=()=>Wn(p(e.useExisting));else{const t=p(e&&(e.useClass||e.provide));if(!function(e){return!!e.deps}(e))return ve(t)||ko(t);r=()=>new t(...Yn(e.deps))}var i;return r}function No(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function Oo(e){return null!==e&&"object"==typeof e&&Zn in e}function Ro(e){return"function"==typeof e}const Do=function(e,t,n){return function(e,t=null,n=null,r){const i=Co(e,t,n,r);return i._resolveInjectorDefTypes(),i}({name:n},t,e,n)};let Po=(()=>{class e{static create(e,t){return Array.isArray(e)?Do(e,t,""):Do(e.providers,e.parent,e.name||"")}}return e.THROW_IF_NOT_FOUND=qn,e.NULL=new wo,e.\u0275prov=b({token:e,providedIn:"any",factory:()=>Wn(_o)}),e.__NG_ELEMENT_ID__=-1,e})();function Lo(e,t){xt(li(e)[1],Ye())}function Mo(e){return Object.getPrototypeOf(e.prototype).constructor}function Fo(e){let t=Mo(e.type),n=!0;const r=[e];for(;t;){let i;if(ye(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Error("Directives cannot inherit Components");i=t.\u0275dir}if(i){if(n){r.push(i);const t=e;t.inputs=Uo(e.inputs),t.declaredInputs=Uo(e.declaredInputs),t.outputs=Uo(e.outputs);const n=i.hostBindings;n&&qo(e,n);const s=i.viewQuery,o=i.contentQueries;if(s&&Vo(e,s),o&&jo(e,o),c(e.inputs,i.inputs),c(e.declaredInputs,i.declaredInputs),c(e.outputs,i.outputs),ye(i)&&i.data.animation){const t=e.data;t.animation=(t.animation||[]).concat(i.data.animation)}}const t=i.features;if(t)for(let r=0;r<t.length;r++){const i=t[r];i&&i.ngInherit&&i(e),i===Fo&&(n=!1)}}t=Object.getPrototypeOf(t)}!function(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){const i=e[r];i.hostVars=t+=i.hostVars,i.hostAttrs=jt(i.hostAttrs,n=jt(n,i.hostAttrs))}}(r)}function Uo(e){return e===B?{}:e===z?[]:e}function Vo(e,t){const n=e.viewQuery;e.viewQuery=n?(e,r)=>{t(e,r),n(e,r)}:t}function jo(e,t){const n=e.contentQueries;e.contentQueries=n?(e,r,i)=>{t(e,r,i),n(e,r,i)}:t}function qo(e,t){const n=e.hostBindings;e.hostBindings=n?(e,r)=>{t(e,r),n(e,r)}:t}const Bo=["providersResolver"],zo=["template","decls","consts","vars","onPush","ngContentSelectors","styles","encapsulation","schemas"];function Zo(e){let t,n=Mo(e.type);t=ye(e)?n.\u0275cmp:n.\u0275dir;const r=e;for(const i of Bo)r[i]=t[i];if(ye(t))for(const i of zo)r[i]=t[i]}let Ho=null;function $o(){if(!Ho){const e=q.Symbol;if(e&&e.iterator)Ho=e.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const n=e[t];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Ho=n)}}}return Ho}class Go{constructor(e){this.wrapped=e}static wrap(e){return new Go(e)}static unwrap(e){return Go.isWrapped(e)?e.wrapped:e}static isWrapped(e){return e instanceof Go}}function Wo(e){return!!Ko(e)&&(Array.isArray(e)||!(e instanceof Map)&&$o()in e)}function Ko(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Yo(e,t,n){return e[t]=n}function Qo(e,t){return e[t]}function Jo(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function Xo(e,t,n,r){const i=Jo(e,t,n);return Jo(e,t+1,r)||i}function ea(e,t,n,r,i){const s=Xo(e,t,n,r);return Jo(e,t+2,i)||s}function ta(e,t,n,r,i,s){const o=Xo(e,t,n,r);return Xo(e,t+2,i,s)||o}function na(e,t,n,r){const i=Ge();return Jo(i,at(),t)&&(We(),Qs(St(),i,e,t,n,r)),na}function ra(e,t){let n=!1,r=st();for(let s=1;s<t.length;s+=2)n=Jo(e,r++,t[s])||n;if(ot(r),!n)return ys;let i=t[0];for(let s=1;s<t.length;s+=2)i+=y(t[s])+t[s+1];return i}function ia(e,t,n,r){return Jo(e,at(),n)?t+y(n)+r:ys}function sa(e,t,n,r,i,s){const o=Xo(e,st(),n,i);return ut(2),o?t+y(n)+r+y(i)+s:ys}function oa(e,t,n,r,i,s,o,a){const u=ea(e,st(),n,i,o);return ut(3),u?t+y(n)+r+y(i)+s+y(o)+a:ys}function aa(e,t,n,r,i,s,o,a,u,c){const l=ta(e,st(),n,i,o,u);return ut(4),l?t+y(n)+r+y(i)+s+y(o)+a+y(u)+c:ys}function ua(e,t,n,r,i,s,o,a,u,c,l,h){const d=st();let f=ta(e,d,n,i,o,u);return f=Jo(e,d+4,l)||f,ut(5),f?t+y(n)+r+y(i)+s+y(o)+a+y(u)+c+y(l)+h:ys}function ca(e,t,n,r,i,s,o,a,u,c,l,h,d,f){const p=st();let g=ta(e,p,n,i,o,u);return g=Xo(e,p+4,l,d)||g,ut(6),g?t+y(n)+r+y(i)+s+y(o)+a+y(u)+c+y(l)+h+y(d)+f:ys}function la(e,t,n,r,i,s,o,a,u,c,l,h,d,f,p,g){const m=st();let v=ta(e,m,n,i,o,u);return v=ea(e,m+4,l,d,p)||v,ut(7),v?t+y(n)+r+y(i)+s+y(o)+a+y(u)+c+y(l)+h+y(d)+f+y(p)+g:ys}function ha(e,t,n,r,i,s,o,a,u,c,l,h,d,f,p,g,m,v){const _=st();let w=ta(e,_,n,i,o,u);return w=ta(e,_+4,l,d,p,m)||w,ut(8),w?t+y(n)+r+y(i)+s+y(o)+a+y(u)+c+y(l)+h+y(d)+f+y(p)+g+y(m)+v:ys}function da(e,t,n,r,i,s){const o=Ge(),a=ia(o,t,n,r);return a!==ys&&Qs(St(),o,e,a,i,s),da}function fa(e,t,n,r,i,s,o,a){const u=Ge(),c=sa(u,t,n,r,i,s);return c!==ys&&Qs(St(),u,e,c,o,a),fa}function pa(e,t,n,r,i,s,o,a,u,c){const l=Ge(),h=oa(l,t,n,r,i,s,o,a);return h!==ys&&Qs(St(),l,e,h,u,c),pa}function ga(e,t,n,r,i,s,o,a,u,c,l,h){const d=Ge(),f=aa(d,t,n,r,i,s,o,a,u,c);return f!==ys&&Qs(St(),d,e,f,l,h),ga}function ma(e,t,n,r,i,s,o,a,u,c,l,h,d,f){const p=Ge(),g=ua(p,t,n,r,i,s,o,a,u,c,l,h);return g!==ys&&Qs(St(),p,e,g,d,f),ma}function ya(e,t,n,r,i,s,o,a,u,c,l,h,d,f,p,g){const m=Ge(),y=ca(m,t,n,r,i,s,o,a,u,c,l,h,d,f);return y!==ys&&Qs(St(),m,e,y,p,g),ya}function va(e,t,n,r,i,s,o,a,u,c,l,h,d,f,p,g,m,y){const v=Ge(),_=la(v,t,n,r,i,s,o,a,u,c,l,h,d,f,p,g);return _!==ys&&Qs(St(),v,e,_,m,y),va}function _a(e,t,n,r,i,s,o,a,u,c,l,h,d,f,p,g,m,y,v,_){const w=Ge(),b=ha(w,t,n,r,i,s,o,a,u,c,l,h,d,f,p,g,m,y);return b!==ys&&Qs(St(),w,e,b,v,_),_a}function wa(e,t,n,r){const i=Ge(),s=ra(i,t);return s!==ys&&Qs(St(),i,e,s,n,r),wa}function ba(e,t,n,r,i,s,o,a){const u=Ge(),c=We(),l=e+le,h=c.firstCreatePass?function(e,t,n,r,i,s,o,a,u){const c=t.consts,l=ks(t,e,4,o||null,je(c,a));zs(t,n,l,je(c,u)),xt(t,l);const h=l.tViews=Vs(2,l,r,i,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c);return null!==t.queries&&(t.queries.template(t,l),h.queries=t.queries.embeddedTView(l)),l}(l,c,u,t,n,r,i,s,o):c.data[l];Xe(h,!1);const d=u[11].createComment("");Ki(c,u,d,h),ci(d,u),so(u,u[l]=to(d,u,d,h)),me(h)&&Ms(c,u,h),null!=o&&Fs(u,h,a)}function Ia(e){return Me(ze.lFrame.contextLView,le+e)}const Ea={"\u0275\u0275defineInjectable":b,"\u0275\u0275defineInjector":I,"\u0275\u0275inject":Wn,"\u0275\u0275invalidFactoryDep":Kn,resolveForwardRef:p},Ta=u({provide:String,useValue:u});function Sa(e){return void 0!==e.useClass}function Ca(e){return void 0!==e.useFactory}const Aa=yn("Injectable",void 0,void 0,void 0,(e,t)=>ka(e,t)),ka=function(e,t){let n=null,r=null;e.hasOwnProperty(C)||Object.defineProperty(e,C,{get:()=>(null===n&&(n=En().compileInjectable(Ea,`ng:///${e.name}/\u0275prov.js`,function(e,t){const n=t||{providedIn:null},r={name:e.name,type:e,typeArgumentCount:0,providedIn:n.providedIn};return(Sa(n)||Ca(n))&&void 0!==n.deps&&(r.deps=ar(n.deps)),Sa(n)?r.useClass=n.useClass:function(e){return Ta in e}(n)?r.useValue=n.useValue:Ca(n)?r.useFactory=n.useFactory:function(e){return void 0!==e.useExisting}(n)&&(r.useExisting=n.useExisting),r}(e,t))),n)}),e.hasOwnProperty(K)||Object.defineProperty(e,K,{get:()=>{if(null===r){const t=En();r=t.compileFactory(Ea,`ng:///${e.name}/\u0275fac.js`,{name:e.name,type:e,typeArgumentCount:0,deps:or(e),target:t.FactoryTarget.Injectable})}return r},configurable:!0})};function xa(e,t=N.Default){const n=Ge();return null===n?Wn(e,t):tn(Ye(),n,p(e),t)}function Na(){throw new Error("invalid")}function Oa(e,t,n){const r=Ge();return Jo(r,at(),t)&&Bs(We(),St(),r,e,t,r[11],n,!1),Oa}function Ra(e,t,n,r,i){const s=i?"class":"style";mo(e,n,t.inputs[s],s,r)}function Da(e,t,n,r){const i=Ge(),s=We(),o=le+e,a=i[11],u=i[o]=Di(a,t,ze.lFrame.currentNamespace),c=s.firstCreatePass?function(e,t,n,r,i,s,o){const a=t.consts,u=ks(t,e,2,i,je(a,s));return zs(t,n,u,je(a,o)),null!==u.attrs&&vo(u,u.attrs,!1),null!==u.mergedAttrs&&vo(u,u.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,u),u}(o,s,i,0,t,n,r):s.data[o];Xe(c,!0);const l=c.mergedAttrs;null!==l&&Ft(a,u,l);const h=c.classes;null!==h&&is(a,u,h);const d=c.styles;null!==d&&rs(a,u,d),64!=(64&c.flags)&&Ki(s,i,u,c),0===ze.lFrame.elementDepthCount&&ci(u,i),ze.lFrame.elementDepthCount++,me(c)&&(Ms(s,i,c),Ls(s,c,i)),null!==r&&Fs(i,c)}function Pa(){let e=Ye();et()?tt():(e=e.parent,Xe(e,!1));const t=e;ze.lFrame.elementDepthCount--;const n=We();n.firstCreatePass&&(xt(n,e),pe(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function(e){return 0!=(16&e.flags)}(t)&&Ra(n,t,Ge(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(e){return 0!=(32&e.flags)}(t)&&Ra(n,t,Ge(),t.stylesWithoutHost,!1)}function La(e,t,n,r){Da(e,t,n,r),Pa()}function Ma(e,t,n){const r=Ge(),i=We(),s=e+le,o=i.firstCreatePass?function(e,t,n,r,i){const s=t.consts,o=je(s,r),a=ks(t,e,8,"ng-container",o);return null!==o&&vo(a,o,!0),zs(t,n,a,je(s,i)),null!==t.queries&&t.queries.elementStart(t,a),a}(s,i,r,t,n):i.data[s];Xe(o,!0);const a=r[s]=r[11].createComment("");Ki(i,r,a,o),ci(a,r),me(o)&&(Ms(i,r,o),Ls(i,o,r)),null!=n&&Fs(r,o)}function Fa(){let e=Ye();const t=We();et()?tt():(e=e.parent,Xe(e,!1)),t.firstCreatePass&&(xt(t,e),pe(e)&&t.queries.elementEnd(e))}function Ua(e,t,n){Ma(e,t,n),Fa()}function Va(){return Ge()}function ja(e){return!!e&&"function"==typeof e.then}function qa(e){return!!e&&"function"==typeof e.subscribe}const Ba=qa;function za(e,t,n,r){const i=Ge(),s=We(),o=Ye();return Ha(s,i,i[11],o,e,t,!!n,r),za}function Za(e,t){const n=Ye(),r=Ge(),i=We();return Ha(i,r,po(dt(i.data),n,r),n,e,t,!1),Za}function Ha(e,t,n,r,i,s,o,a){const u=me(r),c=e.firstCreatePass&&fo(e),l=ho(t);let h=!0;if(3&r.type||a){const d=Pe(r,t),f=a?a(d):d,p=l.length,g=a?e=>a(Re(e[r.index])):r.index;if(Ne(n)){let o=null;if(!a&&u&&(o=function(e,t,n,r){const i=e.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const e=i[s];if(e===n&&i[s+1]===r){const e=t[7],n=i[s+2];return e.length>n?e[n]:null}"string"==typeof e&&(s+=2)}return null}(e,t,i,r.index)),null!==o)(o.__ngLastListenerFn__||o).__ngNextListenerFn__=s,o.__ngLastListenerFn__=s,h=!1;else{s=Ga(r,t,0,s,!1);const e=n.listen(f,i,s);l.push(s,e),c&&c.push(i,g,p,p+1)}}else s=Ga(r,t,0,s,!0),f.addEventListener(i,s,o),l.push(s),c&&c.push(i,g,p,o)}else s=Ga(r,t,0,s,!1);const d=r.outputs;let f;if(h&&null!==d&&(f=d[i])){const e=f.length;if(e)for(let n=0;n<e;n+=2){const e=t[f[n]][f[n+1]].subscribe(s),o=l.length;l.push(s,e),c&&c.push(i,r.index,o,-(o+1))}}}function $a(e,t,n,r){try{return!1!==n(r)}catch(i){return go(e,i),!1}}function Ga(e,t,n,r,i){return function n(s){if(s===Function)return r;const o=2&e.flags?Fe(e.index,t):t;0==(32&t[2])&&oo(o);let a=$a(t,0,r,s),u=n.__ngNextListenerFn__;for(;u;)a=$a(t,0,u,s)&&a,u=u.__ngNextListenerFn__;return i&&!1===a&&(s.preventDefault(),s.returnValue=!1),a}}function Wa(e=1){return function(e){return(ze.lFrame.contextLView=function(e,t){for(;e>0;)t=t[15],e--;return t}(e,ze.lFrame.contextLView))[8]}(e)}function Ka(e,t){let n=null;const r=function(e){const t=e.attrs;if(null!=t){const e=t.indexOf(5);if(0==(1&e))return t[e+1]}return null}(e);for(let i=0;i<t.length;i++){const s=t[i];if("*"!==s){if(null===r?fs(e,s,!0):ps(r,s))return i}else n=i}return n}function Ya(e){const t=Ge()[16][6];if(!t.projection){const n=t.projection=Nn(e?e.length:1,null),r=n.slice();let i=t.child;for(;null!==i;){const t=e?Ka(i,e):0;null!==t&&(r[t]?r[t].projectionNext=i:n[t]=i,r[t]=i),i=i.next}}}function Qa(e,t=0,n){const r=Ge(),i=We(),s=ks(i,le+e,16,null,n||null);null===s.projection&&(s.projection=t),tt(),64!=(64&s.flags)&&function(e,t,n){ns(t[11],0,t,n,Ui(e,n,t),Zi(n.parent||t[6],n,t))}(i,r,s)}function Ja(e,t,n){return Xa(e,"",t,"",n),Ja}function Xa(e,t,n,r,i){const s=Ge(),o=ia(s,t,n,r);return o!==ys&&Bs(We(),St(),s,e,o,s[11],i,!1),Xa}function eu(e,t,n,r,i,s,o){const a=Ge(),u=sa(a,t,n,r,i,s);return u!==ys&&Bs(We(),St(),a,e,u,a[11],o,!1),eu}function tu(e,t,n,r,i,s,o,a,u){const c=Ge(),l=oa(c,t,n,r,i,s,o,a);return l!==ys&&Bs(We(),St(),c,e,l,c[11],u,!1),tu}function nu(e,t,n,r,i,s,o,a,u,c,l){const h=Ge(),d=aa(h,t,n,r,i,s,o,a,u,c);return d!==ys&&Bs(We(),St(),h,e,d,h[11],l,!1),nu}function ru(e,t,n,r,i,s,o,a,u,c,l,h,d){const f=Ge(),p=ua(f,t,n,r,i,s,o,a,u,c,l,h);return p!==ys&&Bs(We(),St(),f,e,p,f[11],d,!1),ru}function iu(e,t,n,r,i,s,o,a,u,c,l,h,d,f,p){const g=Ge(),m=ca(g,t,n,r,i,s,o,a,u,c,l,h,d,f);return m!==ys&&Bs(We(),St(),g,e,m,g[11],p,!1),iu}function su(e,t,n,r,i,s,o,a,u,c,l,h,d,f,p,g,m){const y=Ge(),v=la(y,t,n,r,i,s,o,a,u,c,l,h,d,f,p,g);return v!==ys&&Bs(We(),St(),y,e,v,y[11],m,!1),su}function ou(e,t,n,r,i,s,o,a,u,c,l,h,d,f,p,g,m,y,v){const _=Ge(),w=ha(_,t,n,r,i,s,o,a,u,c,l,h,d,f,p,g,m,y);return w!==ys&&Bs(We(),St(),_,e,w,_[11],v,!1),ou}function au(e,t,n){const r=Ge(),i=ra(r,t);return i!==ys&&Bs(We(),St(),r,e,i,r[11],n,!1),au}function uu(e,t,n,r,i){const s=e[n+1],o=null===t;let a=r?bs(s):Es(s),u=!1;for(;0!==a&&(!1===u||o);){const n=e[a+1];cu(e[a],t)&&(u=!0,e[a+1]=r?Ss(n):Is(n)),a=r?bs(n):Es(n)}u&&(e[n+1]=r?Is(s):Ss(s))}function cu(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&Dn(e,t)>=0}const lu={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function hu(e){return e.substring(lu.key,lu.keyEnd)}function du(e){return e.substring(lu.value,lu.valueEnd)}function fu(e,t){const n=lu.textEnd;return n===t?-1:(t=lu.keyEnd=function(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}(e,lu.key=t,n),mu(e,t,n))}function pu(e,t){const n=lu.textEnd;let r=lu.key=mu(e,t,n);return n===r?-1:(r=lu.keyEnd=function(e,t,n){let r;for(;t<n&&(45===(r=e.charCodeAt(t))||95===r||(-33&r)>=65&&(-33&r)<=90||r>=48&&r<=57);)t++;return t}(e,r,n),r=yu(e,r,n),r=lu.value=mu(e,r,n),r=lu.valueEnd=function(e,t,n){let r=-1,i=-1,s=-1,o=t,a=o;for(;o<n;){const u=e.charCodeAt(o++);if(59===u)return a;34===u||39===u?a=o=vu(e,u,o,n):t===o-4&&85===s&&82===i&&76===r&&40===u?a=o=vu(e,41,o,n):u>32&&(a=o),s=i,i=r,r=-33&u}return a}(e,r,n),yu(e,r,n))}function gu(e){lu.key=0,lu.keyEnd=0,lu.value=0,lu.valueEnd=0,lu.textEnd=e.length}function mu(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function yu(e,t,n,r){return(t=mu(e,t,n))<n&&t++,t}function vu(e,t,n,r){let i=-1,s=n;for(;s<r;){const n=e.charCodeAt(s++);if(n==t&&92!==i)return s;i=92==n&&92===i?0:n}throw new Error}function _u(e,t,n){return Su(e,t,n,!1),_u}function wu(e,t){return Su(e,t,null,!0),wu}function bu(e){Cu(Ou,Iu,e,!1)}function Iu(e,t){for(let n=function(e){return gu(e),pu(e,mu(e,0,lu.textEnd))}(t);n>=0;n=pu(t,n))Ou(e,hu(t),du(t))}function Eu(e){Cu(On,Tu,e,!0)}function Tu(e,t){for(let n=function(e){return gu(e),fu(e,mu(e,0,lu.textEnd))}(t);n>=0;n=fu(t,n))On(e,hu(t),!0)}function Su(e,t,n,r){const i=Ge(),s=We(),o=ut(2);s.firstUpdatePass&&ku(s,e,o,r),t!==ys&&Jo(i,o,t)&&Ru(s,s.data[Et()],i,i[11],e,i[o+1]=function(e,t){return null==e||("string"==typeof t?e+=t:"object"==typeof e&&(e=l(wr(e)))),e}(t,n),r,o)}function Cu(e,t,n,r){const i=We(),s=ut(2);i.firstUpdatePass&&ku(i,null,s,r);const o=Ge();if(n!==ys&&Jo(o,s,n)){const a=i.data[Et()];if(Lu(a,r)&&!Au(i,s)){let e=r?a.classesWithoutHost:a.stylesWithoutHost;null!==e&&(n=h(e,n||"")),Ra(i,a,o,n,r)}else!function(e,t,n,r,i,s,o,a){i===ys&&(i=z);let u=0,c=0,l=0<i.length?i[0]:null,h=0<s.length?s[0]:null;for(;null!==l||null!==h;){const d=u<i.length?i[u+1]:void 0,f=c<s.length?s[c+1]:void 0;let p,g=null;l===h?(u+=2,c+=2,d!==f&&(g=h,p=f)):null===h||null!==l&&l<h?(u+=2,g=l):(c+=2,g=h,p=f),null!==g&&Ru(e,t,n,r,g,p,o,a),l=u<i.length?i[u]:null,h=c<s.length?s[c]:null}}(i,a,o,o[11],o[s+1],o[s+1]=function(e,t,n){if(null==n||""===n)return z;const r=[],i=wr(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)e(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&e(r,s,i[s]);else"string"==typeof i&&t(r,i);return r}(e,t,n),r,s)}}function Au(e,t){return t>=e.expandoStartIndex}function ku(e,t,n,r){const i=e.data;if(null===i[n+1]){const s=i[Et()],o=Au(e,n);Lu(s,r)&&null===t&&!o&&(t=!1),t=function(e,t,n,r){const i=dt(e);let s=r?t.residualClasses:t.residualStyles;if(null===i)0===(r?t.classBindings:t.styleBindings)&&(n=Nu(n=xu(null,e,t,n,r),t.attrs,r),s=null);else{const o=t.directiveStylingLast;if(-1===o||e[o]!==i)if(n=xu(i,e,t,n,r),null===s){let n=function(e,t,n){const r=n?t.classBindings:t.styleBindings;if(0!==Es(r))return e[bs(r)]}(e,t,r);void 0!==n&&Array.isArray(n)&&(n=xu(null,e,t,n[1],r),n=Nu(n,t.attrs,r),function(e,t,n,r){e[bs(n?t.classBindings:t.styleBindings)]=r}(e,t,r,n))}else s=function(e,t,n){let r;const i=t.directiveEnd;for(let s=1+t.directiveStylingLast;s<i;s++)r=Nu(r,e[s].hostAttrs,n);return Nu(r,t.attrs,n)}(e,t,r)}return void 0!==s&&(r?t.residualClasses=s:t.residualStyles=s),n}(i,s,t,r),function(e,t,n,r,i,s){let o=s?t.classBindings:t.styleBindings,a=bs(o),u=Es(o);e[r]=n;let c,l=!1;if(Array.isArray(n)){const e=n;c=e[1],(null===c||Dn(e,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){const t=bs(e[a+1]);e[r+1]=ws(t,a),0!==t&&(e[t+1]=Ts(e[t+1],r)),e[a+1]=131071&e[a+1]|r<<17}else e[r+1]=ws(a,0),0!==a&&(e[a+1]=Ts(e[a+1],r)),a=r;else e[r+1]=ws(u,0),0===a?a=r:e[u+1]=Ts(e[u+1],r),u=r;l&&(e[r+1]=Is(e[r+1])),uu(e,c,r,!0),uu(e,c,r,!1),function(e,t,n,r,i){const s=i?e.residualClasses:e.residualStyles;null!=s&&"string"==typeof t&&Dn(s,t)>=0&&(n[r+1]=Ss(n[r+1]))}(t,c,e,r,s),o=ws(a,u),s?t.classBindings=o:t.styleBindings=o}(i,s,t,n,o,r)}}function xu(e,t,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=t[a],r=Nu(r,s.hostAttrs,i),s!==e);)a++;return null!==e&&(n.directiveStylingLast=a),r}function Nu(e,t,n){const r=n?1:2;let i=-1;if(null!==t)for(let s=0;s<t.length;s++){const o=t[s];"number"==typeof o?i=o:i===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),On(e,o,!!n||t[++s]))}return void 0===e?null:e}function Ou(e,t,n){On(e,t,wr(n))}function Ru(e,t,n,r,i,s,o,a){if(!(3&t.type))return;const u=e.data,c=u[a+1];Pu(1==(1&c)?Du(u,t,n,i,Es(c),o):void 0)||(Pu(s)||2==(2&c)&&(s=Du(u,null,n,i,a,o)),function(e,t,n,r,i){const s=Ne(e);if(t)i?s?e.addClass(n,r):n.classList.add(r):s?e.removeClass(n,r):n.classList.remove(r);else{let t=-1===r.indexOf("-")?void 0:Ii.DashCase;if(null==i)s?e.removeStyle(n,r,t):n.style.removeProperty(r);else{const o="string"==typeof i&&i.endsWith("!important");o&&(i=i.slice(0,-10),t|=Ii.Important),s?e.setStyle(n,r,i,t):n.style.setProperty(r,i,o?"important":"")}}}(r,o,De(Et(),n),i,s))}function Du(e,t,n,r,i,s){const o=null===t;let a;for(;i>0;){const t=e[i],s=Array.isArray(t),u=s?t[1]:t,c=null===u;let l=n[i+1];l===ys&&(l=c?z:void 0);let h=c?Rn(l,r):u===r?l:void 0;if(s&&!Pu(h)&&(h=Rn(t,r)),Pu(h)&&(a=h,o))return a;const d=e[i+1];i=o?bs(d):Es(d)}if(null!==t){let e=s?t.residualClasses:t.residualStyles;null!=e&&(a=Rn(e,r))}return a}function Pu(e){return void 0!==e}function Lu(e,t){return 0!=(e.flags&(t?16:32))}function Mu(e,t=""){const n=Ge(),r=We(),i=e+le,s=r.firstCreatePass?ks(r,i,1,t,null):r.data[i],o=n[i]=Ni(n[11],t);Ki(r,n,o,s),Xe(s,!1)}function Fu(e){return Uu("",e,""),Fu}function Uu(e,t,n){const r=Ge(),i=ia(r,e,t,n);return i!==ys&&yo(r,Et(),i),Uu}function Vu(e,t,n,r,i){const s=Ge(),o=sa(s,e,t,n,r,i);return o!==ys&&yo(s,Et(),o),Vu}function ju(e,t,n,r,i,s,o){const a=Ge(),u=oa(a,e,t,n,r,i,s,o);return u!==ys&&yo(a,Et(),u),ju}function qu(e,t,n,r,i,s,o,a,u){const c=Ge(),l=aa(c,e,t,n,r,i,s,o,a,u);return l!==ys&&yo(c,Et(),l),qu}function Bu(e,t,n,r,i,s,o,a,u,c,l){const h=Ge(),d=ua(h,e,t,n,r,i,s,o,a,u,c,l);return d!==ys&&yo(h,Et(),d),Bu}function zu(e,t,n,r,i,s,o,a,u,c,l,h,d){const f=Ge(),p=ca(f,e,t,n,r,i,s,o,a,u,c,l,h,d);return p!==ys&&yo(f,Et(),p),zu}function Zu(e,t,n,r,i,s,o,a,u,c,l,h,d,f,p){const g=Ge(),m=la(g,e,t,n,r,i,s,o,a,u,c,l,h,d,f,p);return m!==ys&&yo(g,Et(),m),Zu}function Hu(e,t,n,r,i,s,o,a,u,c,l,h,d,f,p,g,m){const y=Ge(),v=ha(y,e,t,n,r,i,s,o,a,u,c,l,h,d,f,p,g,m);return v!==ys&&yo(y,Et(),v),Hu}function $u(e){const t=Ge(),n=ra(t,e);return n!==ys&&yo(t,Et(),n),$u}function Gu(e,t,n){Cu(On,Tu,ia(Ge(),e,t,n),!0)}function Wu(e,t,n,r,i){Cu(On,Tu,sa(Ge(),e,t,n,r,i),!0)}function Ku(e,t,n,r,i,s,o){Cu(On,Tu,oa(Ge(),e,t,n,r,i,s,o),!0)}function Yu(e,t,n,r,i,s,o,a,u){Cu(On,Tu,aa(Ge(),e,t,n,r,i,s,o,a,u),!0)}function Qu(e,t,n,r,i,s,o,a,u,c,l){Cu(On,Tu,ua(Ge(),e,t,n,r,i,s,o,a,u,c,l),!0)}function Ju(e,t,n,r,i,s,o,a,u,c,l,h,d){Cu(On,Tu,ca(Ge(),e,t,n,r,i,s,o,a,u,c,l,h,d),!0)}function Xu(e,t,n,r,i,s,o,a,u,c,l,h,d,f,p){Cu(On,Tu,la(Ge(),e,t,n,r,i,s,o,a,u,c,l,h,d,f,p),!0)}function ec(e,t,n,r,i,s,o,a,u,c,l,h,d,f,p,g,m){Cu(On,Tu,ha(Ge(),e,t,n,r,i,s,o,a,u,c,l,h,d,f,p,g,m),!0)}function tc(e){Cu(On,Tu,ra(Ge(),e),!0)}function nc(e,t,n){bu(ia(Ge(),e,t,n))}function rc(e,t,n,r,i){bu(sa(Ge(),e,t,n,r,i))}function ic(e,t,n,r,i,s,o){bu(oa(Ge(),e,t,n,r,i,s,o))}function sc(e,t,n,r,i,s,o,a,u){bu(aa(Ge(),e,t,n,r,i,s,o,a,u))}function oc(e,t,n,r,i,s,o,a,u,c,l){bu(ua(Ge(),e,t,n,r,i,s,o,a,u,c,l))}function ac(e,t,n,r,i,s,o,a,u,c,l,h,d){bu(ca(Ge(),e,t,n,r,i,s,o,a,u,c,l,h,d))}function uc(e,t,n,r,i,s,o,a,u,c,l,h,d,f,p){bu(la(Ge(),e,t,n,r,i,s,o,a,u,c,l,h,d,f,p))}function cc(e,t,n,r,i,s,o,a,u,c,l,h,d,f,p,g,m){bu(ha(Ge(),e,t,n,r,i,s,o,a,u,c,l,h,d,f,p,g,m))}function lc(e){bu(ra(Ge(),e))}function hc(e,t,n,r,i){return Su(e,ia(Ge(),t,n,r),i,!1),hc}function dc(e,t,n,r,i,s,o){return Su(e,sa(Ge(),t,n,r,i,s),o,!1),dc}function fc(e,t,n,r,i,s,o,a,u){return Su(e,oa(Ge(),t,n,r,i,s,o,a),u,!1),fc}function pc(e,t,n,r,i,s,o,a,u,c,l){return Su(e,aa(Ge(),t,n,r,i,s,o,a,u,c),l,!1),pc}function gc(e,t,n,r,i,s,o,a,u,c,l,h,d){return Su(e,ua(Ge(),t,n,r,i,s,o,a,u,c,l,h),d,!1),gc}function mc(e,t,n,r,i,s,o,a,u,c,l,h,d,f,p){return Su(e,ca(Ge(),t,n,r,i,s,o,a,u,c,l,h,d,f),p,!1),mc}function yc(e,t,n,r,i,s,o,a,u,c,l,h,d,f,p,g,m){return Su(e,la(Ge(),t,n,r,i,s,o,a,u,c,l,h,d,f,p,g),m,!1),yc}function vc(e,t,n,r,i,s,o,a,u,c,l,h,d,f,p,g,m,y,v){return Su(e,ha(Ge(),t,n,r,i,s,o,a,u,c,l,h,d,f,p,g,m,y),v,!1),vc}function _c(e,t,n){return Su(e,ra(Ge(),t),n,!1),_c}function wc(e,t,n){const r=Ge();return Jo(r,at(),t)&&Bs(We(),St(),r,e,t,r[11],n,!0),wc}function bc(e,t,n){const r=Ge();if(Jo(r,at(),t)){const i=We(),s=St();Bs(i,s,r,e,t,po(dt(i.data),s,r),n,!0)}return bc}const Ic=void 0;var Ec=["en",[["a","p"],["AM","PM"],Ic],[["AM","PM"],Ic,Ic],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ic,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ic,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ic,"{1} 'at' {0}",Ic],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(e){let t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}];let Tc={};function Sc(e){const t=function(e){return e.toLowerCase().replace(/_/g,"-")}(e);let n=Ac(t);if(n)return n;const r=t.split("-")[0];if(n=Ac(r),n)return n;if("en"===r)return Ec;throw new Error(`Missing locale data for the locale "${e}".`)}function Cc(e){return Sc(e)[kc.PluralCase]}function Ac(e){return e in Tc||(Tc[e]=q.ng&&q.ng.common&&q.ng.common.locales&&q.ng.common.locales[e]),Tc[e]}var kc=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}({});const xc=["zero","one","two","few","many"],Nc="en-US",Oc={marker:"element"},Rc={marker:"ICU"};var Dc=function(e){return e[e.SHIFT=2]="SHIFT",e[e.APPEND_EAGERLY=1]="APPEND_EAGERLY",e[e.COMMENT=2]="COMMENT",e}({});let Pc=Nc;function Lc(e){var t;null==(t=e)&&w("Expected localeId to be defined",t,null,"!="),"string"==typeof e&&(Pc=e.toLowerCase().replace(/_/g,"-"))}function Mc(e,t,n){const r=t.insertBeforeIndex,i=Array.isArray(r)?r[0]:r;return null===i?Hi(e,0,n):Re(n[i])}function Fc(e,t,n,r,i){const s=t.insertBeforeIndex;if(Array.isArray(s)){let o=r,a=null;if(3&t.type||(a=o,o=i),null!==o&&0==(2&t.flags))for(let t=1;t<s.length;t++)ji(e,o,n[s[t]],a,!1)}}function Uc(e,t){if(e.push(t),e.length>1)for(let n=e.length-2;n>=0;n--){const r=e[n];Vc(r)||jc(r,t)&&null===qc(r)&&Bc(r,t.index)}}function Vc(e){return!(64&e.type)}function jc(e,t){return Vc(t)||e.index>t.index}function qc(e){const t=e.insertBeforeIndex;return Array.isArray(t)?t[0]:t}function Bc(e,t){const n=e.insertBeforeIndex;Array.isArray(n)?n[0]=t:(Wi(Mc,Fc),e.insertBeforeIndex=t)}function zc(e,t){const n=e.data[t];return null===n||"string"==typeof n?null:n.hasOwnProperty("currentCaseLViewIndex")?n:n.value}function Zc(e,t,n){const r=xs(e,n,64,null,null);return Uc(t,r),r}function Hc(e,t){const n=t[e.currentCaseLViewIndex];return null===n?n:n<0?~n:n}let $c=0,Gc=0;function Wc(e,t,n,r){const i=n[11];let s,o=null;for(let a=0;a<t.length;a++){const u=t[a];if("string"==typeof u){const e=t[++a];null===n[e]&&(n[e]=Ni(i,u))}else if("number"==typeof u)switch(1&u){case 0:const c=u>>>17;let l,h;if(null===o&&(o=c,s=zi(i,r)),c===o?(l=r,h=s):(l=null,h=Re(n[c])),null!==h){const t=(131070&u)>>>1;ji(i,h,n[t],l,!1);const r=zc(e,t);if(null!==r&&"object"==typeof r){const t=Hc(r,n);null!==t&&Wc(e,r.create[t],n,n[r.anchorIdx])}}break;case 1:const d=t[++a],f=t[++a];Js(i,De(u>>>1,n),null,null,d,f,null);break;default:throw new Error(`Unable to determine the type of mutate operation for "${u}"`)}else switch(u){case Rc:const e=t[++a],r=t[++a];null===n[r]&&ci(n[r]=Ri(i,e),n);break;case Oc:const s=t[++a],o=t[++a];null===n[o]&&ci(n[o]=Di(i,s,null),n)}}}function Kc(e,t,n,r,i){for(let s=0;s<n.length;s++){const o=n[s],a=n[++s];if(o&i){let i="";for(let o=s+1;o<=s+a;o++){const s=n[o];if("string"==typeof s)i+=s;else if("number"==typeof s)if(s<0)i+=y(t[r-s]);else{const a=s>>>2;switch(3&s){case 1:const s=n[++o],u=n[++o],c=e.data[a];"string"==typeof c?Js(t[11],t[a],null,c,s,i,u):Bs(e,c,t,s,i,t[11],u,!1);break;case 0:const l=t[a];null!==l&&Oi(t[11],l,i);break;case 2:Qc(e,zc(e,a),t,i);break;case 3:Yc(e,zc(e,a),r,t)}}}}else{const i=n[s+1];if(i>0&&3==(3&i)){const n=zc(e,i>>>2);t[n.currentCaseLViewIndex]<0&&Yc(e,n,r,t)}}s+=a}}function Yc(e,t,n,r){let i=r[t.currentCaseLViewIndex];if(null!==i){let s=$c;i<0&&(i=r[t.currentCaseLViewIndex]=~i,s=-1),Kc(e,r,t.update[i],n,s)}}function Qc(e,t,n,r){const i=function(e,t){let n=e.cases.indexOf(t);if(-1===n)switch(e.type){case 1:{const r=function(e,t){const n=Cc(t)(parseInt(e,10)),r=xc[n];return void 0!==r?r:"other"}(t,Pc);n=e.cases.indexOf(r),-1===n&&"other"!==r&&(n=e.cases.indexOf("other"));break}case 0:n=e.cases.indexOf("other")}return-1===n?null:n}(t,r);if(Hc(t,n)!==i&&(Jc(e,t,n),n[t.currentCaseLViewIndex]=null===i?null:~i,null!==i)){const r=n[t.anchorIdx];r&&Wc(e,t.create[i],n,r)}}function Jc(e,t,n){let r=Hc(t,n);if(null!==r){const i=t.remove[r];for(let t=0;t<i.length;t++){const r=i[t];if(r>0){const e=De(r,n);null!==e&&Xi(n[11],e)}else Jc(e,zc(e,~r),n)}}}const Xc=/\ufffd(\d+):?\d*\ufffd/gi,el=/({\s*\ufffd\d+:?\d*\ufffd\s*,\s*\S{6}\s*,[\s\S]*})/gi,tl=/\ufffd(\d+)\ufffd/,nl=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,rl=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,il=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,sl=/\uE500/g;function ol(e,t,n,r,i,s,o){const a=Ns(e,r,1,null);let u=a<<Dc.SHIFT,c=Je();t===c&&(c=null),null===c&&(u|=Dc.APPEND_EAGERLY),o&&(u|=Dc.COMMENT,void 0===Ei&&(Ei=function(){const e=[];let t,n,r=-1;function i(e,t){r=0;const i=Hc(e,t);n=null!==i?e.remove[i]:z}function s(){if(r<n.length){const o=n[r++];return o>0?t[o]:(e.push(r,n),i(t[1].data[~o],t),s())}return 0===e.length?null:(n=e.pop(),r=e.pop(),s())}return function(n,r){for(t=r;e.length;)e.pop();return i(n.value,r),s}}())),i.push(u,null===s?"":s);const l=xs(e,a,o?32:1,null===s?"":s,null);Uc(n,l);const h=l.index;return Xe(l,!1),null!==c&&t!==c&&function(e,t){let n=e.insertBeforeIndex;var r;null===n?(Wi(Mc,Fc),n=e.insertBeforeIndex=[null,t]):("Expecting array here",(r=Array.isArray(n))!=!0&&w("Expecting array here",r,true,"=="),n.push(t))}(c,h),l}function al(e,t,n,r,i,s,o){const a=o.match(Xc),u=ol(e,t,n,s,r,a?null:o,!1);a&&ul(i,o,u.index,null,0,null)}function ul(e,t,n,r,i,s){const o=e.length,a=o+1;e.push(null,null);const u=o+2,c=t.split(Xc);let l=0;for(let h=0;h<c.length;h++){const t=c[h];if(1&h){const n=i+parseInt(t,10);e.push(-1-n),l|=ll(n)}else""!==t&&e.push(t)}return e.push(n<<2|(r?1:0)),r&&e.push(r,s),e[o]=l,e[a]=e.length-u,l}function cl(e){let t=0;for(let n=0;n<e.length;n++){const r=e[n];"number"==typeof r&&r<0&&t++}return t}function ll(e){return 1<<Math.min(e,31)}function hl(e){let t,n,r="",i=0,s=!1;for(;null!==(t=rl.exec(e));)s?t[0]===`\ufffd/*${n}\ufffd`&&(i=t.index,s=!1):(r+=e.substring(i,t.index+t[0].length),n=t[1],s=!0);return r+=e.substr(i),r}function dl(e,t,n,r,i,s){let o=0;const a={type:i.type,currentCaseLViewIndex:Ns(e,t,1,null),anchorIdx:s,cases:[],create:[],remove:[],update:[]};!function(e,t,n){e.push(ll(t.mainBinding),2,-1-t.mainBinding,n<<2|2)}(n,i,s),function(e,t,n){const r=e.data[t];null===r?e.data[t]=n:r.value=n}(e,s,a);const u=i.values;for(let c=0;c<u.length;c++){const s=u[c],l=[];for(let e=0;e<s.length;e++){const t=s[e];if("string"!=typeof t){const n=l.push(t)-1;s[e]=`\x3c!--\ufffd${n}\ufffd--\x3e`}}o=gl(e,a,t,n,r,i.cases[c],s.join(""),l)|o}o&&function(e,t,n){e.push(t,1,n<<2|3)}(n,o,s)}function fl(e){const t=[],n=[];let r=1,i=0;const s=pl(e=e.replace(nl,function(e,t,n){return r="select"===n?0:1,i=parseInt(t.substr(1),10),""}));for(let o=0;o<s.length;){let e=s[o++].trim();1===r&&(e=e.replace(/\s*(?:=)?(\w+)\s*/,"$1")),e.length&&t.push(e);const i=pl(s[o++]);t.length>n.length&&n.push(i)}return{type:r,mainBinding:i,cases:t,values:n}}function pl(e){if(!e)return[];let t=0;const n=[],r=[],i=/[{}]/g;let s;for(i.lastIndex=0;s=i.exec(e);){const i=s.index;if("}"==s[0]){if(n.pop(),0==n.length){const n=e.substring(t,i);nl.test(n)?r.push(fl(n)):r.push(n),t=i+1}}else{if(0==n.length){const n=e.substring(t,i);r.push(n),t=i+1}n.push("{")}}const o=e.substring(t);return r.push(o),r}function gl(e,t,n,r,i,s,o,a){const u=[],c=[],l=[];t.cases.push(s),t.create.push(u),t.remove.push(c),t.update.push(l);const h=kr(xe()).getInertBodyElement(o),d=Jr(h)||h;return d?ml(e,t,n,r,u,c,l,d,i,a,0):0}function ml(e,t,n,r,i,s,o,a,u,c,l){let h=0,d=a.firstChild;for(;d;){const a=Ns(e,n,1,null);switch(d.nodeType){case Node.ELEMENT_NODE:const f=d,p=f.tagName.toLowerCase();if(qr.hasOwnProperty(p)){_l(i,Oc,p,u,a),e.data[a]=p;const g=f.attributes;for(let e=0;e<g.length;e++){const t=g.item(e),n=t.name.toLowerCase();t.value.match(Xc)?Zr.hasOwnProperty(n)&&ul(o,t.value,a,t.name,0,Br[n]?Dr:zr[n]?Pr:null):wl(i,a,t)}h=ml(e,t,n,r,i,s,o,d,a,c,l+1)|h,yl(s,a,l)}break;case Node.TEXT_NODE:const g=d.textContent||"",m=g.match(Xc);_l(i,null,m?"":g,u,a),yl(s,a,l),m&&(h=ul(o,g,a,null,0,null)|h);break;case Node.COMMENT_NODE:const y=tl.exec(d.textContent||"");if(y){const t=c[parseInt(y[1],10)];_l(i,Rc,"",u,a),dl(e,n,r,u,t,a),vl(s,a,l)}}d=d.nextSibling}return h}function yl(e,t,n){0===n&&e.push(t)}function vl(e,t,n){0===n&&(e.push(~t),e.push(t))}function _l(e,t,n,r,i){null!==t&&e.push(t),e.push(n,i,0|r<<17|i<<1)}function wl(e,t,n){e.push(t<<1|1,n.name,n.value)}const bl=/\[(\ufffd.+?\ufffd?)\]/,Il=/\[(\ufffd.+?\ufffd?)\]|(\ufffd\/?\*\d+:\d+\ufffd)/g,El=/({\s*)(VAR_(PLURAL|SELECT)(_\d+)?)(\s*,)/g,Tl=/{([A-Z0-9_]+)}/g,Sl=/\ufffdI18N_EXP_(ICU(_\d+)?)\ufffd/g,Cl=/\/\*/,Al=/\d+\:(\d+)/;function kl(e,t,n=-1){const r=We(),i=Ge(),s=le+e,o=je(r.consts,t),a=Je();r.firstCreatePass&&function(e,t,n,r,i,s){const o=Je(),a=[],u=[],c=[[]],l=(h=i=function(e,t){if(function(e){return-1===e}(t))return hl(e);{const n=e.indexOf(`:${t}\ufffd`)+2+t.toString().length,r=e.search(new RegExp(`\ufffd\\/\\*\\d+:${t}\ufffd`));return hl(e.substring(n,r))}}(i,s),h.replace(sl," ")).split(il);var h;for(let d=0;d<l.length;d++){let r=l[d];if(0==(1&d)){const s=pl(r);for(let r=0;r<s.length;r++){let l=s[r];if(0==(1&r)){const t=l;""!==t&&al(e,o,c[0],a,u,n,t)}else{const r=l;if("object"!=typeof r)throw new Error(`Unable to parse ICU expression in "${i}" message.`);dl(e,n,u,t,r,ol(e,o,c[0],n,a,"",!0).index)}}}else{const t=47===r.charCodeAt(0),n=(r.charCodeAt(t?1:0),le+Number.parseInt(r.substring(t?2:1)));if(t)c.shift(),Xe(Je(),!1);else{const t=Zc(e,c[0],n);c.unshift([]),Xe(t,!0)}}}e.data[r]={create:a,update:u}}(r,null===a?0:a.index,i,s,o,n);const u=r.data[s],c=Vi(r,a===i[6]?null:a,i);!function(e,t,n,r){const i=e[11];for(let s=0;s<t.length;s++){const o=t[s++],a=t[s],u=(o&Dc.COMMENT)===Dc.COMMENT,c=(o&Dc.APPEND_EAGERLY)===Dc.APPEND_EAGERLY,l=o>>>Dc.SHIFT;let h=e[l];null===h&&(h=e[l]=u?i.createComment(a):Ni(i,a)),c&&null!==n&&ji(i,n,h,r,!1)}}(i,u.create,c,a&&8&a.type?i[a.index]:null),ct(!0)}function xl(){ct(!1)}function Nl(e,t,n){kl(e,t,n),xl()}function Ol(e,t){const n=We(),r=je(n.consts,t);!function(e,t,n){const r=Ye().index,i=[];if(e.firstCreatePass&&null===e.data[t]){for(let e=0;e<n.length;e+=2){const t=n[e],s=n[e+1];if(""!==s){if(el.test(s))throw new Error(`ICU expressions are not supported in attributes. Message: "${s}".`);ul(i,s,r,t,cl(i),null)}}e.data[t]=i}}(n,e+le,r)}function Rl(e){return Jo(Ge(),at(),e)&&($c|=1<<Math.min(Gc,31)),Gc++,Rl}function Dl(e){!function(e,t,n){if(Gc>0){const r=e.data[n];Kc(e,t,Array.isArray(r)?r:r.update,st()-Gc-1,$c)}$c=0,Gc=0}(We(),Ge(),e+le)}function Pl(e,t={}){return function(e,t={}){let n=e;if(bl.test(e)){const e={},t=[0];n=n.replace(Il,(n,r,i)=>{const s=r||i,o=e[s]||[];if(o.length||(s.split("|").forEach(e=>{const t=e.match(Al),n=t?parseInt(t[1],10):0,r=Cl.test(e);o.push([n,r,e])}),e[s]=o),!o.length)throw new Error(`i18n postprocess: unmatched placeholder - ${s}`);const a=t[t.length-1];let u=0;for(let e=0;e<o.length;e++)if(o[e][0]===a){u=e;break}const[c,l,h]=o[u];return l?t.pop():a!==c&&t.push(c),o.splice(u,1),h})}return Object.keys(t).length?(n=n.replace(El,(e,n,r,i,s,o)=>t.hasOwnProperty(r)?`${n}${t[r]}${o}`:e),n=n.replace(Tl,(e,n)=>t.hasOwnProperty(n)?t[n]:e),n=n.replace(Sl,(e,n)=>{if(t.hasOwnProperty(n)){const r=t[n];if(!r.length)throw new Error(`i18n postprocess: unmatched ICU - ${e} with key: ${n}`);return r.shift()}return e}),n):n}(e,t)}function Ll(e,t,n,r,i){if(e=p(e),Array.isArray(e))for(let s=0;s<e.length;s++)Ll(e[s],t,n,r,i);else{const s=We(),o=Ge();let a=Ro(e)?e:p(e.provide),u=xo(e);const c=Ye(),l=1048575&c.providerIndexes,h=c.directiveStart,d=c.providerIndexes>>20;if(Ro(e)||!e.multi){const r=new Mt(u,i,xa),f=Ul(a,t,i?l:l+d,h);-1===f?(Jt(Wt(c,o),s,a),Ml(s,e,t.length),t.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(r),o.push(r)):(n[f]=r,o[f]=r)}else{const f=Ul(a,t,l+d,h),p=Ul(a,t,l,l+d),g=f>=0&&n[f],m=p>=0&&n[p];if(i&&!m||!i&&!g){Jt(Wt(c,o),s,a);const l=function(e,t,n,r,i){const s=new Mt(e,n,xa);return s.multi=[],s.index=t,s.componentProviders=0,Fl(s,i,r&&!n),s}(i?jl:Vl,n.length,i,r,u);!i&&m&&(n[p].providerFactory=l),Ml(s,e,t.length,0),t.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(l),o.push(l)}else Ml(s,e,f>-1?f:p,Fl(n[i?p:f],u,!i&&r));!i&&r&&m&&n[p].componentProviders++}}}function Ml(e,t,n,r){const i=Ro(t);if(i||t.useClass){const s=(t.useClass||t).prototype.ngOnDestroy;if(s){const o=e.destroyHooks||(e.destroyHooks=[]);if(!i&&t.multi){const e=o.indexOf(n);-1===e?o.push(n,[r,s]):o[e+1].push(r,s)}else o.push(n,s)}}}function Fl(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Ul(e,t,n,r){for(let i=n;i<r;i++)if(t[i]===e)return i;return-1}function Vl(e,t,n,r){return ql(this.multi,[])}function jl(e,t,n,r){const i=this.multi;let s;if(this.providerFactory){const e=this.providerFactory.componentProviders,t=an(n,n[1],this.providerFactory.index,r);s=t.slice(0,e),ql(i,s);for(let n=e;n<t.length;n++)s.push(t[n])}else s=[],ql(i,s);return s}function ql(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function Bl(e,t=[]){return n=>{n.providersResolver=(n,r)=>function(e,t,n){const r=We();if(r.firstCreatePass){const i=ye(e);Ll(n,r.data,r.blueprint,i,!0),Ll(t,r.data,r.blueprint,i,!1)}}(n,r?r(e):e,t)}}class zl{}class Zl{resolveComponentFactory(e){throw function(e){const t=Error(`No component factory found for ${l(e)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=e,t}(e)}}let Hl=(()=>{class e{}return e.NULL=new Zl,e})();function $l(...e){}function Gl(e,t){return new Kl(Pe(e,t))}const Wl=function(){return Gl(Ye(),Ge())};let Kl=(()=>{class e{constructor(e){this.nativeElement=e}}return e.__NG_ELEMENT_ID__=Wl,e})();function Yl(e){return e instanceof Kl?e.nativeElement:e}class Ql{}let Jl=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>Xl(),e})();const Xl=function(){const e=Ge(),t=Fe(Ye().index,e);return function(e){return e[11]}(de(t)?t:e)};let eh=(()=>{class e{}return e.\u0275prov=b({token:e,providedIn:"root",factory:()=>null}),e})();class th{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const nh=new th("12.0.5");class rh{constructor(){}supports(e){return Wo(e)}create(e){return new sh(e)}}const ih=(e,t)=>t;class sh{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||ih}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,n=this._removalsHead,r=0,i=null;for(;t||n;){const s=!n||t&&t.currentIndex<ch(n,r,i)?t:n,o=ch(s,r,i),a=s.currentIndex;if(s===n)r--,n=n._nextRemoved;else if(t=t._next,null==s.previousIndex)r++;else{i||(i=[]);const e=o-r,t=a-r;if(e!=t){for(let n=0;n<e;n++){const r=n<i.length?i[n]:i[n]=0,s=r+n;t<=s&&s<e&&(i[n]=r+1)}i[s.previousIndex]=t-e}}o!==a&&e(s,o,a)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!Wo(e))throw new Error(`Error trying to diff '${l(e)}'. Only arrays and iterables are allowed`);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t,n,r,i=this._itHead,s=!1;if(Array.isArray(e)){this.length=e.length;for(let t=0;t<this.length;t++)n=e[t],r=this._trackByFn(t,n),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,n,r,t)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,t),s=!0),i=i._next}else t=0,function(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[$o()]();let r;for(;!(r=n.next()).done;)t(r.value)}}(e,e=>{r=this._trackByFn(t,e),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,e,r,t)),Object.is(i.item,e)||this._addIdentityChange(i,e)):(i=this._mismatch(i,e,r,t),s=!0),i=i._next,t++}),this.length=t;return this._truncate(i),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,n,r){let i;return null===e?i=this._itTail:(i=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,i,r)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,i,r)):e=this._addAfter(new oh(t,n),i,r),e}_verifyReinsertion(e,t,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?e=this._reinsertAfter(i,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const r=e._prevRemoved,i=e._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(e,t,n),this._addToMoves(e,n),e}_moveAfter(e,t,n){return this._unlink(e),this._insertAfter(e,t,n),this._addToMoves(e,n),e}_addAfter(e,t,n){return this._insertAfter(e,t,n),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,n){const r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new uh),this._linkedRecords.put(e),e.currentIndex=n,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,n=e._next;return null===t?this._itHead=n:t._next=n,null===n?this._itTail=t:n._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new uh),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class oh{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class ah{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===t||t<=n.currentIndex)&&Object.is(n.trackById,e))return n;return null}remove(e){const t=e._prevDup,n=e._nextDup;return null===t?this._head=n:t._nextDup=n,null===n?this._tail=t:n._prevDup=t,null===this._head}}class uh{constructor(){this.map=new Map}put(e){const t=e.trackById;let n=this.map.get(t);n||(n=new ah,this.map.set(t,n)),n.add(e)}get(e,t){const n=this.map.get(e);return n?n.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ch(e,t,n){const r=e.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+t+i}class lh{constructor(){}supports(e){return e instanceof Map||Ko(e)}create(){return new hh}}class hh{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||Ko(e)))throw new Error(`Error trying to diff '${l(e)}'. Only maps and objects are allowed`)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(e,n)=>{if(t&&t.key===n)this._maybeAddToChanges(t,e),this._appendAfter=t,t=t._next;else{const r=this._getOrCreateRecordForKey(n,e);t=this._insertBeforeOrAppend(t,r)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let e=t;null!==e;e=e._nextRemoved)e===this._mapHead&&(this._mapHead=null),this._records.delete(e.key),e._nextRemoved=e._next,e.previousValue=e.currentValue,e.currentValue=null,e._prev=null,e._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const n=e._prev;return t._next=e,t._prev=n,e._prev=t,n&&(n._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const n=this._records.get(e);this._maybeAddToChanges(n,t);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new dh(e);return this._records.set(e,n),n.currentValue=t,this._addToAdditions(n),n}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(n=>t(e[n],n))}}class dh{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function fh(){return new ph([new rh])}let ph=(()=>{class e{constructor(e){this.factories=e}static create(t,n){if(null!=n){const e=n.factories.slice();t=t.concat(e)}return new e(t)}static extend(t){return{provide:e,useFactory:n=>e.create(t,n||fh()),deps:[[e,new tr,new Xn]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(null!=t)return t;throw new Error(`Cannot find a differ supporting object '${e}' of type '${n=e,n.name||typeof n}'`);var n}}return e.\u0275prov=b({token:e,providedIn:"root",factory:fh}),e})();function gh(){return new mh([new lh])}let mh=(()=>{class e{constructor(e){this.factories=e}static create(t,n){if(n){const e=n.factories.slice();t=t.concat(e)}return new e(t)}static extend(t){return{provide:e,useFactory:n=>e.create(t,n||gh()),deps:[[e,new tr,new Xn]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(t)return t;throw new Error(`Cannot find a differ supporting object '${e}'`)}}return e.\u0275prov=b({token:e,providedIn:"root",factory:gh}),e})();function yh(e,t,n,r,i=!1){for(;null!==n;){const s=t[n.index];if(null!==s&&r.push(Re(s)),fe(s))for(let e=he;e<s.length;e++){const t=s[e],n=t[1].firstChild;null!==n&&yh(t[1],t,n,r)}const o=n.type;if(8&o)yh(e,t,n.child,r);else if(32&o){const e=Ti(n,t);let i;for(;i=e();)r.push(i)}else if(16&o){const e=Qi(t,n);if(Array.isArray(e))r.push(...e);else{const n=Si(t[16]);yh(n[1],n,e,r,!0)}}n=i?n.projectionNext:n.next}return r}class vh{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,t=e[1];return yh(t,e,t.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(fe(e)){const t=e[8],n=t?t.indexOf(this):-1;n>-1&&(Li(e,n),xn(t,n))}this._attachedToViewContainer=!1}Mi(this._lView[1],this._lView)}onDestroy(e){js(this._lView[1],this._lView,null,e)}markForCheck(){oo(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){ao(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(e,t,n){rt(!0);try{ao(e,t,n)}finally{rt(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var e;this._appRef=null,ts(this._lView[1],e=this._lView,e[11],2,null,null)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}}class _h extends vh{constructor(e){super(e),this._view=e}detectChanges(){uo(this._view)}checkNoChanges(){!function(e){rt(!0);try{uo(e)}finally{rt(!1)}}(this._view)}get context(){return null}}const wh=function(e){return function(e,t,n){if(ge(e)&&!n){const n=Fe(e.index,t);return new vh(n,n)}return 47&e.type?new vh(t[16],t):null}(Ye(),Ge(),16==(16&e))};let bh=(()=>{class e{}return e.__NG_ELEMENT_ID__=wh,e})();const Ih=[new lh],Eh=new ph([new rh]),Th=new mh(Ih),Sh=function(){return xh(Ye(),Ge())};let Ch=(()=>{class e{}return e.__NG_ELEMENT_ID__=Sh,e})();const Ah=Ch,kh=class extends Ah{constructor(e,t,n){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=n}createEmbeddedView(e){const t=this._declarationTContainer.tViews,n=As(this._declarationLView,t,e,16,null,t.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(t)),Os(t,n,e),new vh(n)}};function xh(e,t){return 4&e.type?new kh(t,e,Gl(e,t)):null}class Nh{}class Oh{}const Rh=function(){return Uh(Ye(),Ge())};let Dh=(()=>{class e{}return e.__NG_ELEMENT_ID__=Rh,e})();const Ph=Dh,Lh=class extends Ph{constructor(e,t,n){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=n}get element(){return Gl(this._hostTNode,this._hostLView)}get injector(){return new ln(this._hostTNode,this._hostLView)}get parentInjector(){const e=Qt(this._hostTNode,this._hostLView);if(Bt(e)){const t=Zt(e,this._hostLView),n=zt(e);return new ln(t[1].data[n+8],t)}return new ln(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=Mh(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-he}createEmbeddedView(e,t,n){const r=e.createEmbeddedView(t||{});return this.insert(r,n),r}createComponent(e,t,n,r,i){const s=n||this.parentInjector;if(!i&&null==e.ngModule&&s){const e=s.get(Nh,null);e&&(i=e)}const o=e.create(s,r,void 0,i);return this.insert(o.hostView,t),o}insert(e,t){const n=e._lView,r=n[1];if(fe(n[3])){const t=this.indexOf(e);if(-1!==t)this.detach(t);else{const t=n[3],r=new Lh(t,t[6],t[3]);r.detach(r.indexOf(e))}}const i=this._adjustIndex(t),s=this._lContainer;!function(e,t,n,r){const i=he+r,s=n.length;r>0&&(n[i-1][4]=t),r<s-he?(t[4]=n[i],kn(n,he+r,t)):(n.push(t),t[4]=null),t[3]=n;const o=t[17];null!==o&&n!==o&&function(e,t){const n=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===n?e[9]=[t]:n.push(t)}(o,t);const a=t[19];null!==a&&a.insertView(e),t[2]|=128}(r,n,s,i);const o=Ji(i,s),a=n[11],u=zi(a,s[7]);return null!==u&&function(e,t,n,r,i,s){r[0]=i,r[6]=t,ts(e,r,n,1,i,s)}(r,s[6],a,n,u,o),e.attachToViewContainerRef(),kn(Fh(s),i,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=Mh(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),n=Li(this._lContainer,t);n&&(xn(Fh(this._lContainer),t),Mi(n[1],n))}detach(e){const t=this._adjustIndex(e,-1),n=Li(this._lContainer,t);return n&&null!=xn(Fh(this._lContainer),t)?new vh(n):null}_adjustIndex(e,t=0){return null==e?this.length+t:e}};function Mh(e){return e[8]}function Fh(e){return e[8]||(e[8]=[])}function Uh(e,t){let n;const r=t[e.index];if(fe(r))n=r;else{let i;if(8&e.type)i=Re(r);else{const n=t[11];i=n.createComment("");const r=Pe(e,t);ji(n,zi(n,r),i,function(e,t){return Ne(e)?e.nextSibling(t):t.nextSibling}(n,r),!1)}t[e.index]=n=to(r,t,i,e),so(t,n)}return new Lh(n,e,t)}const Vh={};class jh extends Hl{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=ue(e);return new zh(t,this.ngModule)}}function qh(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}const Bh=new bn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>yi});class zh extends zl{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=e.selectors.map(ms).join(","),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return qh(this.componentDef.inputs)}get outputs(){return qh(this.componentDef.outputs)}create(e,t,n,r){const i=(r=r||this.ngModule)?function(e,t){return{get:(n,r,i)=>{const s=e.get(n,Vh,i);return s!==Vh||r===Vh?s:t.get(n,r,i)}}}(e,r.injector):e,s=i.get(Ql,Oe),o=i.get(eh,null),a=s.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",c=n?function(e,t,n){if(Ne(e))return e.selectRootElement(t,n===M.ShadowDom);let r="string"==typeof t?e.querySelector(t):t;return r.textContent="",r}(a,n,this.componentDef.encapsulation):Di(s.createRenderer(null,this.componentDef),u,function(e){const t=e.toLowerCase();return"svg"===t?Se:"math"===t?Ce:null}(u)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:yi,clean:lo,playerHandler:null,flags:0},d=Vs(0,null,null,1,0,null,null,null,null,null),f=As(null,d,h,l,null,null,s,a,o,i);let p,g;yt(f);try{const e=function(e,t,n,r,i,s){const o=n[1];n[20]=e;const a=ks(o,20,2,"#host",null),u=a.mergedAttrs=t.hostAttrs;null!==u&&(vo(a,u,!0),null!==e&&(Ft(i,e,u),null!==a.classes&&is(i,e,a.classes),null!==a.styles&&rs(i,e,a.styles)));const c=r.createRenderer(e,t),l=As(n,Us(t),null,t.onPush?64:16,n[20],a,r,c,null,null);return o.firstCreatePass&&(Jt(Wt(a,n),o,t.type),$s(o,a),Ws(a,n.length,1)),so(n,l),n[20]=l}(c,this.componentDef,f,s,a);if(c)if(n)Ft(a,c,["ng-version",nh.full]);else{const{attrs:e,classes:t}=function(e){const t=[],n=[];let r=1,i=2;for(;r<e.length;){let s=e[r];if("string"==typeof s)2===i?""!==s&&t.push(s,e[++r]):8===i&&n.push(s);else{if(!hs(i))break;i=s}r++}return{attrs:t,classes:n}}(this.componentDef.selectors[0]);e&&Ft(a,c,e),t&&t.length>0&&is(a,c,t.join(" "))}if(g=Le(d,le),void 0!==t){const e=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=t[n];e.push(null!=r?Array.from(r):null)}}p=function(e,t,n,r,i){const s=n[1],o=function(e,t,n){const r=Ye();e.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Ks(e,r,t,Ns(e,t,1,null),n));const i=an(t,e,r.directiveStart,r);ci(i,t);const s=Pe(r,t);return s&&ci(s,t),i}(s,n,t);if(r.components.push(o),e[8]=o,i&&i.forEach(e=>e(o,t)),t.contentQueries){const e=Ye();t.contentQueries(1,o,e.directiveStart)}const a=Ye();return!s.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(Tt(a.index),Zs(n[1],a,0,a.directiveStart,a.directiveEnd,t),Hs(t,o)),o}(e,this.componentDef,f,h,[Lo]),Os(d,f,null)}finally{It()}return new Zh(this.componentType,p,Gl(g,f),f,g)}}class Zh extends class{}{constructor(e,t,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.instance=t,this.hostView=this.changeDetectorRef=new _h(r),this.componentType=e}get injector(){return new ln(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function Hh(e,t,n,r){return P(()=>{const i=e;null!==t&&(i.hasOwnProperty("decorators")&&void 0!==i.decorators?i.decorators.push(...t):i.decorators=t),null!==n&&(i.ctorParameters=n),null!==r&&(i.propDecorators=i.hasOwnProperty("propDecorators")&&void 0!==i.propDecorators?Object.assign(Object.assign({},i.propDecorators),r):r)})}const $h=new Map;class Gh extends Nh{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new jh(this);const n=ce(e),r=e[W]||null;r&&Lc(r),this._bootstrapComponents=bi(n.bootstrap),this._r3Injector=Co(e,t,[{provide:Nh,useValue:this},{provide:Hl,useValue:this.componentFactoryResolver}],l(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,t=Po.THROW_IF_NOT_FOUND,n=N.Default){return e===Po||e===Nh||e===_o?this:this._r3Injector.get(e,t,n)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Wh extends Oh{constructor(e){super(),this.moduleType=e,null!==ce(e)&&function(e){const t=new Set;!function e(n){const r=ce(n,!0),i=r.id;null!==i&&(function(e,t,n){if(t&&t!==n)throw new Error(`Duplicate module registered for ${e} - ${l(t)} vs ${l(t.name)}`)}(i,$h.get(i),n),$h.set(i,n));const s=bi(r.imports);for(const o of s)t.has(o)||(t.add(o),e(o))}(e)}(e)}create(e){return new Gh(this.moduleType,e)}}function Kh(e,t,n){const r=it()+e,i=Ge();return i[r]===ys?Yo(i,r,n?t.call(n):t()):Qo(i,r)}function Yh(e,t,n,r){return od(Ge(),it(),e,t,n,r)}function Qh(e,t,n,r,i){return ad(Ge(),it(),e,t,n,r,i)}function Jh(e,t,n,r,i,s){return ud(Ge(),it(),e,t,n,r,i,s)}function Xh(e,t,n,r,i,s,o){return cd(Ge(),it(),e,t,n,r,i,s,o)}function ed(e,t,n,r,i,s,o,a){const u=it()+e,c=Ge(),l=ta(c,u,n,r,i,s);return Jo(c,u+4,o)||l?Yo(c,u+5,a?t.call(a,n,r,i,s,o):t(n,r,i,s,o)):Qo(c,u+5)}function td(e,t,n,r,i,s,o,a,u){const c=it()+e,l=Ge(),h=ta(l,c,n,r,i,s);return Xo(l,c+4,o,a)||h?Yo(l,c+6,u?t.call(u,n,r,i,s,o,a):t(n,r,i,s,o,a)):Qo(l,c+6)}function nd(e,t,n,r,i,s,o,a,u,c){const l=it()+e,h=Ge();let d=ta(h,l,n,r,i,s);return ea(h,l+4,o,a,u)||d?Yo(h,l+7,c?t.call(c,n,r,i,s,o,a,u):t(n,r,i,s,o,a,u)):Qo(h,l+7)}function rd(e,t,n,r,i,s,o,a,u,c,l){const h=it()+e,d=Ge(),f=ta(d,h,n,r,i,s);return ta(d,h+4,o,a,u,c)||f?Yo(d,h+8,l?t.call(l,n,r,i,s,o,a,u,c):t(n,r,i,s,o,a,u,c)):Qo(d,h+8)}function id(e,t,n,r){return ld(Ge(),it(),e,t,n,r)}function sd(e,t){const n=e[t];return n===ys?void 0:n}function od(e,t,n,r,i,s){const o=t+n;return Jo(e,o,i)?Yo(e,o+1,s?r.call(s,i):r(i)):sd(e,o+1)}function ad(e,t,n,r,i,s,o){const a=t+n;return Xo(e,a,i,s)?Yo(e,a+2,o?r.call(o,i,s):r(i,s)):sd(e,a+2)}function ud(e,t,n,r,i,s,o,a){const u=t+n;return ea(e,u,i,s,o)?Yo(e,u+3,a?r.call(a,i,s,o):r(i,s,o)):sd(e,u+3)}function cd(e,t,n,r,i,s,o,a,u){const c=t+n;return ta(e,c,i,s,o,a)?Yo(e,c+4,u?r.call(u,i,s,o,a):r(i,s,o,a)):sd(e,c+4)}function ld(e,t,n,r,i,s){let o=t+n,a=!1;for(let u=0;u<i.length;u++)Jo(e,o++,i[u])&&(a=!0);return a?Yo(e,o,r.apply(s,i)):sd(e,o)}function hd(e,t){const n=We();let r;const i=e+le;n.firstCreatePass?(r=function(e,t){if(t)for(let n=t.length-1;n>=0;n--){const r=t[n];if(e===r.name)return r}throw new m("302",`The pipe '${e}' could not be found!`)}(t,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=ve(r.type)),o=R(xa);try{const e=$t(!1),t=s();return $t(e),function(e,t,n,r){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=r}(n,Ge(),i,t),t}finally{R(o)}}function dd(e,t,n){const r=e+le,i=Ge(),s=Me(i,r);return vd(i,yd(i,r)?od(i,it(),t,s.transform,n,s):s.transform(n))}function fd(e,t,n,r){const i=e+le,s=Ge(),o=Me(s,i);return vd(s,yd(s,i)?ad(s,it(),t,o.transform,n,r,o):o.transform(n,r))}function pd(e,t,n,r,i){const s=e+le,o=Ge(),a=Me(o,s);return vd(o,yd(o,s)?ud(o,it(),t,a.transform,n,r,i,a):a.transform(n,r,i))}function gd(e,t,n,r,i,s){const o=e+le,a=Ge(),u=Me(a,o);return vd(a,yd(a,o)?cd(a,it(),t,u.transform,n,r,i,s,u):u.transform(n,r,i,s))}function md(e,t,n){const r=e+le,i=Ge(),s=Me(i,r);return vd(i,yd(i,r)?ld(i,it(),t,s.transform,n,s):s.transform.apply(s,n))}function yd(e,t){return e[1].data[t].pure}function vd(e,t){return Go.isWrapped(t)&&(t=Go.unwrap(t),e[st()]=ys),t}function _d(e){return t=>{setTimeout(e,void 0,t)}}const wd=class extends r.xQ{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,n){var r,s,o;let a=e,u=t||(()=>null),c=n;if(e&&"object"==typeof e){const t=e;a=null===(r=t.next)||void 0===r?void 0:r.bind(t),u=null===(s=t.error)||void 0===s?void 0:s.bind(t),c=null===(o=t.complete)||void 0===o?void 0:o.bind(t)}this.__isAsync&&(u=_d(u),a&&(a=_d(a)),c&&(c=_d(c)));const l=super.subscribe({next:a,error:u,complete:c});return e instanceof i.w&&e.add(l),l}};function bd(){return this._results[$o()]()}class Id{constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=$o(),n=Id.prototype;n[t]||(n[t]=bd)}get changes(){return this._changes||(this._changes=new wd)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const n=this;n.dirty=!1;const r=Cn(e);(this._changesDetected=!function(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],s=t[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}(n._results,r,t))&&(n._results=r,n.length=r.length,n.last=r[this.length-1],n.first=r[0])}notifyOnChanges(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class Ed{constructor(e){this.queryList=e,this.matches=null}clone(){return new Ed(this.queryList)}setDirty(){this.queryList.setDirty()}}class Td{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const n=null!==e.contentQueries?e.contentQueries[0]:t.length,r=[];for(let e=0;e<n;e++){const n=t.getByIndex(e);r.push(this.queries[n.indexInDeclarationView].clone())}return new Td(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==Ud(e,t).matches&&this.queries[t].setDirty()}}class Sd{constructor(e,t,n=null){this.predicate=e,this.flags=t,this.read=n}}class Cd{constructor(e=[]){this.queries=e}elementStart(e,t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let n=0;n<this.length;n++){const r=null!==t?t.length:0,i=this.getByIndex(n).embeddedTView(e,r);i&&(i.indexInDeclarationView=n,null!==t?t.push(i):t=[i])}return null!==t?new Cd(t):null}template(e,t){for(let n=0;n<this.queries.length;n++)this.queries[n].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class Ad{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new Ad(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let n=e.parent;for(;null!==n&&8&n.type&&n.index!==t;)n=n.parent;return t===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(e,t,kd(t,i)),this.matchTNodeWithReadOption(e,t,on(t,e,i,!1,!1))}else n===Ch?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,on(t,e,n,!1,!1))}matchTNodeWithReadOption(e,t,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===Kl||r===Dh||r===Ch&&4&t.type)this.addMatch(t.index,-2);else{const n=on(t,e,r,!1,!1);null!==n&&this.addMatch(t.index,n)}else this.addMatch(t.index,n)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function kd(e,t){const n=e.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function xd(e,t,n,r){return-1===n?function(e,t){return 11&e.type?Gl(e,t):4&e.type?xh(e,t):null}(t,e):-2===n?function(e,t,n){return n===Kl?Gl(t,e):n===Ch?xh(t,e):n===Dh?Uh(t,e):void 0}(e,t,r):an(e,e[1],n,t)}function Nd(e,t,n,r){const i=t[19].queries[r];if(null===i.matches){const r=e.data,s=n.matches,o=[];for(let e=0;e<s.length;e+=2){const i=s[e];o.push(i<0?null:xd(t,r[i],s[e+1],n.metadata.read))}i.matches=o}return i.matches}function Od(e,t,n,r){const i=e.queries.getByIndex(n),s=i.matches;if(null!==s){const o=Nd(e,t,i,n);for(let e=0;e<s.length;e+=2){const n=s[e];if(n>0)r.push(o[e/2]);else{const i=s[e+1],o=t[-n];for(let e=he;e<o.length;e++){const t=o[e];t[17]===t[3]&&Od(t[1],t,i,r)}if(null!==o[9]){const e=o[9];for(let t=0;t<e.length;t++){const n=e[t];Od(n[1],n,i,r)}}}}}return r}function Rd(e){const t=Ge(),n=We(),r=ft();pt(r+1);const i=Ud(n,r);if(e.dirty&&Ue(t)===(2==(2&i.metadata.flags))){if(null===i.matches)e.reset([]);else{const s=i.crossesNgTemplate?Od(n,t,r,[]):Nd(n,t,i,r);e.reset(s,Yl),e.notifyOnChanges()}return!0}return!1}function Dd(e,t,n){const r=We();r.firstCreatePass&&(Fd(r,new Sd(e,t,n),-1),2==(2&t)&&(r.staticViewQueries=!0)),Md(r,Ge(),t)}function Pd(e,t,n,r){const i=We();if(i.firstCreatePass){const s=Ye();Fd(i,new Sd(t,n,r),s.index),function(e,t){const n=e.contentQueries||(e.contentQueries=[]);t!==(n.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(i,e),2==(2&n)&&(i.staticContentQueries=!0)}Md(i,Ge(),n)}function Ld(){return e=Ge(),t=ft(),e[19].queries[t].queryList;var e,t}function Md(e,t,n){const r=new Id(4==(4&n));js(e,t,r,r.destroy),null===t[19]&&(t[19]=new Td),t[19].queries.push(new Ed(r))}function Fd(e,t,n){null===e.queries&&(e.queries=new Cd),e.queries.track(new Ad(t,n))}function Ud(e,t){return e.queries.getByIndex(t)}function Vd(e,t){return xh(e,t)}const jd=(()=>({"\u0275\u0275attribute":na,"\u0275\u0275attributeInterpolate1":da,"\u0275\u0275attributeInterpolate2":fa,"\u0275\u0275attributeInterpolate3":pa,"\u0275\u0275attributeInterpolate4":ga,"\u0275\u0275attributeInterpolate5":ma,"\u0275\u0275attributeInterpolate6":ya,"\u0275\u0275attributeInterpolate7":va,"\u0275\u0275attributeInterpolate8":_a,"\u0275\u0275attributeInterpolateV":wa,"\u0275\u0275defineComponent":J,"\u0275\u0275defineDirective":oe,"\u0275\u0275defineInjectable":b,"\u0275\u0275defineInjector":I,"\u0275\u0275defineNgModule":re,"\u0275\u0275definePipe":ae,"\u0275\u0275directiveInject":xa,"\u0275\u0275getInheritedFactory":hn,"\u0275\u0275inject":Wn,"\u0275\u0275injectAttribute":fn,"\u0275\u0275invalidFactory":Na,"\u0275\u0275invalidFactoryDep":Kn,"\u0275\u0275templateRefExtractor":Vd,"\u0275\u0275NgOnChangesFeature":we,"\u0275\u0275ProvidersFeature":Bl,"\u0275\u0275CopyDefinitionFeature":Zo,"\u0275\u0275InheritDefinitionFeature":Fo,"\u0275\u0275nextContext":Wa,"\u0275\u0275namespaceHTML":kt,"\u0275\u0275namespaceMathML":At,"\u0275\u0275namespaceSVG":Ct,"\u0275\u0275enableBindings":He,"\u0275\u0275disableBindings":$e,"\u0275\u0275elementStart":Da,"\u0275\u0275elementEnd":Pa,"\u0275\u0275element":La,"\u0275\u0275elementContainerStart":Ma,"\u0275\u0275elementContainerEnd":Fa,"\u0275\u0275elementContainer":Ua,"\u0275\u0275pureFunction0":Kh,"\u0275\u0275pureFunction1":Yh,"\u0275\u0275pureFunction2":Qh,"\u0275\u0275pureFunction3":Jh,"\u0275\u0275pureFunction4":Xh,"\u0275\u0275pureFunction5":ed,"\u0275\u0275pureFunction6":td,"\u0275\u0275pureFunction7":nd,"\u0275\u0275pureFunction8":rd,"\u0275\u0275pureFunctionV":id,"\u0275\u0275getCurrentView":Va,"\u0275\u0275restoreView":Ke,"\u0275\u0275listener":za,"\u0275\u0275projection":Qa,"\u0275\u0275syntheticHostProperty":bc,"\u0275\u0275syntheticHostListener":Za,"\u0275\u0275pipeBind1":dd,"\u0275\u0275pipeBind2":fd,"\u0275\u0275pipeBind3":pd,"\u0275\u0275pipeBind4":gd,"\u0275\u0275pipeBindV":md,"\u0275\u0275projectionDef":Ya,"\u0275\u0275hostProperty":wc,"\u0275\u0275property":Oa,"\u0275\u0275propertyInterpolate":Ja,"\u0275\u0275propertyInterpolate1":Xa,"\u0275\u0275propertyInterpolate2":eu,"\u0275\u0275propertyInterpolate3":tu,"\u0275\u0275propertyInterpolate4":nu,"\u0275\u0275propertyInterpolate5":ru,"\u0275\u0275propertyInterpolate6":iu,"\u0275\u0275propertyInterpolate7":su,"\u0275\u0275propertyInterpolate8":ou,"\u0275\u0275propertyInterpolateV":au,"\u0275\u0275pipe":hd,"\u0275\u0275queryRefresh":Rd,"\u0275\u0275viewQuery":Dd,"\u0275\u0275loadQuery":Ld,"\u0275\u0275contentQuery":Pd,"\u0275\u0275reference":Ia,"\u0275\u0275classMap":Eu,"\u0275\u0275classMapInterpolate1":Gu,"\u0275\u0275classMapInterpolate2":Wu,"\u0275\u0275classMapInterpolate3":Ku,"\u0275\u0275classMapInterpolate4":Yu,"\u0275\u0275classMapInterpolate5":Qu,"\u0275\u0275classMapInterpolate6":Ju,"\u0275\u0275classMapInterpolate7":Xu,"\u0275\u0275classMapInterpolate8":ec,"\u0275\u0275classMapInterpolateV":tc,"\u0275\u0275styleMap":bu,"\u0275\u0275styleMapInterpolate1":nc,"\u0275\u0275styleMapInterpolate2":rc,"\u0275\u0275styleMapInterpolate3":ic,"\u0275\u0275styleMapInterpolate4":sc,"\u0275\u0275styleMapInterpolate5":oc,"\u0275\u0275styleMapInterpolate6":ac,"\u0275\u0275styleMapInterpolate7":uc,"\u0275\u0275styleMapInterpolate8":cc,"\u0275\u0275styleMapInterpolateV":lc,"\u0275\u0275styleProp":_u,"\u0275\u0275stylePropInterpolate1":hc,"\u0275\u0275stylePropInterpolate2":dc,"\u0275\u0275stylePropInterpolate3":fc,"\u0275\u0275stylePropInterpolate4":pc,"\u0275\u0275stylePropInterpolate5":gc,"\u0275\u0275stylePropInterpolate6":mc,"\u0275\u0275stylePropInterpolate7":yc,"\u0275\u0275stylePropInterpolate8":vc,"\u0275\u0275stylePropInterpolateV":_c,"\u0275\u0275classProp":wu,"\u0275\u0275advance":vs,"\u0275\u0275template":ba,"\u0275\u0275text":Mu,"\u0275\u0275textInterpolate":Fu,"\u0275\u0275textInterpolate1":Uu,"\u0275\u0275textInterpolate2":Vu,"\u0275\u0275textInterpolate3":ju,"\u0275\u0275textInterpolate4":qu,"\u0275\u0275textInterpolate5":Bu,"\u0275\u0275textInterpolate6":zu,"\u0275\u0275textInterpolate7":Zu,"\u0275\u0275textInterpolate8":Hu,"\u0275\u0275textInterpolateV":$u,"\u0275\u0275i18n":Nl,"\u0275\u0275i18nAttributes":Ol,"\u0275\u0275i18nExp":Rl,"\u0275\u0275i18nStart":kl,"\u0275\u0275i18nEnd":xl,"\u0275\u0275i18nApply":Dl,"\u0275\u0275i18nPostprocess":Pl,"\u0275\u0275resolveWindow":vi,"\u0275\u0275resolveDocument":_i,"\u0275\u0275resolveBody":wi,"\u0275\u0275setComponentScope":X,"\u0275\u0275setNgModuleScope":ie,"\u0275\u0275sanitizeHtml":ei,"\u0275\u0275sanitizeStyle":ti,"\u0275\u0275sanitizeResourceUrl":ri,"\u0275\u0275sanitizeScript":ii,"\u0275\u0275sanitizeUrl":ni,"\u0275\u0275sanitizeUrlOrResourceUrl":ai,"\u0275\u0275trustConstantHtml":si,"\u0275\u0275trustConstantResourceUrl":oi,forwardRef:f,resolveForwardRef:p}))(),qd=[];function Bd(e){return function(e){return void 0!==e.ngModule}(e)?e.ngModule:e}const zd=yn("NgModule",e=>e,void 0,void 0,(e,t)=>Zd(e,t)),Zd=function(e,t={}){!function(e,t,n=!1){const r=Cn(t.declarations||z);let i=null;Object.defineProperty(e,G,{configurable:!0,get:()=>(null===i&&(i=En().compileNgModule(jd,`ng:///${e.name}/\u0275mod.js`,{type:e,bootstrap:Cn(t.bootstrap||z).map(p),declarations:r.map(p),imports:Cn(t.imports||z).map(p).map(Bd),exports:Cn(t.exports||z).map(p).map(Bd),schemas:t.schemas?Cn(t.schemas):null,id:t.id||null}),i.schemas||(i.schemas=[])),i)});let s=null;Object.defineProperty(e,K,{get:()=>{if(null===s){const t=En();s=t.compileFactory(jd,`ng:///${e.name}/\u0275fac.js`,{name:e.name,type:e,deps:or(e),target:t.FactoryTarget.NgModule,typeArgumentCount:0})}return s},configurable:!1});let o=null;Object.defineProperty(e,A,{get:()=>{if(null===o){const n={name:e.name,type:e,providers:t.providers||z,imports:[(t.imports||z).map(p),(t.exports||z).map(p)]};o=En().compileInjector(jd,`ng:///${e.name}/\u0275inj.js`,n)}return o},configurable:!1})}(e,t),function(e,t){qd.push({moduleType:e,ngModule:t})}(e,t)},Hd=new bn("Application Initializer");let $d=(()=>{class e{constructor(e){this.appInits=e,this.resolve=$l,this.reject=$l,this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}runInitializers(){if(this.initialized)return;const e=[],t=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const t=this.appInits[n]();if(ja(t))e.push(t);else if(Ba(t)){const n=new Promise((e,n)=>{t.subscribe({complete:e,error:n})});e.push(n)}}Promise.all(e).then(()=>{t()}).catch(e=>{this.reject(e)}),0===e.length&&t(),this.initialized=!0}}return e.\u0275fac=function(t){return new(t||e)(Wn(Hd,8))},e.\u0275prov=b({token:e,factory:e.\u0275fac}),e})();const Gd=new bn("AppId"),Wd={provide:Gd,useFactory:function(){return`${Kd()}${Kd()}${Kd()}`},deps:[]};function Kd(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Yd=new bn("Platform Initializer"),Qd=new bn("Platform ID"),Jd=new bn("appBootstrapListener");let Xd=(()=>{class e{log(e){console.log(e)}warn(e){console.warn(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac}),e})();const ef=new bn("LocaleId"),tf=new bn("DefaultCurrencyCode");class nf{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}const rf=function(e){return new Wh(e)},sf=rf,of=function(e){return Promise.resolve(rf(e))},af=function(e){const t=rf(e),n=bi(ce(e).declarations).reduce((e,t)=>{const n=ue(t);return n&&e.push(new zh(n)),e},[]);return new nf(t,n)},uf=af,cf=function(e){return Promise.resolve(af(e))};let lf=(()=>{class e{constructor(){this.compileModuleSync=sf,this.compileModuleAsync=of,this.compileModuleAndAllComponentsSync=uf,this.compileModuleAndAllComponentsAsync=cf}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac}),e})();const hf=(()=>Promise.resolve(0))();function df(e){"undefined"==typeof Zone?hf.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class ff{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new wd(!1),this.onMicrotaskEmpty=new wd(!1),this.onStable=new wd(!1),this.onError=new wd(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!n&&t,r.shouldCoalesceRunChangeDetection=n,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function(){let e=q.requestAnimationFrame,t=q.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function(e){const t=()=>{!function(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(q,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,mf(e),e.isCheckStableRunning=!0,gf(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),mf(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return yf(e),n.invokeTask(i,s,o,a)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||e.shouldCoalesceRunChangeDetection)&&t(),vf(e)}},onInvoke:(n,r,i,s,o,a,u)=>{try{return yf(e),n.invoke(i,s,o,a,u)}finally{e.shouldCoalesceRunChangeDetection&&t(),vf(e)}},onHasTask:(t,n,r,i)=>{t.hasTask(r,i),n===r&&("microTask"==i.change?(e._hasPendingMicrotasks=i.microTask,mf(e),gf(e)):"macroTask"==i.change&&(e.hasPendingMacrotasks=i.macroTask))},onHandleError:(t,n,r,i)=>(t.handleError(r,i),e.runOutsideAngular(()=>e.onError.emit(i)),!1)})}(r)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ff.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(ff.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,t,n){return this._inner.run(e,t,n)}runTask(e,t,n,r){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+r,e,pf,$l,$l);try{return i.runTask(s,t,n)}finally{i.cancelTask(s)}}runGuarded(e,t,n){return this._inner.runGuarded(e,t,n)}runOutsideAngular(e){return this._outer.run(e)}}const pf={};function gf(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function mf(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function yf(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function vf(e){e._nesting--,gf(e)}class _f{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new wd,this.onMicrotaskEmpty=new wd,this.onStable=new wd,this.onError=new wd}run(e,t,n){return e.apply(t,n)}runGuarded(e,t,n){return e.apply(t,n)}runOutsideAngular(e){return e()}runTask(e,t,n,r){return e.apply(t,n)}}let wf=(()=>{class e{constructor(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ff.assertNotInAngularZone(),df(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())df(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(t=>!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,t,n){let r=-1;t&&t>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(e=>e.timeoutId!==r),e(this._didWork,this.getPendingTasks())},t)),this._callbacks.push({doneCb:e,timeoutId:r,updateCb:n})}whenStable(e,t,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,t,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(e,t,n){return[]}}return e.\u0275fac=function(t){return new(t||e)(Wn(ff))},e.\u0275prov=b({token:e,factory:e.\u0275fac}),e})(),bf=(()=>{class e{constructor(){this._applications=new Map,Sf.addToWindow(this)}registerApplication(e,t){this._applications.set(e,t)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,t=!0){return Sf.findTestabilityInTree(this,e,t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac}),e})();class If{addToWindow(e){}findTestabilityInTree(e,t,n){return null}}function Ef(e){Sf=e}let Tf,Sf=new If,Cf=!0,Af=!1;function kf(){return Af=!0,Cf}function xf(){if(Af)throw new Error("Cannot enable prod mode after platform setup.");Cf=!1}const Nf=new bn("AllowMultipleToken");class Of{constructor(e,t){this.name=e,this.token=t}}function Rf(e,t,n=[]){const r=`Platform: ${t}`,i=new bn(r);return(t=[])=>{let s=Df();if(!s||s.injector.get(Nf,!1))if(e)e(n.concat(t).concat({provide:i,useValue:!0}));else{const e=n.concat(t).concat({provide:i,useValue:!0},{provide:bo,useValue:"platform"});!function(e){if(Tf&&!Tf.destroyed&&!Tf.injector.get(Nf,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Tf=e.get(Pf);const t=e.get(Yd,null);t&&t.forEach(e=>e())}(Po.create({providers:e,name:r}))}return function(e){const t=Df();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(i)}}function Df(){return Tf&&!Tf.destroyed?Tf:null}let Pf=(()=>{class e{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,t){const n=function(e,t){let n;return n="noop"===e?new _f:("zone.js"===e?void 0:e)||new ff({enableLongStackTrace:kf(),shouldCoalesceEventChangeDetection:!!(null==t?void 0:t.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==t?void 0:t.ngZoneRunCoalescing)}),n}(t?t.ngZone:void 0,{ngZoneEventCoalescing:t&&t.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:t&&t.ngZoneRunCoalescing||!1}),r=[{provide:ff,useValue:n}];return n.run(()=>{const t=Po.create({providers:r,parent:this.injector,name:e.moduleType.name}),i=e.create(t),s=i.injector.get(pi,null);if(!s)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const e=n.onError.subscribe({next:e=>{s.handleError(e)}});i.onDestroy(()=>{Ff(this._modules,i),e.unsubscribe()})}),function(e,t,n){try{const r=n();return ja(r)?r.catch(n=>{throw t.runOutsideAngular(()=>e.handleError(n)),n}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(s,n,()=>{const e=i.injector.get($d);return e.runInitializers(),e.donePromise.then(()=>(Lc(i.injector.get(ef,Nc)||Nc),this._moduleDoBootstrap(i),i))})})}bootstrapModule(e,t=[]){const n=Lf({},t);return function(e,t,n){const r=new Wh(n);return Promise.resolve(r)}(0,0,e).then(e=>this.bootstrapModuleFactory(e,n))}_moduleDoBootstrap(e){const t=e.injector.get(Mf);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(e=>t.bootstrap(e));else{if(!e.instance.ngDoBootstrap)throw new Error(`The module ${l(e.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);e.instance.ngDoBootstrap(t)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(e=>e.destroy()),this._destroyListeners.forEach(e=>e()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(t){return new(t||e)(Wn(Po))},e.\u0275prov=b({token:e,factory:e.\u0275fac}),e})();function Lf(e,t){return Array.isArray(t)?t.reduce(Lf,e):Object.assign(Object.assign({},e),t)}let Mf=(()=>{class e{constructor(e,t,n,r,i){this._zone=e,this._injector=t,this._exceptionHandler=n,this._componentFactoryResolver=r,this._initStatus=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const u=new s.y(e=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{e.next(this._stable),e.complete()})}),c=new s.y(e=>{let t;this._zone.runOutsideAngular(()=>{t=this._zone.onStable.subscribe(()=>{ff.assertNotInAngularZone(),df(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,e.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{ff.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{e.next(!1)}))});return()=>{t.unsubscribe(),n.unsubscribe()}});this.isStable=(0,o.T)(u,c.pipe((0,a.B)()))}bootstrap(e,t){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=e instanceof zl?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(Nh),i=n.create(Po.NULL,[],t||n.selector,r),s=i.location.nativeElement,o=i.injector.get(wf,null),a=o&&i.injector.get(bf);return o&&a&&a.registerApplication(s,o),i.onDestroy(()=>{this.detachView(i.hostView),Ff(this.components,i),a&&a.unregisterApplication(s)}),this._loadComponent(i),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const t=e;this._views.push(t),t.attachToAppRef(this)}detachView(e){const t=e;Ff(this._views,t),t.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(Jd,[]).concat(this._bootstrapListeners).forEach(t=>t(e))}ngOnDestroy(){this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return e.\u0275fac=function(t){return new(t||e)(Wn(ff),Wn(Po),Wn(pi),Wn(Hl),Wn($d))},e.\u0275prov=b({token:e,factory:e.\u0275fac}),e})();function Ff(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class Uf{}class Vf{}const jf={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let qf=(()=>{class e{constructor(e,t){this._compiler=e,this._config=t||jf}load(e){return this.loadAndCompile(e)}loadAndCompile(e){let[t,r]=e.split("#");return void 0===r&&(r="default"),n(8255)(t).then(e=>e[r]).then(e=>Bf(e,t,r)).then(e=>this._compiler.compileModuleAsync(e))}loadFactory(e){let[t,r]=e.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n(8255)(this._config.factoryPathPrefix+t+this._config.factoryPathSuffix).then(e=>e[r+i]).then(e=>Bf(e,t,r))}}return e.\u0275fac=function(t){return new(t||e)(Wn(lf),Wn(Vf,8))},e.\u0275prov=b({token:e,factory:e.\u0275fac}),e})();function Bf(e,t,n){if(!e)throw new Error(`Cannot find '${n}' in '${t}'`);return e}const zf=function(e){return null},Zf=Rf(null,"core",[{provide:Qd,useValue:"unknown"},{provide:Pf,deps:[Po]},{provide:bf,deps:[]},{provide:Xd,deps:[]}]),Hf=[{provide:Mf,useClass:Mf,deps:[ff,Po,pi,Hl,$d]},{provide:Bh,deps:[ff],useFactory:function(e){let t=[];return e.onStable.subscribe(()=>{for(;t.length;)t.pop()()}),function(e){t.push(e)}}},{provide:$d,useClass:$d,deps:[[new Xn,Hd]]},{provide:lf,useClass:lf,deps:[]},Wd,{provide:ph,useFactory:function(){return Eh},deps:[]},{provide:mh,useFactory:function(){return Th},deps:[]},{provide:ef,useFactory:function(e){return Lc(e=e||"undefined"!=typeof $localize&&$localize.locale||Nc),e},deps:[[new Jn(ef),new Xn,new tr]]},{provide:tf,useValue:"USD"}];let $f=(()=>{class e{constructor(e){}}return e.\u0275fac=function(t){return new(t||e)(Wn(Mf))},e.\u0275mod=re({type:e}),e.\u0275inj=I({providers:Hf}),e})()},9748:(e,t,n)=>{"use strict";n.d(t,{hO:()=>g,xv:()=>h,Dh:()=>l,GT:()=>u,on:()=>d,pX:()=>a});var r=n(5366),i=n(9001),s=n(5271);e=n.hmd(e);const o=["ngOnDestroy"],a=(e,t,n,r={})=>new Proxy(e,{get:(i,s)=>n.runOutsideAngular(()=>{var i;if(e[s])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(s,e[s]),e[s];if(o.indexOf(s)>-1)return()=>{};const a=t.toPromise().then(e=>{const t=e&&e[s];return"function"==typeof t?t.bind(e):t&&t.then?t.then(e=>n.run(()=>e)):n.run(()=>t)});return new Proxy(()=>{},{get:(e,t)=>a[t],apply:(e,t,n)=>a.then(e=>{var t;const i=e&&e(...n);return(null===(t=null==r?void 0:r.spy)||void 0===t?void 0:t.apply)&&r.spy.apply(s,n,i),i})})})}),u=(e,t)=>{t.forEach(t=>{Object.getOwnPropertyNames(t.prototype||t).forEach(n=>{Object.defineProperty(e.prototype,n,Object.getOwnPropertyDescriptor(t.prototype||t,n))})})};class c{constructor(e){return e}}const l=new r.OlP("angularfire2.app.options"),h=new r.OlP("angularfire2.app.name");function d(t,n,r){const s="object"==typeof r&&r||{};s.name=s.name||"string"==typeof r&&r||"[DEFAULT]";const o=i.Z.apps.filter(e=>e&&e.name===s.name)[0]||n.runOutsideAngular(()=>i.Z.initializeApp(t,s));try{JSON.stringify(t)!==JSON.stringify(o.options)&&f("error",`${o.name} Firebase App already initialized with different options${e.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(a){}return new c(o)}const f=(e,...t)=>{(0,r.X6Q)()&&"undefined"!=typeof console&&console[e](...t)},p={provide:c,useFactory:d,deps:[l,r.R0b,[new r.FiY,h]]};let g=(()=>{class e{constructor(e){i.Z.registerVersion("angularfire",s.q4.full,"core"),i.Z.registerVersion("angularfire",s.q4.full,"app-compat"),i.Z.registerVersion("angular",r.q4F.full,e.toString())}static initializeApp(t,n){return{ngModule:e,providers:[{provide:l,useValue:t},{provide:h,useValue:n}]}}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(r.Lbi))},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:[p]}),e})()},5271:(e,t,n)=>{"use strict";n.d(t,{q4:()=>c,iC:()=>_,f6:()=>v,HU:()=>m,cc:()=>d});var r=n(5366);(0,n(7092).registerVersion)("firebase","9.0.1","app");var i=n(8489),s=n(8569),o=n(4019),a=n(45),u=n(2893);e=n.hmd(e);const c=new r.GfV("7.0.3"),l=!!e.hot,h=(e,...t)=>{(0,r.X6Q)()&&"undefined"!=typeof console&&console[e](...t)};function d(e,t,n,r,i){const[,s,o]=globalThis.\u0275AngularfireInstanceCache.find(t=>t[0]===e)||[];if(s)return function(e,t){try{return e.toString()===t.toString()}catch(n){return e===t}}(i,o)||(h("error",`${t} was already initialized on the ${n} Firebase App with different settings.${l?" You may need to reload as Firebase is not HMR aware.":""}`),h("warn",{is:i,was:o})),s;{const t=r();return globalThis.\u0275AngularfireInstanceCache.push([e,t,i]),t}}function f(){}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[]);class p{constructor(e,t=i.N){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,n){const r=this.zone;return this.delegate.schedule(function(t){r.runGuarded(()=>{e.apply(this,[t])})},t,n)}}class g{constructor(e){this.zone=e,this.task=null}call(e,t){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",f,{},f,f)),t.pipe((0,o.b)({next:n,complete:n,error:n})).subscribe(e).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let m=(()=>{class e{constructor(e){this.ngZone=e,this.outsideAngular=e.runOutsideAngular(()=>new p(Zone.current)),this.insideAngular=e.run(()=>new p(Zone.current,s.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(r.R0b))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function y(){const e=globalThis.\u0275AngularFireScheduler;if(!e)throw new Error("AngularFireModule has not been provided");return e}function v(e){return e.pipe((0,a.QV)(y().insideAngular))}function _(e){return y(),(t=y(),function(e){return(e=e.lift(new g(t.ngZone))).pipe((0,u.R)(t.outsideAngular),(0,a.QV)(t.insideAngular))})(e);var t}},1932:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(250),i=n(5119),s=n(7092),o=n(308);class a{constructor(e,t){this._delegate=e,this.firebase=t,(0,s._addComponent)(e,new i.wA("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,s.deleteApp)(this._delegate)))}_getService(e,t=s._DEFAULT_ENTRY_NAME){var n;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})}_removeServiceInstance(e,t=s._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){(0,s._addComponent)(this._delegate,e)}_addOrOverwriteComponent(e){(0,s._addOrOverwriteComponent)(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const u=new r.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),c=function e(){const t=function(e){const t={},n={__esModule:!0,initializeApp:function(i,o={}){const a=s.initializeApp(i,o);if((0,r.r3)(t,a.name))return t[a.name];const u=new e(a,n);return t[a.name]=u,u},app:i,registerVersion:s.registerVersion,setLogLevel:s.setLogLevel,onLog:s.onLog,apps:null,SDK_VERSION:s.SDK_VERSION,INTERNAL:{registerComponent:function(t){const o=t.name,a=o.replace("-compat","");if(s._registerComponent(t)&&"PUBLIC"===t.type){const s=(e=i())=>{if("function"!=typeof e[a])throw u.create("invalid-app-argument",{appName:o});return e[a]()};void 0!==t.serviceProps&&(0,r.ZB)(s,t.serviceProps),n[a]=s,e.prototype[a]=function(...e){return this._getService.bind(this,o).apply(this,t.multipleInstances?e:[])}}return"PUBLIC"===t.type?n[a]:null},removeApp:function(e){delete t[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:s}};function i(e){if(!(0,r.r3)(t,e=e||s._DEFAULT_ENTRY_NAME))throw u.create("no-app",{appName:e});return t[e]}return n.default=n,Object.defineProperty(n,"apps",{get:function(){return Object.keys(t).map(e=>t[e])}}),i.App=e,n}(a);return t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){(0,r.ZB)(t,e)},createSubscribe:r.ne,ErrorFactory:r.LL,deepExtend:r.ZB}),t}(),l=new o.Yd("@firebase/app-compat");if((0,r.jU)()&&void 0!==self.firebase){l.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const e=self.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&l.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const h=c;(0,s.registerVersion)("@firebase/app-compat","0.1.1",void 0);const d=h},7092:(e,t,n)=>{"use strict";n.r(t),n.d(t,{FirebaseError:()=>o.ZR,SDK_VERSION:()=>I,_DEFAULT_ENTRY_NAME:()=>l,_addComponent:()=>p,_addOrOverwriteComponent:()=>g,_apps:()=>d,_clearComponents:()=>_,_components:()=>f,_getProvider:()=>y,_registerComponent:()=>m,_removeServiceInstance:()=>v,deleteApp:()=>C,getApp:()=>T,getApps:()=>S,initializeApp:()=>E,onLog:()=>x,registerVersion:()=>k,setLogLevel:()=>N});var r=n(6304),i=n(5119),s=n(308),o=n(250);class a{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null}).filter(e=>e).join(" ")}}const u="@firebase/app",c=new s.Yd("@firebase/app"),l="[DEFAULT]",h={[u]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},d=new Map,f=new Map;function p(e,t){try{e.container.addComponent(t)}catch(n){c.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function g(e,t){e.container.addOrOverwriteComponent(t)}function m(e){const t=e.name;if(f.has(t))return c.debug(`There were multiple attempts to register component ${t}.`),!1;f.set(t,e);for(const n of d.values())p(n,e);return!0}function y(e,t){return e.container.getProvider(t)}function v(e,t,n=l){y(e,t).clearInstance(n)}function _(){f.clear()}const w=new o.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class b{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new i.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw w.create("app-deleted",{appName:this._name})}}const I="9.0.0";function E(e,t={}){"object"!=typeof t&&(t={name:t});const n=Object.assign({name:l,automaticDataCollectionEnabled:!1},t),r=n.name;if("string"!=typeof r||!r)throw w.create("bad-app-name",{appName:String(r)});const s=d.get(r);if(s){if((0,o.vZ)(e,s.options)&&(0,o.vZ)(n,s.config))return s;throw w.create("duplicate-app",{appName:r})}const a=new i.H0(r);for(const i of f.values())a.addComponent(i);const u=new b(e,n,a);return d.set(r,u),u}function T(e=l){const t=d.get(e);if(!t)throw w.create("no-app",{appName:e});return t}function S(){return Array.from(d.values())}function C(e){return A.apply(this,arguments)}function A(){return(A=(0,r.Z)(function*(e){const t=e.name;d.has(t)&&(d.delete(t),yield Promise.all(e.container.getProviders().map(e=>e.delete())),e.isDeleted=!0)})).apply(this,arguments)}function k(e,t,n){var r;let s=null!==(r=h[e])&&void 0!==r?r:e;n&&(s+=`-${n}`);const o=s.match(/\s|\//),a=t.match(/\s|\//);if(o||a){const e=[`Unable to register library "${s}" with version "${t}":`];return o&&e.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&a&&e.push("and"),a&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void c.warn(e.join(" "))}m(new i.wA(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}function x(e,t){if(null!==e&&"function"!=typeof e)throw w.create("invalid-log-argument");(0,s.Am)(e,t)}function N(e){(0,s.Ub)(e)}m(new i.wA("platform-logger",e=>new a(e),"PRIVATE")),k(u,"0.7.0",void 0),k("fire-js","")},5119:(e,t,n)=>{"use strict";n.d(t,{wA:()=>s,H0:()=>u});var r=n(4762),i=n(250),s=function(){function e(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},e.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},e.prototype.setServiceProps=function(e){return this.serviceProps=e,this},e.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},e}(),o="[DEFAULT]",a=function(){function e(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new i.BH;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(s){}}return this.instancesDeferred.get(t).promise},e.prototype.getImmediate=function(e){var t,n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),r=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:o})}catch(h){}try{for(var i=(0,r.XA)(this.instancesDeferred.entries()),s=i.next();!s.done;s=i.next()){var a=(0,r.CR)(s.value,2),u=a[1],c=this.normalizeInstanceIdentifier(a[0]);try{var l=this.getOrInitializeService({instanceIdentifier:c});u.resolve(l)}catch(h){}}}catch(d){t={error:d}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}}},e.prototype.clearInstance=function(e){void 0===e&&(e=o),this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)},e.prototype.delete=function(){return(0,r.mG)(this,void 0,void 0,function(){var e;return(0,r.Jh)(this,function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all((0,r.ev)((0,r.ev)([],(0,r.CR)(e.filter(function(e){return"INTERNAL"in e}).map(function(e){return e.INTERNAL.delete()}))),(0,r.CR)(e.filter(function(e){return"_delete"in e}).map(function(e){return e._delete()}))))];case 1:return t.sent(),[2]}})})},e.prototype.isComponentSet=function(){return null!=this.component},e.prototype.isInitialized=function(e){return void 0===e&&(e=o),this.instances.has(e)},e.prototype.getOptions=function(e){return void 0===e&&(e=o),this.instancesOptions.get(e)||{}},e.prototype.initialize=function(e){var t,n;void 0===e&&(e={});var i=e.options,s=void 0===i?{}:i,o=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(o))throw Error(this.name+"("+o+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var a=this.getOrInitializeService({instanceIdentifier:o,options:s});try{for(var u=(0,r.XA)(this.instancesDeferred.entries()),c=u.next();!c.done;c=u.next()){var l=(0,r.CR)(c.value,2),h=l[1];o===this.normalizeInstanceIdentifier(l[0])&&h.resolve(a)}}catch(d){t={error:d}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}return a},e.prototype.onInit=function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var s=this.instances.get(r);return s&&e(s,r),function(){i.delete(e)}},e.prototype.invokeOnInitCallbacks=function(e,t){var n,i,s=this.onInitCallbacks.get(t);if(s)try{for(var o=(0,r.XA)(s),a=o.next();!a.done;a=o.next()){var u=a.value;try{u(e,t)}catch(c){}}}catch(l){n={error:l}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}},e.prototype.getOrInitializeService=function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,s=this.instances.get(n);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===o?void 0:t),options:i}),this.instances.set(n,s),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(s,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,s)}catch(a){}return s||null},e.prototype.normalizeInstanceIdentifier=function(e){return void 0===e&&(e=o),this.component?this.component.multipleInstances?e:o:e},e.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},e}(),u=function(){function e(e){this.name=e,this.providers=new Map}return e.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},e.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},e.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new a(e,this);return this.providers.set(e,t),t},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}()},308:(e,t,n)=>{"use strict";function r(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var s=arguments[t],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}var i;n.d(t,{in:()=>o,Yd:()=>h,Ub:()=>d,Am:()=>f});var s=[],o=function(e){return e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT",e}({}),a={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},u=o.INFO,c=((i={})[o.DEBUG]="log",i[o.VERBOSE]="log",i[o.INFO]="info",i[o.WARN]="warn",i[o.ERROR]="error",i),l=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(t<e.logLevel)){var s=(new Date).toISOString(),o=c[t];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+t+")");console[o].apply(console,r(["["+s+"]  "+e.name+":"],n))}},h=function(){function e(e){this.name=e,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,s.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in o))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(e){this._logLevel="string"==typeof e?a[e]:e},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.DEBUG],e)),this._logHandler.apply(this,r([this,o.DEBUG],e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.VERBOSE],e)),this._logHandler.apply(this,r([this,o.VERBOSE],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.INFO],e)),this._logHandler.apply(this,r([this,o.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.WARN],e)),this._logHandler.apply(this,r([this,o.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.ERROR],e)),this._logHandler.apply(this,r([this,o.ERROR],e))},e}();function d(e){s.forEach(function(t){t.setLogLevel(e)})}function f(e,t){for(var n=function(n){var r=null;t&&t.level&&(r=a[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];var a=i.map(function(e){if(null==e)return null;if("string"==typeof e)return e;if("number"==typeof e||"boolean"==typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}}).filter(function(e){return e}).join(" ");n>=(null!=r?r:t.logLevel)&&e({level:o[n].toLowerCase(),message:a,args:i,type:t.name})}},r=0,i=s;r<i.length;r++)n(i[r])}},250:(e,t,n)=>{"use strict";n.d(t,{BH:()=>c,LL:()=>E,ZR:()=>I,tV:()=>a,r3:()=>C,Sg:()=>l,ne:()=>D,vZ:()=>k,ZB:()=>u,pd:()=>R,m9:()=>M,z$:()=>h,jU:()=>p,ru:()=>g,d:()=>y,xb:()=>A,w1:()=>v,hl:()=>b,uI:()=>d,UG:()=>f,b$:()=>m,G6:()=>w,Mn:()=>_,xO:()=>N,zd:()=>O});var r=n(4762),i=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},s={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var s=e[i],o=i+1<e.length,a=o?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=(15&a)<<2|c>>6,h=63&c;u||(h=64,o||(l=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[l],n[h])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(i(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){var o=((7&i)<<18|(63&(s=e[n++]))<<12|(63&(a=e[n++]))<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{s=e[n++];var a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var s=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,a=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==s||null==o||null==a||null==u)throw Error();r.push(s<<2|o>>4),64!==a&&(r.push(o<<4&240|a>>2),64!==u&&r.push(a<<6&192|u))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},o=function(e){return function(e){var t=i(e);return s.encodeByteArray(t,!0)}(e).replace(/\./g,"")},a=function(e){try{return s.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function u(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=u(e[n],t[n]));return e}var c=function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})}return e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"==typeof e&&(t.promise.catch(function(){}),1===e.length?e(n):e(n,r))}},e}();function l(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",i=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=(0,r.pi)({iss:"https://securetoken.google.com/"+n,aud:n,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e);return[o(JSON.stringify({alg:"none",type:"JWT"})),o(JSON.stringify(a)),""].join(".")}function h(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function d(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(h())}function f(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(e){return!1}}function p(){return"object"==typeof self&&self.self===self}function g(){var e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}function m(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function y(){return h().indexOf("Electron/")>=0}function v(){var e=h();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function _(){return h().indexOf("MSAppHost/")>=0}function w(){return!f()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function b(){return"indexedDB"in self&&null!=indexedDB}var I=function(e){function t(n,r,i){var s=e.call(this,r)||this;return s.code=n,s.customData=i,s.name="FirebaseError",Object.setPrototypeOf(s,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(s,E.prototype.create),s}return(0,r.ZT)(t,e),t}(Error),E=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=t[0]||{},i=this.service+"/"+e,s=this.errors[e],o=s?T(s,r):"Error",a=this.serviceName+": "+o+" ("+i+").",u=new I(i,a,r);return u},e}();function T(e,t){return e.replace(S,function(e,n){var r=t[n];return null!=r?String(r):"<"+n+"?>"})}var S=/\{\$([^}]+)}/g;function C(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function A(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function k(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,s=n;i<s.length;i++){if(!r.includes(l=s[i]))return!1;var o=e[l],a=t[l];if(x(o)&&x(a)){if(!k(o,a))return!1}else if(o!==a)return!1}for(var u=0,c=r;u<c.length;u++){var l;if(!n.includes(l=c[u]))return!1}return!0}function x(e){return null!==e&&"object"==typeof e}function N(e){for(var t=[],n=function(e,n){Array.isArray(n)?n.forEach(function(n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))},r=0,i=Object.entries(e);r<i.length;r++){var s=i[r];n(s[0],s[1])}return t.length?"&"+t.join("&"):""}function O(e){var t={};return e.replace(/^\?/,"").split("&").forEach(function(e){if(e){var n=e.split("="),r=n[1];t[decodeURIComponent(n[0])]=decodeURIComponent(r)}}),t}function R(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function D(e,t){var n=new P(e,t);return n.subscribe.bind(n)}!function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"==typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(r=16;r<80;r++)n[r]=4294967295&((h=n[r-3]^n[r-8]^n[r-14]^n[r-16])<<1|h>>>31);var i,s,o=this.chain_[0],a=this.chain_[1],u=this.chain_[2],c=this.chain_[3],l=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(i=c^a&(u^c),s=1518500249):(i=a^u^c,s=1859775393):r<60?(i=a&u|c&(a|u),s=2400959708):(i=a^u^c,s=3395469782);var h=(o<<5|o>>>27)+i+l+s+n[r]&4294967295;l=c,c=u,u=4294967295&(a<<30|a>>>2),a=o,o=h}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295},e.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,s=this.inbuf_;r<t;){if(0===s)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"==typeof e){for(;r<t;)if(i[s]=e.charCodeAt(r),++r,++s===this.blockSize){this.compress_(i),s=0;break}}else for(;r<t;)if(i[s]=e[r],++r,++s===this.blockSize){this.compress_(i),s=0;break}}this.inbuf_=s,this.total_+=t}},e.prototype.digest=function(){var e=[],t=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)e[r]=this.chain_[n]>>i&255,++r;return e}}();var P=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(function(){e(n)}).catch(function(e){n.error(e)})}return e.prototype.next=function(e){this.forEachObserver(function(t){t.next(e)})},e.prototype.error=function(e){this.forEachObserver(function(t){t.error(e)}),this.close(e)},e.prototype.complete=function(){this.forEachObserver(function(e){e.complete()}),this.close()},e.prototype.subscribe=function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in e&&"function"==typeof e[i])return!0}return!1}(e)?e:{next:e,error:t,complete:n}).next&&(r.next=L),void 0===r.error&&(r.error=L),void 0===r.complete&&(r.complete=L);var s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}}),this.observers.push(r),s},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(function(){t.observers=void 0,t.onNoObservers=void 0}))},e}();function L(){}function M(e){return e&&e._delegate?e._delegate:e}},9001:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r.Z});var r=n(1932);r.Z.registerVersion("firebase","9.0.1","app-compat")},1119:(e,t,n)=>{"use strict";n.r(t);var r=n(6304),i=n(1932),s=n(250),o=n(7092),a=n(4762),u=n(308),c=n(5119);const l=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},h=new s.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),d=new u.Yd("@firebase/auth");function f(e,...t){d.logLevel<=u.in.ERROR&&d.error(`Auth (${o.SDK_VERSION}): ${e}`,...t)}function p(e,...t){throw m(e,...t)}function g(e,...t){return m(e,...t)}function m(e,...t){if("string"!=typeof e){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return h.create(e,...t)}function y(e,t,...n){if(!e)throw m(t,...n)}function v(e){const t="INTERNAL ASSERTION FAILED: "+e;throw f(t),new Error(t)}function _(e,t){e||v(t)}const w=new Map;function b(e){_(e instanceof Function,"Expected a class definition");let t=w.get(e);return t?(_(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,w.set(e,t),t)}function I(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function E(){return"http:"===T()||"https:"===T()}function T(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class S{constructor(e,t){this.shortDelay=e,this.longDelay=t,_(t>e,"Short delay should be less than long delay!"),this.isMobile=(0,s.uI)()||(0,s.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(E()||(0,s.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function C(e,t){_(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class A{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void v("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void v("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void v("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const k={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded"},x=new S(3e4,6e4);function N(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function O(e,t,n,r){return R.apply(this,arguments)}function R(){return(R=(0,r.Z)(function*(e,t,n,r,i={}){return D(e,i,()=>{let i={},o={};r&&("GET"===t?o=r:i={body:JSON.stringify(r)});const a=(0,s.xO)(Object.assign({key:e.config.apiKey},o)).slice(1),u=new(A.headers());return u.set("Content-Type","application/json"),u.set("X-Client-Version",e._getSdkClientVersion()),e.languageCode&&u.set("X-Firebase-Locale",e.languageCode),A.fetch()(F(e,e.config.apiHost,n,a),Object.assign({method:t,headers:u,referrerPolicy:"no-referrer"},i))})})).apply(this,arguments)}function D(e,t,n){return P.apply(this,arguments)}function P(){return(P=(0,r.Z)(function*(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},k),t);try{const t=new U(e),i=yield Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=yield i.json();if("needConfirmation"in s)throw V(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=(i.ok?s.errorMessage:s.error.message).split(" : ")[0];if("FEDERATED_USER_ID_ALREADY_LINKED"===t)throw V(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===t)throw V(e,"email-already-in-use",s);p(e,r[t]||t.toLowerCase().replace(/[_\s]+/g,"-"))}}catch(i){if(i instanceof s.ZR)throw i;p(e,"network-request-failed")}})).apply(this,arguments)}function L(e,t,n,r){return M.apply(this,arguments)}function M(){return(M=(0,r.Z)(function*(e,t,n,r,i={}){const s=yield O(e,t,n,r,i);return"mfaPendingCredential"in s&&p(e,"multi-factor-auth-required",{serverResponse:s}),s})).apply(this,arguments)}function F(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?C(e.config,i):`${e.config.apiScheme}://${i}`}class U{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(g(this.auth,"timeout")),x.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function V(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=g(e,t,r);return i.customData._tokenResponse=n,i}function j(){return(j=(0,r.Z)(function*(e,t){return O(e,"POST","/v1/accounts:delete",t)})).apply(this,arguments)}function q(e,t){return B.apply(this,arguments)}function B(){return(B=(0,r.Z)(function*(e,t){return O(e,"POST","/v1/accounts:update",t)})).apply(this,arguments)}function z(e,t){return Z.apply(this,arguments)}function Z(){return(Z=(0,r.Z)(function*(e,t){return O(e,"POST","/v1/accounts:lookup",t)})).apply(this,arguments)}function H(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function $(){return($=(0,r.Z)(function*(e,t=!1){const n=(0,s.m9)(e),r=yield n.getIdToken(t),i=W(r);y(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"==typeof i.firebase?i.firebase:void 0,a=null==o?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:H(G(i.auth_time)),issuedAtTime:H(G(i.iat)),expirationTime:H(G(i.exp)),signInProvider:a||null,signInSecondFactor:(null==o?void 0:o.sign_in_second_factor)||null}})).apply(this,arguments)}function G(e){return 1e3*Number(e)}function W(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return f("JWT malformed, contained fewer than 3 sections"),null;try{const e=(0,s.tV)(n);return e?JSON.parse(e):(f("Failed to decode base64 JWT payload"),null)}catch(i){return f("Caught error parsing JWT payload as JSON",i),null}}function K(e,t){return Y.apply(this,arguments)}function Y(){return(Y=(0,r.Z)(function*(e,t,n=!1){if(n)return t;try{return yield t}catch(r){throw r instanceof s.ZR&&Q(r)&&e.auth.currentUser===e&&(yield e.auth.signOut()),r}})).apply(this,arguments)}function Q({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}class J{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout((0,r.Z)(function*(){yield t.iteration()}),n)}iteration(){var e=this;return(0,r.Z)(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t.code&&e.schedule(!0))}e.schedule()})()}}class X{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=H(this.lastLoginAt),this.creationTime=H(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ee(e){return te.apply(this,arguments)}function te(){return(te=(0,r.Z)(function*(e){var t;const n=e.auth,r=yield e.getIdToken(),i=yield K(e,z(n,{idToken:r}));y(null==i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const o=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?ie(s.providerUserInfo):[],a=re(e.providerData,o),u=!!e.isAnonymous&&!(e.email&&s.passwordHash||(null==a?void 0:a.length)),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new X(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(e,c)})).apply(this,arguments)}function ne(){return(ne=(0,r.Z)(function*(e){const t=(0,s.m9)(e);yield ee(t),yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)})).apply(this,arguments)}function re(e,t){return[...e.filter(e=>!t.some(t=>t.providerId===e.providerId)),...t]}function ie(e){return e.map(e=>{var{providerId:t}=e,n=(0,a._T)(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}function se(){return(se=(0,r.Z)(function*(e,t){const n=yield D(e,{},()=>{const n=(0,s.xO)({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,o=F(e,r,"/v1/token",`key=${i}`);return A.fetch()(o,{method:"POST",headers:{"X-Client-Version":e._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:n})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class oe{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){y(e.idToken,"internal-error"),y(void 0!==e.idToken,"internal-error"),y(void 0!==e.refreshToken,"internal-error");const t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):function(e){const t=W(e);return y(t,"internal-error"),y(void 0!==t.exp,"internal-error"),y(void 0!==t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var n=this;return(0,r.Z)(function*(){return y(!n.accessToken||n.refreshToken,e,"user-token-expired"),t||!n.accessToken||n.isExpired?n.refreshToken?(yield n.refresh(e,n.refreshToken),n.accessToken):null:n.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var n=this;return(0,r.Z)(function*(){const{accessToken:r,refreshToken:i,expiresIn:s}=yield function(e,t){return se.apply(this,arguments)}(e,t);n.updateTokensAndExpiration(r,i,Number(s))})()}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new oe;return n&&(y("string"==typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(y("string"==typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(y("number"==typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new oe,this.toJSON())}_performRefresh(){return v("not implemented")}}function ae(e,t){y("string"==typeof e||void 0===e,"internal-error",{appName:t})}class ue{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=(0,a._T)(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new J(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.metadata=new X(i.createdAt||void 0,i.lastLoginAt||void 0)}getIdToken(e){var t=this;return(0,r.Z)(function*(){const n=yield K(t,t.stsTokenManager.getToken(t.auth,e));return y(n,t.auth,"internal-error"),t.accessToken!==n&&(t.accessToken=n,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),n})()}getIdTokenResult(e){return function(e){return $.apply(this,arguments)}(this,e)}reload(){return function(e){return ne.apply(this,arguments)}(this)}_assign(e){this!==e&&(y(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>Object.assign({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new ue(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){y(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var n=this;return(0,r.Z)(function*(){let r=!1;e.idToken&&e.idToken!==n.stsTokenManager.accessToken&&(n.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield ee(n)),yield n.auth._persistUserIfCurrent(n),r&&n.auth._notifyListenersIfCurrent(n)})()}delete(){var e=this;return(0,r.Z)(function*(){const t=yield e.getIdToken();return yield K(e,function(e,t){return j.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,o,a,u,c;const l=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(o=t.tenantId)&&void 0!==o?o:void 0,g=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,m=null!==(u=t.createdAt)&&void 0!==u?u:void 0,v=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:_,emailVerified:w,isAnonymous:b,providerData:I,stsTokenManager:E}=t;y(_&&E,e,"internal-error");const T=oe.fromJSON(this.name,E);y("string"==typeof _,e,"internal-error"),ae(l,e.name),ae(h,e.name),y("boolean"==typeof w,e,"internal-error"),y("boolean"==typeof b,e,"internal-error"),ae(d,e.name),ae(f,e.name),ae(p,e.name),ae(g,e.name),ae(m,e.name),ae(v,e.name);const S=new ue({uid:_,auth:e,email:h,emailVerified:w,displayName:l,isAnonymous:b,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:T,createdAt:m,lastLoginAt:v});return I&&Array.isArray(I)&&(S.providerData=I.map(e=>Object.assign({},e))),g&&(S._redirectEventId=g),S}static _fromIdTokenResponse(e,t,n=!1){return(0,r.Z)(function*(){const r=new oe;r.updateFromServerResponse(t);const i=new ue({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return yield ee(i),i})()}}const ce=(()=>{class e{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,r.Z)(function*(){return!0})()}_set(e,t){var n=this;return(0,r.Z)(function*(){n.storage[e]=t})()}_get(e){var t=this;return(0,r.Z)(function*(){const n=t.storage[e];return void 0===n?null:n})()}_remove(e){var t=this;return(0,r.Z)(function*(){delete t.storage[e]})()}_addListener(e,t){}_removeListener(e,t){}}return e.type="NONE",e})();function le(e,t,n){return`firebase:${e}:${t}:${n}`}class he{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=le(this.userKey,r.apiKey,i),this.fullPersistenceKey=le("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return(0,r.Z)(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?ue._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return(0,r.Z)(function*(){if(t.persistence===e)return;const n=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,n?t.setCurrentUser(n):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,n="authUser"){return(0,r.Z)(function*(){if(!t.length)return new he(b(ce),e,n);const i=(yield Promise.all(t.map(function(){var e=(0,r.Z)(function*(e){if(yield e._isAvailable())return e});return function(t){return e.apply(this,arguments)}}()))).filter(e=>e);let s=i[0]||b(ce);const o=le(n,e.config.apiKey,e.name);let a=null;for(const n of t)try{const t=yield n._get(o);if(t){const r=ue._fromJSON(e,t);n!==s&&(a=r),s=n;break}}catch(c){}const u=i.filter(e=>e._shouldAllowMigration);return s._shouldAllowMigration&&u.length?(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(t.map(function(){var e=(0,r.Z)(function*(e){if(e!==s)try{yield e._remove(o)}catch(c){}});return function(t){return e.apply(this,arguments)}}())),new he(s,e,n)):new he(s,e,n)})()}}function de(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(me(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(fe(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(ve(t))return"Blackberry";if(_e(t))return"Webos";if(pe(t))return"Safari";if((t.includes("chrome/")||ge(t))&&!t.includes("edge/"))return"Chrome";if(ye(t))return"Android";{const t=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==t?void 0:t.length))return t[1]}return"Other"}function fe(e=(0,s.z$)()){return/firefox\//i.test(e)}function pe(e=(0,s.z$)()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function ge(e=(0,s.z$)()){return/crios\//i.test(e)}function me(e=(0,s.z$)()){return/iemobile/i.test(e)}function ye(e=(0,s.z$)()){return/android/i.test(e)}function ve(e=(0,s.z$)()){return/blackberry/i.test(e)}function _e(e=(0,s.z$)()){return/webos/i.test(e)}function we(e=(0,s.z$)()){return/iphone|ipad|ipod/i.test(e)}function be(e=(0,s.z$)()){return we(e)||ye(e)||_e(e)||ve(e)||/windows phone/i.test(e)||me(e)}function Ie(e,t=[]){let n;switch(e){case"Browser":n=de((0,s.z$)());break;case"Worker":n=`${de((0,s.z$)())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${o.SDK_VERSION}/${r}`}class Ee{constructor(e,t){this.app=e,this.config=t,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Se(this),this.idTokenSubscription=new Se(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=h,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=t.sdkClientVersion}_initializeWithPersistence(e,t){var n=this;return t&&(this._popupRedirectResolver=b(t)),this._initializationPromise=this.queue((0,r.Z)(function*(){var r;n._deleted||(n.persistenceManager=yield he.create(n,e),n._deleted||((null===(r=n._popupRedirectResolver)||void 0===r?void 0:r._shouldInitProactively)&&(yield n._popupRedirectResolver._initialize(n)),yield n.initializeCurrentUser(t),n._deleted||(n._isInitialized=!0)))})),this._initializationPromise}_onStorageEvent(){var e=this;return(0,r.Z)(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();return e.currentUser||t?e.currentUser&&t&&e.currentUser.uid===t.uid?(e._currentUser._assign(t),void(yield e.currentUser.getIdToken())):void(yield e._updateCurrentUser(t)):void 0})()}initializeCurrentUser(e){var t=this;return(0,r.Z)(function*(){var n;let r=yield t.assertedPersistence.getCurrentUser();if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const i=null===(n=t.redirectUser)||void 0===n?void 0:n._redirectEventId,s=null==r?void 0:r._redirectEventId,o=yield t.tryRedirectSignIn(e);i&&i!==s||!(null==o?void 0:o.user)||(r=o.user)}return r?r._redirectEventId?(y(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===r._redirectEventId?t.directlySetCurrentUser(r):t.reloadAndSetCurrentUserOrClear(r)):t.reloadAndSetCurrentUserOrClear(r):t.directlySetCurrentUser(null)})()}tryRedirectSignIn(e){var t=this;return(0,r.Z)(function*(){let n=null;try{n=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch(r){yield t._setRedirectUser(null)}return n})()}reloadAndSetCurrentUserOrClear(e){var t=this;return(0,r.Z)(function*(){try{yield ee(e)}catch(n){if("auth/network-request-failed"!==n.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}_delete(){var e=this;return(0,r.Z)(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return(0,r.Z)(function*(){const n=e?(0,s.m9)(e):null;return n&&y(n.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(n&&n._clone(t))})()}_updateCurrentUser(e){var t=this;return(0,r.Z)(function*(){if(!t._deleted)return e&&y(t.tenantId===e.tenantId,t,"tenant-id-mismatch"),t.queue((0,r.Z)(function*(){yield t.directlySetCurrentUser(e),t.notifyAuthListeners()}))})()}signOut(){var e=this;return(0,r.Z)(function*(){return(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null)})()}setPersistence(e){var t=this;return this.queue((0,r.Z)(function*(){yield t.assertedPersistence.setPersistence(b(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new s.LL("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var n=this;return(0,r.Z)(function*(){const r=yield n.getOrInitRedirectPersistenceManager(t);return null===e?r.removeCurrentUser():r.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return(0,r.Z)(function*(){if(!t.redirectPersistenceManager){const n=e&&b(e)||t._popupRedirectResolver;y(n,t,"argument-error"),t.redirectPersistenceManager=yield he.create(t,[b(n._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return(0,r.Z)(function*(){var n,i;return t._isInitialized&&(yield t.queue((0,r.Z)(function*(){}))),(null===(n=t._currentUser)||void 0===n?void 0:n._redirectEventId)===e?t._currentUser:(null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return(0,r.Z)(function*(){if(e===t.currentUser)return t.queue((0,r.Z)(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"==typeof t?t:t.next.bind(t),s=this._isInitialized?Promise.resolve():this._initializationPromise;return y(s,this,"internal-error"),s.then(()=>i(this.currentUser)),"function"==typeof t?e.addObserver(t,n,r):e.addObserver(t)}directlySetCurrentUser(e){var t=this;return(0,r.Z)(function*(){t.currentUser&&t.currentUser!==e&&(t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh()),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return y(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ie(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}function Te(e){return(0,s.m9)(e)}class Se{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,s.ne)(e=>this.observer=e)}get next(){return y(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ce(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Ae(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class ke{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return v("not implemented")}_getIdTokenResponse(e){return v("not implemented")}_linkToIdToken(e,t){return v("not implemented")}_getReauthenticationResolver(e){return v("not implemented")}}function xe(e,t){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,r.Z)(function*(e,t){return O(e,"POST","/v1/accounts:resetPassword",N(e,t))})).apply(this,arguments)}function Oe(e,t){return Re.apply(this,arguments)}function Re(){return(Re=(0,r.Z)(function*(e,t){return O(e,"POST","/v1/accounts:update",t)})).apply(this,arguments)}function De(e,t){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,r.Z)(function*(e,t){return O(e,"POST","/v1/accounts:update",N(e,t))})).apply(this,arguments)}function Le(){return(Le=(0,r.Z)(function*(e,t){return L(e,"POST","/v1/accounts:signInWithPassword",N(e,t))})).apply(this,arguments)}function Me(e,t){return Fe.apply(this,arguments)}function Fe(){return(Fe=(0,r.Z)(function*(e,t){return O(e,"POST","/v1/accounts:sendOobCode",N(e,t))})).apply(this,arguments)}function Ue(e,t){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,r.Z)(function*(e,t){return Me(e,t)})).apply(this,arguments)}function je(e,t){return qe.apply(this,arguments)}function qe(){return(qe=(0,r.Z)(function*(e,t){return Me(e,t)})).apply(this,arguments)}function Be(e,t){return ze.apply(this,arguments)}function ze(){return(ze=(0,r.Z)(function*(e,t){return Me(e,t)})).apply(this,arguments)}function Ze(e,t){return He.apply(this,arguments)}function He(){return(He=(0,r.Z)(function*(e,t){return Me(e,t)})).apply(this,arguments)}function $e(){return($e=(0,r.Z)(function*(e,t){return L(e,"POST","/v1/accounts:signInWithEmailLink",N(e,t))})).apply(this,arguments)}function Ge(){return(Ge=(0,r.Z)(function*(e,t){return L(e,"POST","/v1/accounts:signInWithEmailLink",N(e,t))})).apply(this,arguments)}class We extends ke{constructor(e,t,n,r=null){super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new We(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new We(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if((null==t?void 0:t.email)&&(null==t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){var t=this;return(0,r.Z)(function*(){switch(t.signInMethod){case"password":return function(e,t){return Le.apply(this,arguments)}(e,{returnSecureToken:!0,email:t._email,password:t._password});case"emailLink":return function(e,t){return $e.apply(this,arguments)}(e,{email:t._email,oobCode:t._password});default:p(e,"internal-error")}})()}_linkToIdToken(e,t){var n=this;return(0,r.Z)(function*(){switch(n.signInMethod){case"password":return Oe(e,{idToken:t,returnSecureToken:!0,email:n._email,password:n._password});case"emailLink":return function(e,t){return Ge.apply(this,arguments)}(e,{idToken:t,email:n._email,oobCode:n._password});default:p(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function Ke(e,t){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,r.Z)(function*(e,t){return L(e,"POST","/v1/accounts:signInWithIdp",N(e,t))})).apply(this,arguments)}class Qe extends ke{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Qe(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):p("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=(0,a._T)(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new Qe(n,r);return Object.assign(s,i),s}_getIdTokenResponse(e){return Ke(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Ke(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ke(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=(0,s.xO)(t)}return e}}function Je(e,t){return Xe.apply(this,arguments)}function Xe(){return(Xe=(0,r.Z)(function*(e,t){return O(e,"POST","/v1/accounts:sendVerificationCode",N(e,t))})).apply(this,arguments)}function et(){return(et=(0,r.Z)(function*(e,t){return L(e,"POST","/v1/accounts:signInWithPhoneNumber",N(e,t))})).apply(this,arguments)}function tt(){return(tt=(0,r.Z)(function*(e,t){const n=yield L(e,"POST","/v1/accounts:signInWithPhoneNumber",N(e,t));if(n.temporaryProof)throw V(e,"account-exists-with-different-credential",n);return n})).apply(this,arguments)}const nt={USER_NOT_FOUND:"user-not-found"};function rt(){return(rt=(0,r.Z)(function*(e,t){return L(e,"POST","/v1/accounts:signInWithPhoneNumber",N(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),nt)})).apply(this,arguments)}class it extends ke{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new it({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new it({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return function(e,t){return et.apply(this,arguments)}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return function(e,t){return tt.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return function(e,t){return rt.apply(this,arguments)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"==typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new it({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class st{constructor(e){var t,n,r,i,o,a;const u=(0,s.zd)((0,s.pd)(e)),c=null!==(t=u.apiKey)&&void 0!==t?t:null,l=null!==(n=u.oobCode)&&void 0!==n?n:null,h=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=u.mode)&&void 0!==r?r:null);y(c&&l&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=l,this.continueUrl=null!==(i=u.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(a=u.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=(0,s.zd)((0,s.pd)(e)).link,n=t?(0,s.zd)((0,s.pd)(t)).deep_link_id:null,r=(0,s.zd)((0,s.pd)(e)).deep_link_id;return(r?(0,s.zd)((0,s.pd)(r)).link:null)||r||n||t||e}(e);try{return new st(t)}catch(n){return null}}}let ot=(()=>{class e{constructor(){this.providerId=e.PROVIDER_ID}static credential(e,t){return We._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=st.parseLink(t);return y(n,"argument-error"),We._fromEmailAndCode(e,n.code,n.tenantId)}}return e.PROVIDER_ID="password",e.EMAIL_PASSWORD_SIGN_IN_METHOD="password",e.EMAIL_LINK_SIGN_IN_METHOD="emailLink",e})();class at{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class ut extends at{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ct extends ut{static credentialFromJSON(e){const t="string"==typeof e?JSON.parse(e):e;return y("providerId"in t&&"signInMethod"in t,"argument-error"),Qe._fromParams(t)}credential(e){return this._credential(e)}_credential(e){return y(e.idToken||e.accessToken,"argument-error"),Qe._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return ct.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return ct.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n,oauthTokenSecret:r,pendingToken:i,nonce:s,providerId:o}=e;if(!(n||r||t||i))return null;if(!o)return null;try{return new ct(o)._credential({idToken:t,accessToken:n,rawNonce:s,pendingToken:i})}catch(a){return null}}}let lt=(()=>{class e extends ut{constructor(){super("facebook.com")}static credential(t){return Qe._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return e.credential(t.oauthAccessToken)}catch(n){return null}}}return e.FACEBOOK_SIGN_IN_METHOD="facebook.com",e.PROVIDER_ID="facebook.com",e})(),ht=(()=>{class e extends ut{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Qe._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return e.credential(n,r)}catch(i){return null}}}return e.GOOGLE_SIGN_IN_METHOD="google.com",e.PROVIDER_ID="google.com",e})(),dt=(()=>{class e extends ut{constructor(){super("github.com")}static credential(t){return Qe._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return e.credential(t.oauthAccessToken)}catch(n){return null}}}return e.GITHUB_SIGN_IN_METHOD="github.com",e.PROVIDER_ID="github.com",e})();class ft extends ke{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){return Ke(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Ke(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ke(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r,pendingToken:i}=t;return n&&r&&i&&n===r?new ft(n,i):null}static _create(e,t){return new ft(e,t)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}let pt=(()=>{class e extends ut{constructor(){super("twitter.com")}static credential(t,n){return Qe._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return e.credential(n,r)}catch(i){return null}}}return e.TWITTER_SIGN_IN_METHOD="twitter.com",e.PROVIDER_ID="twitter.com",e})();function gt(e,t){return mt.apply(this,arguments)}function mt(){return(mt=(0,r.Z)(function*(e,t){return L(e,"POST","/v1/accounts:signUp",N(e,t))})).apply(this,arguments)}class yt{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,n,i=!1){return(0,r.Z)(function*(){const r=yield ue._fromIdTokenResponse(e,n,i),s=vt(n);return new yt({user:r,providerId:s,_tokenResponse:n,operationType:t})})()}static _forOperation(e,t,n){return(0,r.Z)(function*(){yield e._updateTokensIfNecessary(n,!0);const r=vt(n);return new yt({user:e,providerId:r,_tokenResponse:n,operationType:t})})()}}function vt(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function _t(){return(_t=(0,r.Z)(function*(e){var t;const n=Te(e);if(yield n._initializationPromise,null===(t=n.currentUser)||void 0===t?void 0:t.isAnonymous)return new yt({user:n.currentUser,providerId:null,operationType:"signIn"});const r=yield gt(n,{returnSecureToken:!0}),i=yield yt._fromIdTokenResponse(n,"signIn",r,!0);return yield n._updateCurrentUser(i.user),i})).apply(this,arguments)}class wt extends s.ZR{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,this.name="FirebaseError",Object.setPrototypeOf(this,wt.prototype),this.appName=e.name,this.code=t.code,this.tenantId=null!==(i=e.tenantId)&&void 0!==i?i:void 0,this.serverResponse=t.customData.serverResponse}static _fromErrorAndOperation(e,t,n,r){return new wt(e,t,n,r)}}function bt(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if("auth/multi-factor-auth-required"===n.code)throw wt._fromErrorAndOperation(e,n,t,r);throw n})}function It(e){return new Set(e.map(({providerId:e})=>e).filter(e=>!!e))}function Et(){return(Et=(0,r.Z)(function*(e,t){const n=(0,s.m9)(e);yield Ct(!0,n,t);const{providerUserInfo:r}=yield q(n.auth,{idToken:yield n.getIdToken(),deleteProvider:[t]}),i=It(r||[]);return n.providerData=n.providerData.filter(e=>i.has(e.providerId)),i.has("phone")||(n.phoneNumber=null),yield n.auth._persistUserIfCurrent(n),n})).apply(this,arguments)}function Tt(e,t){return St.apply(this,arguments)}function St(){return(St=(0,r.Z)(function*(e,t,n=!1){const r=yield K(e,t._linkToIdToken(e.auth,yield e.getIdToken()),n);return yt._forOperation(e,"link",r)})).apply(this,arguments)}function Ct(e,t,n){return At.apply(this,arguments)}function At(){return(At=(0,r.Z)(function*(e,t,n){yield ee(t);const r=!1===e?"provider-already-linked":"no-such-provider";y(It(t.providerData).has(n)===e,t.auth,r)})).apply(this,arguments)}function kt(e,t){return xt.apply(this,arguments)}function xt(){return(xt=(0,r.Z)(function*(e,t,n=!1){const{auth:r}=e,i="reauthenticate";try{const s=yield K(e,bt(r,i,t,e),n);y(s.idToken,r,"internal-error");const o=W(s.idToken);y(o,r,"internal-error");const{sub:a}=o;return y(e.uid===a,r,"user-mismatch"),yt._forOperation(e,i,s)}catch(s){throw"auth/user-not-found"===(null==s?void 0:s.code)&&p(r,"user-mismatch"),s}})).apply(this,arguments)}function Nt(e,t){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,r.Z)(function*(e,t,n=!1){const r="signIn",i=yield bt(e,r,t),s=yield yt._fromIdTokenResponse(e,r,i);return n||(yield e._updateCurrentUser(s.user)),s})).apply(this,arguments)}function Rt(e,t){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,r.Z)(function*(e,t){return Nt(Te(e),t)})).apply(this,arguments)}function Pt(e,t){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,r.Z)(function*(e,t){const n=(0,s.m9)(e);return yield Ct(!1,n,t.providerId),Tt(n,t)})).apply(this,arguments)}function Mt(e,t){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,r.Z)(function*(e,t){return kt((0,s.m9)(e),t)})).apply(this,arguments)}function Ut(e,t){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,r.Z)(function*(e,t){return L(e,"POST","/v1/accounts:signInWithCustomToken",N(e,t))})).apply(this,arguments)}function jt(){return(jt=(0,r.Z)(function*(e,t){const n=Te(e),r=yield Ut(n,{token:t,returnSecureToken:!0}),i=yield yt._fromIdTokenResponse(n,"signIn",r);return yield n._updateCurrentUser(i.user),i})).apply(this,arguments)}class qt{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?Bt._fromServerResponse(e,t):p(e,"internal-error")}}class Bt extends qt{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new Bt(t)}}function zt(e,t,n){var r;y((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),y(void 0===n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(y(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iosBundleId=n.iOS.bundleId),n.android&&(y(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function Zt(){return(Zt=(0,r.Z)(function*(e,t,n){const r=(0,s.m9)(e),i={requestType:"PASSWORD_RESET",email:t};n&&zt(r,i,n),yield je(r,i)})).apply(this,arguments)}function Ht(){return(Ht=(0,r.Z)(function*(e,t,n){yield xe((0,s.m9)(e),{oobCode:t,newPassword:n})})).apply(this,arguments)}function $t(){return($t=(0,r.Z)(function*(e,t){yield De((0,s.m9)(e),{oobCode:t})})).apply(this,arguments)}function Gt(e,t){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,r.Z)(function*(e,t){const n=(0,s.m9)(e),r=yield xe(n,{oobCode:t}),i=r.requestType;switch(y(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":y(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":y(r.mfaInfo,n,"internal-error");default:y(r.email,n,"internal-error")}let o=null;return r.mfaInfo&&(o=qt._fromServerResponse(Te(n),r.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.newEmail:r.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.email:r.newEmail)||null,multiFactorInfo:o},operation:i}})).apply(this,arguments)}function Kt(){return(Kt=(0,r.Z)(function*(e,t){const{data:n}=yield Gt((0,s.m9)(e),t);return n.email})).apply(this,arguments)}function Yt(){return(Yt=(0,r.Z)(function*(e,t,n){const r=Te(e),i=yield gt(r,{returnSecureToken:!0,email:t,password:n}),s=yield yt._fromIdTokenResponse(r,"signIn",i);return yield r._updateCurrentUser(s.user),s})).apply(this,arguments)}function Qt(){return(Qt=(0,r.Z)(function*(e,t,n){const r=(0,s.m9)(e),i={requestType:"EMAIL_SIGNIN",email:t};y(n.handleCodeInApp,r,"argument-error"),n&&zt(r,i,n),yield Be(r,i)})).apply(this,arguments)}function Jt(){return(Jt=(0,r.Z)(function*(e,t,n){const r=(0,s.m9)(e),i=ot.credentialWithLink(t,n||I());return y(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),Rt(r,i)})).apply(this,arguments)}function Xt(e,t){return en.apply(this,arguments)}function en(){return(en=(0,r.Z)(function*(e,t){return O(e,"POST","/v1/accounts:createAuthUri",N(e,t))})).apply(this,arguments)}function tn(){return(tn=(0,r.Z)(function*(e,t){const n={identifier:t,continueUri:E()?I():"http://localhost"},{signinMethods:r}=yield Xt((0,s.m9)(e),n);return r||[]})).apply(this,arguments)}function nn(){return(nn=(0,r.Z)(function*(e,t){const n=(0,s.m9)(e),r={requestType:"VERIFY_EMAIL",idToken:yield e.getIdToken()};t&&zt(n.auth,r,t);const{email:i}=yield Ue(n.auth,r);i!==e.email&&(yield e.reload())})).apply(this,arguments)}function rn(){return(rn=(0,r.Z)(function*(e,t,n){const r=(0,s.m9)(e),i={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield e.getIdToken(),newEmail:t};n&&zt(r.auth,i,n);const{email:o}=yield Ze(r.auth,i);o!==e.email&&(yield e.reload())})).apply(this,arguments)}function sn(e,t){return on.apply(this,arguments)}function on(){return(on=(0,r.Z)(function*(e,t){return O(e,"POST","/v1/accounts:update",t)})).apply(this,arguments)}function an(){return(an=(0,r.Z)(function*(e,{displayName:t,photoURL:n}){if(void 0===t&&void 0===n)return;const r=(0,s.m9)(e),i={idToken:yield r.getIdToken(),displayName:t,photoUrl:n,returnSecureToken:!0},o=yield K(r,sn(r.auth,i));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:e})=>"password"===e);a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),yield r._updateTokensIfNecessary(o)})).apply(this,arguments)}function un(e,t,n){return cn.apply(this,arguments)}function cn(){return(cn=(0,r.Z)(function*(e,t,n){const{auth:r}=e,i={idToken:yield e.getIdToken(),returnSecureToken:!0};t&&(i.email=t),n&&(i.password=n);const s=yield K(e,Oe(r,i));yield e._updateTokensIfNecessary(s,!0)})).apply(this,arguments)}class ln{constructor(e,t,n={}){this.isNewUser=e,this.providerId=t,this.profile=n}}class hn extends ln{constructor(e,t,n,r){super(e,t,n),this.username=r}}class dn extends ln{constructor(e,t){super(e,"facebook.com",t)}}class fn extends hn{constructor(e,t){super(e,"github.com",t,"string"==typeof(null==t?void 0:t.login)?null==t?void 0:t.login:null)}}class pn extends ln{constructor(e,t){super(e,"google.com",t)}}class gn extends hn{constructor(e,t,n){super(e,"twitter.com",t,n)}}function mn(e){const{user:t,_tokenResponse:n}=e;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;const{providerId:r}=e,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},s=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null==e?void 0:e.idToken)){const r=null===(n=null===(t=W(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(r)return new ln(s,"anonymous"!==r&&"custom"!==r?r:null)}if(!r)return null;switch(r){case"facebook.com":return new dn(s,i);case"github.com":return new fn(s,i);case"google.com":return new pn(s,i);case"twitter.com":return new gn(s,i,e.screenName||null);case"custom":case"anonymous":return new ln(s,null);default:return new ln(s,r,i)}}(n)}class yn{constructor(e,t){this.type=e,this.credential=t}static _fromIdtoken(e){return new yn("enroll",e)}static _fromMfaPendingCredential(e){return new yn("signin",e)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,n;if(null==e?void 0:e.multiFactorSession){if(null===(t=e.multiFactorSession)||void 0===t?void 0:t.pendingCredential)return yn._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null===(n=e.multiFactorSession)||void 0===n?void 0:n.idToken)return yn._fromIdtoken(e.multiFactorSession.idToken)}return null}}class vn{constructor(e,t,n){this.session=e,this.hints=t,this.signInResolver=n}static _fromError(e,t){const n=Te(e),i=(t.serverResponse.mfaInfo||[]).map(e=>qt._fromServerResponse(n,e));y(t.serverResponse.mfaPendingCredential,n,"internal-error");const s=yn._fromMfaPendingCredential(t.serverResponse.mfaPendingCredential);return new vn(s,i,function(){var e=(0,r.Z)(function*(e){const r=yield e._process(n,s);delete t.serverResponse.mfaInfo,delete t.serverResponse.mfaPendingCredential;const i=Object.assign(Object.assign({},t.serverResponse),{idToken:r.idToken,refreshToken:r.refreshToken});switch(t.operationType){case"signIn":const e=yield yt._fromIdTokenResponse(n,t.operationType,i);return yield n._updateCurrentUser(e.user),e;case"reauthenticate":return y(t.user,n,"internal-error"),yt._forOperation(t.user,t.operationType,i);default:p(n,"internal-error")}});return function(t){return e.apply(this,arguments)}}())}resolveSignIn(e){var t=this;return(0,r.Z)(function*(){return t.signInResolver(e)})()}}function _n(e,t){return O(e,"POST","/v2/accounts/mfaEnrollment:start",Object.assign({tenantId:e.tenantId},t))}class wn{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map(t=>qt._fromServerResponse(e.auth,t)))})}static _fromUser(e){return new wn(e)}getSession(){var e=this;return(0,r.Z)(function*(){return yn._fromIdtoken(yield e.user.getIdToken())})()}enroll(e,t){var n=this;return(0,r.Z)(function*(){const r=e,i=yield n.getSession(),s=yield K(n.user,r._process(n.user.auth,i,t));return yield n.user._updateTokensIfNecessary(s),n.user.reload()})()}unenroll(e){var t=this;return(0,r.Z)(function*(){const n="string"==typeof e?e:e.uid,r=yield t.user.getIdToken(),i=yield K(t.user,(s=t.user.auth,o={idToken:r,mfaEnrollmentId:n},O(s,"POST","/v2/accounts/mfaEnrollment:withdraw",Object.assign({tenantId:s.tenantId},o))));var s,o;t.enrolledFactors=t.enrolledFactors.filter(({uid:e})=>e!==n),yield t.user._updateTokensIfNecessary(i);try{yield t.user.reload()}catch(a){if("auth/user-token-expired"!==a.code)throw a}})()}}const bn=new WeakMap,In="__sak";class En{constructor(e,t){this.storage=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(In,"1"),this.storage.removeItem(In),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}}const Tn=(()=>{class e extends En{constructor(){super(window.localStorage,"LOCAL"),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=(0,s.z$)();return pe(e)||we(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),this.fallbackToPolling=be(),this._shouldAllowMigration=!0,this.boundEventHandler=this.onStorageEvent.bind(this)}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e,t=!1){if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);(0,s.w1)()&&10===document.documentMode&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(e,t){var n=()=>super._set,i=this;return(0,r.Z)(function*(){yield n().call(i,e,t),i.localCache[e]=JSON.stringify(t)})()}_get(e){var t=()=>super._get,n=this;return(0,r.Z)(function*(){const r=yield t().call(n,e);return n.localCache[e]=JSON.stringify(r),r})()}_remove(e){var t=()=>super._remove,n=this;return(0,r.Z)(function*(){yield t().call(n,e),delete n.localCache[e]})()}}return e.type="LOCAL",e})(),Sn=(()=>{class e extends En{constructor(){super(window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}return e.type="SESSION",e})();let Cn=(()=>{class e{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(e=>e.isListeningto(t));if(n)return n;const r=new e(t);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}handleEvent(e){var t=this;return(0,r.Z)(function*(){const n=e,{eventId:i,eventType:s,data:o}=n.data,a=t.handlersMap[s];if(!(null==a?void 0:a.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const u=Array.from(a).map(function(){var e=(0,r.Z)(function*(e){return e(n.origin,o)});return function(t){return e.apply(this,arguments)}}()),c=yield function(e){return Promise.all(e.map(function(){var e=(0,r.Z)(function*(e){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}});return function(t){return e.apply(this,arguments)}}()))}(u);n.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:c})})()}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return e.receivers=[],e})();function An(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}class kn{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,n=50){var i=this;return(0,r.Z)(function*(){const r="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,o;return new Promise((a,u)=>{const c=An("",20);r.port1.start();const l=setTimeout(()=>{u(new Error("unsupported_event"))},n);o={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===c)switch(t.data.status){case"ack":clearTimeout(l),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(t.data.response);break;default:clearTimeout(l),clearTimeout(s),u(new Error("invalid_response"))}}},i.handlers.add(o),r.port1.addEventListener("message",o.onMessage),i.target.postMessage({eventType:e,eventId:c,data:t},[r.port2])}).finally(()=>{o&&i.removeMessageHandler(o)})})()}}function xn(){return window}function Nn(){return void 0!==xn().WorkerGlobalScope&&"function"==typeof xn().importScripts}function On(){return(On=(0,r.Z)(function*(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(e){return null}})).apply(this,arguments)}const Rn="firebaseLocalStorageDb",Dn="firebaseLocalStorage",Pn="fbase_key";class Ln{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Mn(e,t){return e.transaction([Dn],t?"readwrite":"readonly").objectStore(Dn)}function Fn(){const e=indexedDB.open(Rn,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(Dn,{keyPath:Pn})}catch(r){n(r)}}),e.addEventListener("success",(0,r.Z)(function*(){const n=e.result;n.objectStoreNames.contains(Dn)?t(n):(n.close(),yield function(){const e=indexedDB.deleteDatabase(Rn);return new Ln(e).toPromise()}(),t(yield Fn()))}))})}function Un(e,t,n){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,r.Z)(function*(e,t,n){const r=Mn(e,!0).put({[Pn]:t,value:n});return new Ln(r).toPromise()})).apply(this,arguments)}function jn(){return(jn=(0,r.Z)(function*(e,t){const n=Mn(e,!1).get(t),r=yield new Ln(n).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function qn(e,t){const n=Mn(e,!0).delete(t);return new Ln(n).toPromise()}const Bn=(()=>{class e{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var e=this;return(0,r.Z)(function*(){return e.db||(e.db=yield Fn()),e.db})()}_withRetries(e){var t=this;return(0,r.Z)(function*(){let n=0;for(;;)try{const n=yield t._openDb();return yield e(n)}catch(r){if(n++>3)throw r;t.db&&(t.db.close(),t.db=void 0)}})()}initializeServiceWorkerMessaging(){var e=this;return(0,r.Z)(function*(){return Nn()?e.initializeReceiver():e.initializeSender()})()}initializeReceiver(){var e=this;return(0,r.Z)(function*(){e.receiver=Cn._getInstance(Nn()?self:null),e.receiver._subscribe("keyChanged",function(){var t=(0,r.Z)(function*(t,n){return{keyProcessed:(yield e._poll()).includes(n.key)}});return function(e,n){return t.apply(this,arguments)}}()),e.receiver._subscribe("ping",function(){var e=(0,r.Z)(function*(e,t){return["keyChanged"]});return function(t,n){return e.apply(this,arguments)}}())})()}initializeSender(){var e=this;return(0,r.Z)(function*(){var t,n;if(e.activeServiceWorker=yield function(){return On.apply(this,arguments)}(),!e.activeServiceWorker)return;e.sender=new kn(e.activeServiceWorker);const r=yield e.sender._send("ping",{},800);r&&(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(e.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(e){var t=this;return(0,r.Z)(function*(){var n;if(t.sender&&t.activeServiceWorker&&((null===(n=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===n?void 0:n.controller)||null)===t.activeServiceWorker)try{yield t.sender._send("keyChanged",{key:e},t.serviceWorkerReceiverAvailable?800:50)}catch(n){}})()}_isAvailable(){return(0,r.Z)(function*(){try{if(!indexedDB)return!1;const e=yield Fn();return yield Un(e,In,"1"),yield qn(e,In),!0}catch(e){}return!1})()}_withPendingWrite(e){var t=this;return(0,r.Z)(function*(){t.pendingWrites++;try{yield e()}finally{t.pendingWrites--}})()}_set(e,t){var n=this;return(0,r.Z)(function*(){return n._withPendingWrite((0,r.Z)(function*(){return yield n._withRetries(n=>Un(n,e,t)),n.localCache[e]=t,n.notifyServiceWorker(e)}))})()}_get(e){var t=this;return(0,r.Z)(function*(){const n=yield t._withRetries(t=>function(e,t){return jn.apply(this,arguments)}(t,e));return t.localCache[e]=n,n})()}_remove(e){var t=this;return(0,r.Z)(function*(){return t._withPendingWrite((0,r.Z)(function*(){return yield t._withRetries(t=>qn(t,e)),delete t.localCache[e],t.notifyServiceWorker(e)}))})()}_poll(){var e=this;return(0,r.Z)(function*(){const t=yield e._withRetries(e=>{const t=Mn(e,!1).getAll();return new Ln(t).toPromise()});if(!t)return[];if(0!==e.pendingWrites)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of t)r.add(i),JSON.stringify(e.localCache[i])!==JSON.stringify(s)&&(e.notifyListeners(i,s),n.push(i));for(const i of Object.keys(e.localCache))e.localCache[i]&&!r.has(i)&&(e.notifyListeners(i,null),n.push(i));return n})()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){var e=this;this.stopPolling(),this.pollTimer=setInterval((0,r.Z)(function*(){return e._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return e.type="LOCAL",e})();function zn(e,t){return O(e,"POST","/v2/accounts/mfaSignIn:start",Object.assign({tenantId:e.tenantId},t))}function Zn(){return(Zn=(0,r.Z)(function*(e){return(yield O(e,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Hn(e){return new Promise((t,n)=>{const r=document.createElement("script");var i,s;r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=g("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",(null!==(s=null===(i=document.getElementsByTagName("head"))||void 0===i?void 0:i[0])&&void 0!==s?s:document).appendChild(r)})}function $n(e){return`__${e}${Math.floor(1e6*Math.random())}`}const Gn=1e12;class Wn{constructor(e){this.auth=e,this.counter=Gn,this._widgets=new Map}render(e,t){const n=this.counter;return this._widgets.set(n,new Kn(e,this.auth.name,t||{})),this.counter++,n}reset(e){var t;const n=e||Gn;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}getResponse(e){var t;return(null===(t=this._widgets.get(e||Gn))||void 0===t?void 0:t.getResponse())||""}execute(e){var t=this;return(0,r.Z)(function*(){var n;return null===(n=t._widgets.get(e||Gn))||void 0===n||n.execute(),""})()}}class Kn{constructor(e,t,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const r="string"==typeof e?document.getElementById(e):e;y(r,"argument-error",{appName:t}),this.container=r,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout(()=>{this.responseToken=function(e){const t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<50;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}();const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch(n){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch(n){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Yn=$n("rcb"),Qn=new S(3e4,6e4);class Jn{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!xn().grecaptcha}load(e,t=""){return y(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(t),e,"argument-error"),this.shouldResolveImmediately(t)?Promise.resolve(xn().grecaptcha):new Promise((n,r)=>{const i=xn().setTimeout(()=>{r(g(e,"network-request-failed"))},Qn.get());xn()[Yn]=()=>{xn().clearTimeout(i),delete xn()[Yn];const s=xn().grecaptcha;if(!s)return void r(g(e,"internal-error"));const o=s.render;s.render=(e,t)=>{const n=o(e,t);return this.counter++,n},this.hostLanguage=t,n(s)},Hn(`https://www.google.com/recaptcha/api.js??${(0,s.xO)({onload:Yn,render:"explicit",hl:t})}`).catch(()=>{clearTimeout(i),r(g(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){return!!xn().grecaptcha&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Xn{load(e){return(0,r.Z)(function*(){return new Wn(e)})()}clearedOneInstance(){}}const er="recaptcha",tr={theme:"light",type:"image"};class nr{constructor(e,t=Object.assign({},tr),n){this.parameters=t,this.type=er,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Te(n),this.isInvisible="invisible"===this.parameters.size,y("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const r="string"==typeof e?document.getElementById(e):e;y(r,this.auth,"argument-error"),this.container=r,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Xn:new Jn,this.validateStartingState()}verify(){var e=this;return(0,r.Z)(function*(){e.assertNotDestroyed();const t=yield e.render(),n=e.getAssertedRecaptcha();return n.getResponse(t)||new Promise(r=>{const i=t=>{t&&(e.tokenChangeListeners.delete(i),r(t))};e.tokenChangeListeners.add(i),e.isInvisible&&n.execute(t)})})()}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){y(!this.parameters.sitekey,this.auth,"argument-error"),y(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),y("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach(e=>e(t)),"function"==typeof e)e(t);else if("string"==typeof e){const n=xn()[e];"function"==typeof n&&n(t)}}}assertNotDestroyed(){y(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var e=this;return(0,r.Z)(function*(){if(yield e.init(),!e.widgetId){let t=e.container;if(!e.isInvisible){const e=document.createElement("div");t.appendChild(e),t=e}e.widgetId=e.getAssertedRecaptcha().render(t,e.parameters)}return e.widgetId})()}init(){var e=this;return(0,r.Z)(function*(){y(E()&&!Nn(),e.auth,"internal-error"),yield function(){let e=null;return new Promise(t=>{"complete"!==document.readyState?(e=()=>t(),window.addEventListener("load",e)):t()}).catch(t=>{throw e&&window.removeEventListener("load",e),t})}(),e.recaptcha=yield e._recaptchaLoader.load(e.auth,e.auth.languageCode||void 0);const t=yield function(e){return Zn.apply(this,arguments)}(e.auth);y(t,e.auth,"internal-error"),e.parameters.sitekey=t})()}getAssertedRecaptcha(){return y(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class rr{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=it._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}function ir(){return(ir=(0,r.Z)(function*(e,t,n){const r=Te(e),i=yield ar(r,t,(0,s.m9)(n));return new rr(i,e=>Rt(r,e))})).apply(this,arguments)}function sr(){return(sr=(0,r.Z)(function*(e,t,n){const r=(0,s.m9)(e);yield Ct(!1,r,"phone");const i=yield ar(r.auth,t,(0,s.m9)(n));return new rr(i,e=>Pt(r,e))})).apply(this,arguments)}function or(){return(or=(0,r.Z)(function*(e,t,n){const r=(0,s.m9)(e),i=yield ar(r.auth,t,(0,s.m9)(n));return new rr(i,e=>Mt(r,e))})).apply(this,arguments)}function ar(e,t,n){return ur.apply(this,arguments)}function ur(){return(ur=(0,r.Z)(function*(e,t,n){var r;const i=yield n.verify();try{let s;if(y("string"==typeof i,e,"argument-error"),y(n.type===er,e,"argument-error"),s="string"==typeof t?{phoneNumber:t}:t,"session"in s){const t=s.session;if("phoneNumber"in s)return y("enroll"===t.type,e,"internal-error"),(yield _n(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}})).phoneSessionInfo.sessionInfo;{y("signin"===t.type,e,"internal-error");const n=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;return y(n,e,"missing-multi-factor-info"),(yield zn(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=yield Je(e,{phoneNumber:s.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}})).apply(this,arguments)}function cr(){return(cr=(0,r.Z)(function*(e,t){yield Tt((0,s.m9)(e),t)})).apply(this,arguments)}let lr=(()=>{class e{constructor(t){this.providerId=e.PROVIDER_ID,this.auth=Te(t)}verifyPhoneNumber(e,t){return ar(this.auth,e,(0,s.m9)(t))}static credential(e,t){return it._fromVerification(e,t)}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:n}=e;return t&&n?it._fromTokenResponse(t,n):null}}return e.PROVIDER_ID="phone",e.PHONE_SIGN_IN_METHOD="phone",e})();function hr(e,t){return t?b(t):(y(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}class dr extends ke{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ke(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ke(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ke(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function fr(e){return Nt(e.auth,new dr(e),e.bypassAuthState)}function pr(e){const{auth:t,user:n}=e;return y(n,t,"internal-error"),kt(n,new dr(e),e.bypassAuthState)}function gr(e){return mr.apply(this,arguments)}function mr(){return(mr=(0,r.Z)(function*(e){const{auth:t,user:n}=e;return y(n,t,"internal-error"),Tt(n,new dr(e),e.bypassAuthState)})).apply(this,arguments)}class yr{constructor(e,t,n,r,i=!1){this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){var e=this;return new Promise(function(){var t=(0,r.Z)(function*(t,n){e.pendingPromise={resolve:t,reject:n};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(r){e.reject(r)}});return function(e,n){return t.apply(this,arguments)}}())}onAuthEvent(e){var t=this;return(0,r.Z)(function*(){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o)return void t.reject(o);const u={auth:t.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:t.user,bypassAuthState:t.bypassAuthState};try{t.resolve(yield t.getIdpTask(a)(u))}catch(c){t.reject(c)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return fr;case"linkViaPopup":case"linkViaRedirect":return gr;case"reauthViaPopup":case"reauthViaRedirect":return pr;default:p(this.auth,"internal-error")}}resolve(e){_(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){_(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const vr=new S(2e3,1e4);function _r(){return(_r=(0,r.Z)(function*(e,t,n){const r=Te(e);y(t instanceof at,e,"argument-error");const i=hr(r,n);return new Ir(r,"signInViaPopup",t,i).executeNotNull()})).apply(this,arguments)}function wr(){return(wr=(0,r.Z)(function*(e,t,n){const r=(0,s.m9)(e);y(t instanceof at,r.auth,"argument-error");const i=hr(r.auth,n);return new Ir(r.auth,"reauthViaPopup",t,i,r).executeNotNull()})).apply(this,arguments)}function br(){return(br=(0,r.Z)(function*(e,t,n){const r=(0,s.m9)(e);y(t instanceof at,r.auth,"argument-error");const i=hr(r.auth,n);return new Ir(r.auth,"linkViaPopup",t,i,r).executeNotNull()})).apply(this,arguments)}let Ir=(()=>{class e extends yr{constructor(t,n,r,i,s){super(t,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,e.currentPopupAction&&e.currentPopupAction.cancel(),e.currentPopupAction=this}executeNotNull(){var e=this;return(0,r.Z)(function*(){const t=yield e.execute();return y(t,e.auth,"internal-error"),t})()}onExecution(){var e=this;return(0,r.Z)(function*(){_(1===e.filter.length,"Popup operations only handle one event");const t=An();e.authWindow=yield e.resolver._openPopup(e.auth,e.provider,e.filter[0],t),e.authWindow.associatedEvent=t,e.resolver._originValidation(e.auth).catch(t=>{e.reject(t)}),e.resolver._isIframeWebStorageSupported(e.auth,t=>{t||e.reject(g(e.auth,"web-storage-unsupported"))}),e.pollUserCancellation()})()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(g(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,e.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;this.pollId=(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(g(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(e,vr.get())};e()}}return e.currentPopupAction=null,e})();const Er=new Map;class Tr extends yr{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}execute(){var e=()=>super.execute,t=this;return(0,r.Z)(function*(){let n=Er.get(t.auth._key());if(!n){try{const r=(yield function(e,t){return Sr.apply(this,arguments)}(t.resolver,t.auth))?yield e().call(t):null;n=()=>Promise.resolve(r)}catch(r){n=()=>Promise.reject(r)}Er.set(t.auth._key(),n)}return n()})()}onAuthEvent(e){var t=()=>super.onAuthEvent,n=this;return(0,r.Z)(function*(){if("signInViaRedirect"===e.type)return t().call(n,e);if("unknown"!==e.type){if(e.eventId){const r=yield n.auth._redirectUserForId(e.eventId);if(r)return n.user=r,t().call(n,e);n.resolve(null)}}else n.resolve(null)})()}onExecution(){return(0,r.Z)(function*(){})()}cleanUp(){}}function Sr(){return(Sr=(0,r.Z)(function*(e,t){const n=xr(t),r="true"===(yield kr(e)._get(n));return yield kr(e)._remove(n),r})).apply(this,arguments)}function Cr(e,t){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,r.Z)(function*(e,t){return kr(e)._set(xr(t),"true")})).apply(this,arguments)}function kr(e){return b(e._redirectPersistence)}function xr(e){return le("pendingRedirect",e.config.apiKey,e.name)}function Nr(){return(Nr=(0,r.Z)(function*(e,t,n){const r=Te(e);y(t instanceof at,e,"argument-error");const i=hr(r,n);return yield Cr(i,r),i._openRedirect(r,t,"signInViaRedirect")})).apply(this,arguments)}function Or(){return(Or=(0,r.Z)(function*(e,t,n){const r=(0,s.m9)(e);y(t instanceof at,r.auth,"argument-error");const i=hr(r.auth,n);yield Cr(i,r.auth);const o=yield Mr(r);return i._openRedirect(r.auth,t,"reauthViaRedirect",o)})).apply(this,arguments)}function Rr(){return(Rr=(0,r.Z)(function*(e,t,n){const r=(0,s.m9)(e);y(t instanceof at,r.auth,"argument-error");const i=hr(r.auth,n);yield Ct(!1,r,t.providerId),yield Cr(i,r.auth);const o=yield Mr(r);return i._openRedirect(r.auth,t,"linkViaRedirect",o)})).apply(this,arguments)}function Dr(){return(Dr=(0,r.Z)(function*(e,t){return yield Te(e)._initializationPromise,Pr(e,t,!1)})).apply(this,arguments)}function Pr(e,t){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,r.Z)(function*(e,t,n=!1){const r=Te(e),i=hr(r,t),s=new Tr(r,i,n),o=yield s.execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,t)),o})).apply(this,arguments)}function Mr(e){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,r.Z)(function*(e){const t=An(`${e.uid}:::`);return e._redirectEventId=t,yield e.auth._setRedirectUser(e),yield e.auth._persistUserIfCurrent(e),t})).apply(this,arguments)}class Ur{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return jr(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!jr(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(g(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Vr(e))}saveEventToCache(e){this.cachedEventUids.add(Vr(e)),this.lastProcessedEventTime=Date.now()}}function Vr(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function jr({type:e,error:t}){return"unknown"===e&&"auth/no-auth-event"===(null==t?void 0:t.code)}function qr(e){return Br.apply(this,arguments)}function Br(){return(Br=(0,r.Z)(function*(e,t={}){return O(e,"GET","/v1/projects",t)})).apply(this,arguments)}const zr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Zr=/^https?/;function Hr(){return(Hr=(0,r.Z)(function*(e){if(e.config.emulator)return;const{authorizedDomains:t}=yield qr(e);for(const r of t)try{if($r(r))return}catch(n){}p(e,"unauthorized-domain")})).apply(this,arguments)}function $r(e){const t=I(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!Zr.test(n))return!1;if(zr.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Gr=new S(3e4,6e4);function Wr(){const e=xn().___jsl;if(null==e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}let Kr=null;function Yr(e){return Kr=Kr||function(e){return new Promise((t,n)=>{var r,i,s;function o(){Wr(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Wr(),n(g(e,"network-request-failed"))},timeout:Gr.get()})}if(null===(i=null===(r=xn().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=xn().gapi)||void 0===s?void 0:s.load)){const t=$n("iframefcb");return xn()[t]=()=>{gapi.load?o():n(g(e,"network-request-failed"))},Hn(`https://apis.google.com/js/api.js?onload=${t}`)}o()}}).catch(e=>{throw Kr=null,e})}(e),Kr}const Qr=new S(5e3,15e3),Jr={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},Xr=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ei(e){const t=e.config;y(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?C(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:o.SDK_VERSION},i=Xr.get(e.config.apiHost);i&&(r.eid=i);const a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${(0,s.xO)(r).slice(1)}`}function ti(){return(ti=(0,r.Z)(function*(e){const t=yield Yr(e),n=xn().gapi;return y(n,e,"internal-error"),t.open({where:document.body,url:ei(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Jr,dontclear:!0},t=>new Promise(function(){var n=(0,r.Z)(function*(n,r){yield t.restyle({setHideOnLeave:!1});const i=g(e,"network-request-failed"),s=xn().setTimeout(()=>{r(i)},Qr.get());function o(){xn().clearTimeout(s),n(t)}t.ping(o).then(o,()=>{r(i)})});return function(e,t){return n.apply(this,arguments)}}()))})).apply(this,arguments)}const ni={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ri{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function ii(e,t,n,r,i,a){y(e.config.authDomain,e,"auth-domain-config-required"),y(e.config.apiKey,e,"invalid-api-key");const u={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:o.SDK_VERSION,eventId:i};if(t instanceof at){t.setDefaultLanguage(e.languageCode),u.providerId=t.providerId||"",(0,s.xb)(t.getCustomParameters())||(u.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(a||{}))u[e]=t}if(t instanceof ut){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(u.scopes=e.join(","))}e.tenantId&&(u.tid=e.tenantId);const c=u;for(const s of Object.keys(c))void 0===c[s]&&delete c[s];return`${function({config:e}){return e.emulator?C(e,"emulator/auth/handler"):`https://${e.authDomain}/__/auth/handler`}(e)}?${(0,s.xO)(c).slice(1)}`}const si="webStorageSupport";class oi extends class{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return v("unexpected MultiFactorSessionType")}}}{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new oi(e)}_finalizeEnroll(e,t,n){return function(e,t){return O(e,"POST","/v2/accounts/mfaEnrollment:finalize",Object.assign({tenantId:e.tenantId},t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return function(e,t){return O(e,"POST","/v2/accounts/mfaSignIn:finalize",Object.assign({tenantId:e.tenantId},t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}var ai;class ui{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return(0,r.Z)(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){y(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function ci(){return window}function li(){return(li=(0,r.Z)(function*(e,t,n){var r;const{BuildInfo:i}=ci();_(t.sessionId,"AuthEvent did not contain a session ID");const s=yield fi(t.sessionId),o={};return we()?o.ibi=i.packageName:ye()?o.apn=i.packageName:p(e,"operation-not-supported-in-this-environment"),i.displayName&&(o.appDisplayName=i.displayName),o.sessionId=s,ii(e,n,t.type,void 0,null!==(r=t.eventId)&&void 0!==r?r:void 0,o)})).apply(this,arguments)}function hi(){return(hi=(0,r.Z)(function*(e){const{BuildInfo:t}=ci(),n={};we()?n.iosBundleId=t.packageName:ye()?n.androidPackageName=t.packageName:p(e,"operation-not-supported-in-this-environment"),yield qr(e,n)})).apply(this,arguments)}function di(){return(di=(0,r.Z)(function*(e,t,n){const{cordova:r}=ci();let i=()=>{};try{yield new Promise((s,o)=>{let a=null;function u(){var e;s();const t=null===(e=r.plugins.browsertab)||void 0===e?void 0:e.close;"function"==typeof t&&t(),"function"==typeof(null==n?void 0:n.close)&&n.close()}function c(){a||(a=window.setTimeout(()=>{o(g(e,"redirect-cancelled-by-user"))},2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}t.addPassiveListener(u),document.addEventListener("resume",c,!1),ye()&&document.addEventListener("visibilitychange",l,!1),i=()=>{t.removePassiveListener(u),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),a&&window.clearTimeout(a)}})}finally{i()}})).apply(this,arguments)}function fi(e){return pi.apply(this,arguments)}function pi(){return(pi=(0,r.Z)(function*(e){const t=gi(e),n=yield crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map(e=>e.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function gi(e){if(_(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(e);const t=new ArrayBuffer(e.length),n=new Uint8Array(t);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}ai="Browser",(0,o._registerComponent)(new c.wA("auth",(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),{apiKey:r,authDomain:i}=n.options;return(e=>{y(r&&!r.includes(":"),"invalid-api-key",{appName:e.name}),y(!(null==i?void 0:i.includes(":")),"argument-error",{appName:e.name});const n={apiKey:r,authDomain:i,clientPlatform:ai,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ie(ai)},s=new Ee(e,n);return function(e,t){const n=(null==t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(b);(null==t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null==t?void 0:t.popupRedirectResolver)}(s,t),s})(n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),(0,o._registerComponent)(new c.wA("auth-internal",e=>{return t=Te(e.getProvider("auth").getImmediate()),new ui(t);var t},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,o.registerVersion)("@firebase/auth","0.17.1",void 0);class mi extends Ur{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach(t=>t(e)),super.onEvent(e)}initialized(){var e=this;return(0,r.Z)(function*(){yield e.initPromise})()}}function yi(e){return vi.apply(this,arguments)}function vi(){return(vi=(0,r.Z)(function*(e){const t=yield wi()._get(bi(e));return t&&(yield wi()._remove(bi(e))),t})).apply(this,arguments)}function _i(){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<20;n++){const n=Math.floor(Math.random()*t.length);e.push(t.charAt(n))}return e.join("")}function wi(){return b(Tn)}function bi(e){return le("authEvent",e.config.apiKey,e.name)}function Ii(e){if(!(null==e?void 0:e.includes("?")))return{};const[t,...n]=e.split("?");return(0,s.zd)(n.join("?"))}function Ei(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:g("no-auth-event")}}function Ti(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function Si(e=(0,s.z$)()){return!("file:"!==Ti()&&"ionic:"!==Ti()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ci(){try{const e=self.localStorage,t=An();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(e=(0,s.z$)()){return(0,s.w1)()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(e=(0,s.z$)()){return/Edge\/\d+/.test(e)}(e)}()||(0,s.hl)()}catch(e){return Ai()&&(0,s.hl)()}return!1}function Ai(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function ki(){return("http:"===Ti()||"https:"===Ti()||(0,s.ru)()||Si())&&!((0,s.b$)()||(0,s.UG)())&&Ci()&&!Ai()}function xi(){return Si()&&"undefined"!=typeof document}function Ni(){return(Ni=(0,r.Z)(function*(){return!!xi()&&new Promise(e=>{const t=setTimeout(()=>{e(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(t),e(!0)})})})).apply(this,arguments)}const Oi={LOCAL:"local",NONE:"none",SESSION:"session"},Ri=y,Di="persistence";function Pi(e){return Li.apply(this,arguments)}function Li(){return(Li=(0,r.Z)(function*(e){yield e._initializationPromise;const t=Mi(),n=le(Di,e.config.apiKey,e.name);(null==t?void 0:t.sessionStorage)&&t.sessionStorage.setItem(n,e._getPersistence())})).apply(this,arguments)}function Mi(){return"undefined"!=typeof window?window:null}const Fi=y;class Ui{constructor(){this.browserResolver=b(class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Sn,this._completeRedirectFn=Pr}_openPopup(e,t,n,i){var o=this;return(0,r.Z)(function*(){var r;_(null===(r=o.eventManagers[e._key()])||void 0===r?void 0:r.manager,"_initialize() not called before _openPopup()");const a=ii(e,t,n,I(),i);return function(e,t,n,r=500,i=600){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const c=Object.assign(Object.assign({},ni),{width:r.toString(),height:i.toString(),top:o,left:a}),l=(0,s.z$)().toLowerCase();n&&(u=ge(l)?"_blank":n),fe(l)&&(t=t||"http://localhost",c.scrollbars="yes");const h=Object.entries(c).reduce((e,[t,n])=>`${e}${t}=${n},`,"");if(function(e=(0,s.z$)()){var t;return we(e)&&!!(null===(t=window.navigator)||void 0===t?void 0:t.standalone)}(l)&&"_self"!==u)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",u),new ri(null);const d=window.open(t||"",u,h);y(d,e,"popup-blocked");try{d.focus()}catch(f){}return new ri(d)}(e,a,An())})()}_openRedirect(e,t,n,i){var s=this;return(0,r.Z)(function*(){var r;return yield s._originValidation(e),r=ii(e,t,n,I(),i),xn().location.href=r,new Promise(()=>{})})()}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(_(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n}initAndGetManager(e){var t=this;return(0,r.Z)(function*(){const n=yield function(e){return ti.apply(this,arguments)}(e),r=new Ur(e);return n.register("authEvent",t=>(y(null==t?void 0:t.authEvent,e,"invalid-auth-event"),{status:r.onEvent(t.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),t.eventManagers[e._key()]={manager:r},t.iframes[e._key()]=n,r})()}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(si,{type:si},n=>{var r;const i=null===(r=null==n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),p(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Hr.apply(this,arguments)}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return be()||pe()||we()}}),this.cordovaResolver=b(class{constructor(){this._redirectPersistence=Sn,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Pr}_initialize(e){var t=this;return(0,r.Z)(function*(){const n=e._key();let r=t.eventManagers.get(n);return r||(r=new mi(e),t.eventManagers.set(n,r),t.attachCallbackListeners(e,r)),r})()}_openPopup(e){p(e,"operation-not-supported-in-this-environment")}_openRedirect(e,t,n,i){var o=this;return(0,r.Z)(function*(){!function(e){var t,n,r,i,s,o,a,u,c,l;const h=ci();y("function"==typeof(null===(t=null==h?void 0:h.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),y(void 0!==(null===(n=null==h?void 0:h.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),y("function"==typeof(null===(s=null===(i=null===(r=null==h?void 0:h.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===s?void 0:s.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),y("function"==typeof(null===(u=null===(a=null===(o=null==h?void 0:h.cordova)||void 0===o?void 0:o.plugins)||void 0===a?void 0:a.browsertab)||void 0===u?void 0:u.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),y("function"==typeof(null===(l=null===(c=null==h?void 0:h.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(e);const r=yield o._initialize(e);yield r.initialized(),r.resetRedirect(),Er.clear(),yield o._originValidation(e);const a=function(e,t,n=null){return{type:t,eventId:n,urlResponse:null,sessionId:_i(),postBody:null,tenantId:e.tenantId,error:g(e,"no-auth-event")}}(e,n,i);yield function(e,t){return wi()._set(bi(e),t)}(e,a);const u=yield function(e,t,n){return li.apply(this,arguments)}(e,a,t),c=yield function(e){const{cordova:t}=ci();return new Promise(n=>{t.plugins.browsertab.isAvailable(r=>{let i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(e=(0,s.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)})})}(u);return function(e,t,n){return di.apply(this,arguments)}(e,r,c)})()}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return hi.apply(this,arguments)}(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:n,handleOpenURL:i,BuildInfo:s}=ci(),o=setTimeout((0,r.Z)(function*(){yield yi(e),t.onEvent(Ei())}),500),a=function(){var n=(0,r.Z)(function*(n){clearTimeout(o);const r=yield yi(e);let i=null;r&&(null==n?void 0:n.url)&&(i=function(e,t){var n,r;const i=function(e){const t=Ii(e),n=t.link?decodeURIComponent(t.link):void 0,r=Ii(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return Ii(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){const t=Ii(i),s=t.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(t.firebaseError)):null,o=null===(r=null===(n=null==s?void 0:s.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],a=o?g(o):null;return a?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:a,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}(r,n.url)),t.onEvent(i||Ei())});return function(e){return n.apply(this,arguments)}}();void 0!==n&&"function"==typeof n.subscribe&&n.subscribe(null,a);const u=i,c=`${s.packageName.toLowerCase()}://`;ci().handleOpenURL=function(){var e=(0,r.Z)(function*(e){if(e.toLowerCase().startsWith(c)&&a({url:e}),"function"==typeof u)try{u(e)}catch(t){console.error(t)}});return function(t){return e.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Sn,this._completeRedirectFn=Pr}_initialize(e){var t=this;return(0,r.Z)(function*(){return yield t.selectUnderlyingResolver(),t.assertedUnderlyingResolver._initialize(e)})()}_openPopup(e,t,n,i){var s=this;return(0,r.Z)(function*(){return yield s.selectUnderlyingResolver(),s.assertedUnderlyingResolver._openPopup(e,t,n,i)})()}_openRedirect(e,t,n,i){var s=this;return(0,r.Z)(function*(){return yield s.selectUnderlyingResolver(),s.assertedUnderlyingResolver._openRedirect(e,t,n,i)})()}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return xi()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Fi(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var e=this;return(0,r.Z)(function*(){if(e.underlyingResolver)return;const t=yield function(){return Ni.apply(this,arguments)}();e.underlyingResolver=t?e.cordovaResolver:e.browserResolver})()}}function Vi(e){return e.unwrap()}function ji(e){return Bi(e)}function qi(e,t){var n;const r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===t.code)t.resolver=new Gi(e,function(e,t){var n;const r=(0,s.m9)(e),i=t;return y(t.operationType,r,"argument-error"),y(null===(n=i.serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),vn._fromError(r,i)}(e,t));else if(r){const e=Bi(t),n=t;e&&(n.credential=e,n.tenantId=r.tenantId||void 0,n.email=r.email||void 0,n.phoneNumber=r.phoneNumber||void 0)}}function Bi(e){const{_tokenResponse:t}=e instanceof s.ZR?e.customData:e;if(!t)return null;if(!(e instanceof s.ZR)&&"temporaryProof"in t&&"phoneNumber"in t)return lr.credentialFromResult(e);const n=t.providerId;if(!n||"password"===n)return null;let r;switch(n){case"google.com":r=ht;break;case"facebook.com":r=lt;break;case"github.com":r=dt;break;case"twitter.com":r=pt;break;default:const{oauthIdToken:e,oauthAccessToken:i,oauthTokenSecret:s,pendingToken:o,nonce:a}=t;return i||s||e||o?o?n.startsWith("saml.")?ft._create(n,o):Qe._fromParams({providerId:n,signInMethod:n,pendingToken:o,idToken:e,accessToken:i}):new ct(n).credential({idToken:e,accessToken:i,rawNonce:a}):null}return e instanceof s.ZR?r.credentialFromError(e):r.credentialFromResult(e)}function zi(e,t){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,r.Z)(function*(e,t){let n;try{n=yield t}catch(o){throw o instanceof s.ZR&&qi(e,o),o}const{operationType:r,user:i}=n;return{operationType:r,credential:ji(n),additionalUserInfo:mn(n),user:Wi.getOrCreate(i)}})).apply(this,arguments)}function Hi(e,t){return $i.apply(this,arguments)}function $i(){return($i=(0,r.Z)(function*(e,t){const n=yield t;return{verificationId:n.verificationId,confirm:t=>zi(e,n.confirm(t))}})).apply(this,arguments)}class Gi{constructor(e,t){this.resolver=t,this.auth=e.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return zi(Vi(this.auth),this.resolver.resolveSignIn(e))}}let Wi=(()=>{class e{constructor(e){this._delegate=e,this.multiFactor=function(e){const t=(0,s.m9)(e);return bn.has(t)||bn.set(t,wn._fromUser(t)),bn.get(t)}(e)}static getOrCreate(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}linkWithCredential(e){var t=this;return(0,r.Z)(function*(){return zi(t.auth,Pt(t._delegate,e))})()}linkWithPhoneNumber(e,t){var n=this;return(0,r.Z)(function*(){return Hi(n.auth,function(e,t,n){return sr.apply(this,arguments)}(n._delegate,e,t))})()}linkWithPopup(e){var t=this;return(0,r.Z)(function*(){return zi(t.auth,function(e,t,n){return br.apply(this,arguments)}(t._delegate,e,Ui))})()}linkWithRedirect(e){var t=this;return(0,r.Z)(function*(){return yield Pi(Te(t.auth)),function(e,t,n){return function(e,t,n){return Rr.apply(this,arguments)}(e,t,n)}(t._delegate,e,Ui)})()}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}reauthenticateWithCredential(e){var t=this;return(0,r.Z)(function*(){return zi(t.auth,Mt(t._delegate,e))})()}reauthenticateWithPhoneNumber(e,t){return Hi(this.auth,function(e,t,n){return or.apply(this,arguments)}(this._delegate,e,t))}reauthenticateWithPopup(e){return zi(this.auth,function(e,t,n){return wr.apply(this,arguments)}(this._delegate,e,Ui))}reauthenticateWithRedirect(e){var t=this;return(0,r.Z)(function*(){return yield Pi(Te(t.auth)),function(e,t,n){return function(e,t,n){return Or.apply(this,arguments)}(e,t,n)}(t._delegate,e,Ui)})()}sendEmailVerification(e){return function(e,t){return nn.apply(this,arguments)}(this._delegate,e)}unlink(e){var t=this;return(0,r.Z)(function*(){return yield function(e,t){return Et.apply(this,arguments)}(t._delegate,e),t})()}updateEmail(e){return function(e,t){return un((0,s.m9)(e),t,null)}(this._delegate,e)}updatePassword(e){return function(e,t){return un((0,s.m9)(e),null,t)}(this._delegate,e)}updatePhoneNumber(e){return function(e,t){return cr.apply(this,arguments)}(this._delegate,e)}updateProfile(e){return function(e,t){return an.apply(this,arguments)}(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return function(e,t,n){return rn.apply(this,arguments)}(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}return e.USER_MAP=new WeakMap,e})();const Ki=y;let Yi=(()=>{class e{constructor(e,t){if(this.app=e,t.isInitialized())return this._delegate=t.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:n}=e.options;Ki(n,"invalid-api-key",{appName:e.name});let r=[ce];if("undefined"!=typeof window){r=function(e,t){const n=Mi();if(!(null==n?void 0:n.sessionStorage))return[];const r=le(Di,e,t);switch(n.sessionStorage.getItem(r)){case Oi.NONE:return[ce];case Oi.LOCAL:return[Bn,Sn];case Oi.SESSION:return[Sn];default:return[]}}(n,e.name);for(const e of[Bn,Tn,Sn])r.includes(e)||r.push(e)}Ki(n,"invalid-api-key",{appName:e.name});const i="undefined"!=typeof window?Ui:void 0;this._delegate=t.initialize({options:{persistence:r,popupRedirectResolver:i}}),this._delegate._updateErrorMap(l),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Wi.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){!function(e,t,n){const r=Te(e);y(r._canInitEmulator,r,"emulator-config-failed"),y(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null==n?void 0:n.disableWarnings),s=Ce(t),{host:o,port:a}=function(e){const t=Ce(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Ae(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Ae(t)}}}(t);r.config.emulator={url:`${s}//${o}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),function(e){function t(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"==typeof window||"undefined"==typeof document||e||("loading"===document.readyState?window.addEventListener("DOMContentLoaded",t):t())}(i)}(this._delegate,e,t)}applyActionCode(e){return function(e,t){return $t.apply(this,arguments)}(this._delegate,e)}checkActionCode(e){return Gt(this._delegate,e)}confirmPasswordReset(e,t){return function(e,t,n){return Ht.apply(this,arguments)}(this._delegate,e,t)}createUserWithEmailAndPassword(e,t){var n=this;return(0,r.Z)(function*(){return zi(n._delegate,function(e,t,n){return Yt.apply(this,arguments)}(n._delegate,e,t))})()}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return function(e,t){return tn.apply(this,arguments)}(this._delegate,e)}isSignInWithEmailLink(e){return function(e,t){const n=st.parseLink(t);return"EMAIL_SIGNIN"===(null==n?void 0:n.operation)}(0,e)}getRedirectResult(){var e=this;return(0,r.Z)(function*(){Ki(ki(),e._delegate,"operation-not-supported-in-this-environment");const t=yield function(e,t){return Dr.apply(this,arguments)}(e._delegate,Ui);return t?zi(e._delegate,Promise.resolve(t)):{credential:null,user:null}})()}addFrameworkForLogging(e){!function(e,t){Te(e)._logFramework(t)}(this._delegate,e)}onAuthStateChanged(e,t,n){const{next:r,error:i,complete:s}=Qi(e,t,n);return this._delegate.onAuthStateChanged(r,i,s)}onIdTokenChanged(e,t,n){const{next:r,error:i,complete:s}=Qi(e,t,n);return this._delegate.onIdTokenChanged(r,i,s)}sendSignInLinkToEmail(e,t){return function(e,t,n){return Qt.apply(this,arguments)}(this._delegate,e,t)}sendPasswordResetEmail(e,t){return function(e,t,n){return Zt.apply(this,arguments)}(this._delegate,e,t||void 0)}setPersistence(e){var t=this;return(0,r.Z)(function*(){let n;switch(function(e,t){Ri(Object.values(Oi).includes(t),e,"invalid-persistence-type"),(0,s.b$)()?Ri(t!==Oi.SESSION,e,"unsupported-persistence-type"):(0,s.UG)()?Ri(t===Oi.NONE,e,"unsupported-persistence-type"):Ai()?Ri(t===Oi.NONE||t===Oi.LOCAL&&(0,s.hl)(),e,"unsupported-persistence-type"):Ri(t===Oi.NONE||Ci(),e,"unsupported-persistence-type")}(t._delegate,e),e){case Oi.SESSION:n=Sn;break;case Oi.LOCAL:n=(yield b(Bn)._isAvailable())?Bn:Tn;break;case Oi.NONE:n=ce;break;default:return p("argument-error",{appName:t._delegate.name})}return t._delegate.setPersistence(n)})()}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return zi(this._delegate,function(e){return _t.apply(this,arguments)}(this._delegate))}signInWithCredential(e){return zi(this._delegate,Rt(this._delegate,e))}signInWithCustomToken(e){return zi(this._delegate,function(e,t){return jt.apply(this,arguments)}(this._delegate,e))}signInWithEmailAndPassword(e,t){return zi(this._delegate,function(e,t,n){return Rt((0,s.m9)(e),ot.credential(t,n))}(this._delegate,e,t))}signInWithEmailLink(e,t){return zi(this._delegate,function(e,t,n){return Jt.apply(this,arguments)}(this._delegate,e,t))}signInWithPhoneNumber(e,t){return Hi(this._delegate,function(e,t,n){return ir.apply(this,arguments)}(this._delegate,e,t))}signInWithPopup(e){var t=this;return(0,r.Z)(function*(){return Ki(ki(),t._delegate,"operation-not-supported-in-this-environment"),zi(t._delegate,function(e,t,n){return _r.apply(this,arguments)}(t._delegate,e,Ui))})()}signInWithRedirect(e){var t=this;return(0,r.Z)(function*(){return Ki(ki(),t._delegate,"operation-not-supported-in-this-environment"),yield Pi(t._delegate),function(e,t,n){return function(e,t,n){return Nr.apply(this,arguments)}(e,t,n)}(t._delegate,e,Ui)})()}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return function(e,t){return Kt.apply(this,arguments)}(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return e.Persistence=Oi,e})();function Qi(e,t,n){let r=e;"function"!=typeof e&&({next:r,error:t,complete:n}=e);const i=r;return{next:e=>i(e&&Wi.getOrCreate(e)),error:t,complete:n}}let Ji=(()=>{class e{constructor(){this.providerId="phone",this._delegate=new lr(Vi(i.Z.auth()))}static credential(e,t){return lr.credential(e,t)}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}return e.PHONE_SIGN_IN_METHOD=lr.PHONE_SIGN_IN_METHOD,e.PROVIDER_ID=lr.PROVIDER_ID,e})();const Xi=y;var es;(es=i.Z).INTERNAL.registerComponent(new c.wA("auth-compat",e=>{const t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new Yi(t,n)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:ot,FacebookAuthProvider:lt,GithubAuthProvider:dt,GoogleAuthProvider:ht,OAuthProvider:ct,PhoneAuthProvider:Ji,PhoneMultiFactorGenerator:class{constructor(){}static assertion(e){return oi._fromCredential(e)}},RecaptchaVerifier:class{constructor(e,t,n=i.Z.app()){var r;Xi(null===(r=n.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:n.name}),this._delegate=new nr(e,t,n.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}},TwitterAuthProvider:pt,Auth:Yi,AuthCredential:ke,Error:s.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),es.registerVersion("@firebase/auth-compat","0.1.1")},8861:(e,t,n)=>{"use strict";n.d(t,{P:()=>o});var r=n(653),i=n(878),s=n(8318);let o=(()=>{class e{constructor(e,t,n){this.kind=e,this.value=t,this.error=n,this.hasValue="N"===e}observe(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}}do(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}}accept(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,n)}toObservable(){switch(this.kind){case"N":return(0,i.of)(this.value);case"E":return e=this.error,new s.y(t=>t.error(e));case"C":return(0,r.c)()}var e;throw new Error("unexpected notification kind value")}static createNext(t){return void 0!==t?new e("N",t):e.undefinedValueNotification}static createError(t){return new e("E",void 0,t)}static createComplete(){return e.completeNotification}}return e.completeNotification=new e("C"),e.undefinedValueNotification=new e("N",void 0),e})()},8318:(e,t,n)=>{"use strict";n.d(t,{y:()=>c});var r=n(6673),i=n(5331),s=n(7498),o=n(6197),a=n(3392),u=n(1484);let c=(()=>{class e{constructor(e){this._isScalar=!1,e&&(this._subscribe=e)}lift(t){const n=new e;return n.source=this,n.operator=t,n}subscribe(e,t,n){const{operator:o}=this,a=function(e,t,n){if(e){if(e instanceof r.L)return e;if(e[i.b])return e[i.b]()}return e||t||n?new r.L(e,t,n):new r.L(s.c)}(e,t,n);if(a.add(o?o.call(a,this.source):this.source||u.v.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),u.v.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(e){try{return this._subscribe(e)}catch(t){u.v.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),function(e){for(;e;){const{closed:t,destination:n,isStopped:i}=e;if(t||i)return!1;e=n&&n instanceof r.L?n:null}return!0}(e)?e.error(t):console.warn(t)}}forEach(e,t){return new(t=l(t))((t,n)=>{let r;r=this.subscribe(t=>{try{e(t)}catch(i){n(i),r&&r.unsubscribe()}},n,t)})}_subscribe(e){const{source:t}=this;return t&&t.subscribe(e)}[o.L](){return this}pipe(...e){return 0===e.length?this:(0===(t=e).length?a.y:1===t.length?t[0]:function(e){return t.reduce((e,t)=>t(e),e)})(this);var t}toPromise(e){return new(e=l(e))((e,t)=>{let n;this.subscribe(e=>n=e,e=>t(e),()=>e(n))})}}return e.create=t=>new e(t),e})();function l(e){if(e||(e=u.v.Promise||Promise),!e)throw new Error("no Promise impl found");return e}},7498:(e,t,n)=>{"use strict";n.d(t,{c:()=>s});var r=n(1484),i=n(4294);const s={closed:!0,next(e){},error(e){if(r.v.useDeprecatedSynchronousErrorHandling)throw e;(0,i.z)(e)},complete(){}}},5959:(e,t,n)=>{"use strict";n.d(t,{Yc:()=>c,xQ:()=>l});var r=n(8318),i=n(6673),s=n(7570),o=n(3895),a=n(9291),u=n(5331);class c extends i.L{constructor(e){super(e),this.destination=e}}let l=(()=>{class e extends r.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[u.b](){return new c(this)}lift(e){const t=new h(this,this);return t.operator=e,t}next(e){if(this.closed)throw new o.N;if(!this.isStopped){const{observers:t}=this,n=t.length,r=t.slice();for(let i=0;i<n;i++)r[i].next(e)}}error(e){if(this.closed)throw new o.N;this.hasError=!0,this.thrownError=e,this.isStopped=!0;const{observers:t}=this,n=t.length,r=t.slice();for(let i=0;i<n;i++)r[i].error(e);this.observers.length=0}complete(){if(this.closed)throw new o.N;this.isStopped=!0;const{observers:e}=this,t=e.length,n=e.slice();for(let r=0;r<t;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(e){if(this.closed)throw new o.N;return super._trySubscribe(e)}_subscribe(e){if(this.closed)throw new o.N;return this.hasError?(e.error(this.thrownError),s.w.EMPTY):this.isStopped?(e.complete(),s.w.EMPTY):(this.observers.push(e),new a.W(this,e))}asObservable(){const e=new r.y;return e.source=this,e}}return e.create=(e,t)=>new h(e,t),e})();class h extends l{constructor(e,t){super(),this.destination=e,this.source=t}next(e){const{destination:t}=this;t&&t.next&&t.next(e)}error(e){const{destination:t}=this;t&&t.error&&this.destination.error(e)}complete(){const{destination:e}=this;e&&e.complete&&this.destination.complete()}_subscribe(e){const{source:t}=this;return t?this.source.subscribe(e):s.w.EMPTY}}},9291:(e,t,n)=>{"use strict";n.d(t,{W:()=>i});var r=n(7570);class i extends r.w{constructor(e,t){super(),this.subject=e,this.subscriber=t,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const e=this.subject,t=e.observers;if(this.subject=null,!t||0===t.length||e.isStopped||e.closed)return;const n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}},6673:(e,t,n)=>{"use strict";n.d(t,{L:()=>c});var r=n(5024),i=n(7498),s=n(7570),o=n(5331),a=n(1484),u=n(4294);class c extends s.w{constructor(e,t,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.c;break;case 1:if(!e){this.destination=i.c;break}if("object"==typeof e){e instanceof c?(this.syncErrorThrowable=e.syncErrorThrowable,this.destination=e,e.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,e));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,e,t,n)}}[o.b](){return this}static create(e,t,n){const r=new c(e,t,n);return r.syncErrorThrowable=!1,r}next(e){this.isStopped||this._next(e)}error(e){this.isStopped||(this.isStopped=!0,this._error(e))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(e){this.destination.next(e)}_error(e){this.destination.error(e),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:e}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this}}class l extends c{constructor(e,t,n,s){let o;super(),this._parentSubscriber=e;let a=this;(0,r.m)(t)?o=t:t&&(o=t.next,n=t.error,s=t.complete,t!==i.c&&(a=Object.create(t),(0,r.m)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=o,this._error=n,this._complete=s}next(e){if(!this.isStopped&&this._next){const{_parentSubscriber:t}=this;a.v.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}error(e){if(!this.isStopped){const{_parentSubscriber:t}=this,{useDeprecatedSynchronousErrorHandling:n}=a.v;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):(0,u.z)(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;(0,u.z)(e)}}}complete(){if(!this.isStopped){const{_parentSubscriber:e}=this;if(this._complete){const t=()=>this._complete.call(this._context);a.v.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,t),this.unsubscribe()):(this.__tryOrUnsub(t),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(e,t){try{e.call(this._context,t)}catch(n){if(this.unsubscribe(),a.v.useDeprecatedSynchronousErrorHandling)throw n;(0,u.z)(n)}}__tryOrSetError(e,t,n){if(!a.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(r){return a.v.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=r,e.syncErrorThrown=!0,!0):((0,u.z)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:e}=this;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}},7570:(e,t,n)=>{"use strict";n.d(t,{w:()=>a});var r=n(8470),i=n(2056),s=n(5024);const o=(()=>{function e(e){return Error.call(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((e,t)=>`${t+1}) ${e.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e})();let a=(()=>{class e{constructor(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}unsubscribe(){let t;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:a,_unsubscribe:c,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof e)n.remove(this);else if(null!==n)for(let e=0;e<n.length;++e)n[e].remove(this);if((0,s.m)(c)){a&&(this._unsubscribe=void 0);try{c.call(this)}catch(h){t=h instanceof o?u(h.errors):[h]}}if((0,r.k)(l)){let e=-1,n=l.length;for(;++e<n;){const n=l[e];if((0,i.K)(n))try{n.unsubscribe()}catch(h){t=t||[],h instanceof o?t=t.concat(u(h.errors)):t.push(h)}}}if(t)throw new o(t)}add(t){let n=t;if(!t)return e.EMPTY;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){const t=n;n=new e,n._subscriptions=[t]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof e){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(e){const t=this._subscriptions;if(t){const n=t.indexOf(e);-1!==n&&t.splice(n,1)}}}var t;return e.EMPTY=((t=new e).closed=!0,t),e})();function u(e){return e.reduce((e,t)=>e.concat(t instanceof o?t.errors:t),[])}},1484:(e,t,n)=>{"use strict";n.d(t,{v:()=>i});let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){const e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=e},get useDeprecatedSynchronousErrorHandling(){return r}}},6882:(e,t,n)=>{"use strict";n.d(t,{IY:()=>o,Ds:()=>a,ft:()=>u});var r=n(6673),i=n(8318),s=n(6015);class o extends r.L{constructor(e){super(),this.parent=e}_next(e){this.parent.notifyNext(e)}_error(e){this.parent.notifyError(e),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends r.L{notifyNext(e){this.destination.next(e)}notifyError(e){this.destination.error(e)}notifyComplete(){this.destination.complete()}}function u(e,t){if(t.closed)return;if(e instanceof i.y)return e.subscribe(t);let n;try{n=(0,s.s)(e)(t)}catch(r){t.error(r)}return n}},2875:(e,t,n)=>{"use strict";n.d(t,{c:()=>a,N:()=>u});var r=n(5959),i=n(8318),s=n(7570),o=n(1564);class a extends i.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._refCount=0,this._isComplete=!1}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let e=this._connection;return e||(this._isComplete=!1,e=this._connection=new s.w,e.add(this.source.subscribe(new c(this.getSubject(),this))),e.closed&&(this._connection=null,e=s.w.EMPTY)),e}refCount(){return(0,o.x)()(this)}}const u=(()=>{const e=a.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:e._subscribe},_isComplete:{value:e._isComplete,writable:!0},getSubject:{value:e.getSubject},connect:{value:e.connect},refCount:{value:e.refCount}}})();class c extends r.Yc{constructor(e,t){super(e),this.connectable=t}_error(e){this._unsubscribe(),super._error(e)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const e=this.connectable;if(e){this.connectable=null;const t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}},653:(e,t,n)=>{"use strict";n.d(t,{E:()=>i,c:()=>s});var r=n(8318);const i=new r.y(e=>e.complete());function s(e){return e?function(e){return new r.y(t=>e.schedule(()=>t.complete()))}(e):i}},9764:(e,t,n)=>{"use strict";n.d(t,{D:()=>h});var r=n(8318),i=n(6015),s=n(7570),o=n(6197),a=n(2570),u=n(5686),c=n(5168),l=n(9653);function h(e,t){return t?function(e,t){if(null!=e){if(function(e){return e&&"function"==typeof e[o.L]}(e))return function(e,t){return new r.y(n=>{const r=new s.w;return r.add(t.schedule(()=>{const i=e[o.L]();r.add(i.subscribe({next(e){r.add(t.schedule(()=>n.next(e)))},error(e){r.add(t.schedule(()=>n.error(e)))},complete(){r.add(t.schedule(()=>n.complete()))}}))})),r})}(e,t);if((0,c.t)(e))return function(e,t){return new r.y(n=>{const r=new s.w;return r.add(t.schedule(()=>e.then(e=>{r.add(t.schedule(()=>{n.next(e),r.add(t.schedule(()=>n.complete()))}))},e=>{r.add(t.schedule(()=>n.error(e)))}))),r})}(e,t);if((0,l.z)(e))return(0,a.r)(e,t);if(function(e){return e&&"function"==typeof e[u.hZ]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new r.y(n=>{const r=new s.w;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(t.schedule(()=>{i=e[u.hZ](),r.add(t.schedule(function(){if(n.closed)return;let e,t;try{const n=i.next();e=n.value,t=n.done}catch(r){return void n.error(r)}t?n.complete():(n.next(e),this.schedule())}))})),r})}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}(e,t):e instanceof r.y?e:new r.y((0,i.s)(e))}},9342:(e,t,n)=>{"use strict";n.d(t,{n:()=>o});var r=n(8318),i=n(625),s=n(2570);function o(e,t){return t?(0,s.r)(e,t):new r.y((0,i.V)(e))}},1906:(e,t,n)=>{"use strict";n.d(t,{T:()=>a});var r=n(8318),i=n(6163),s=n(7471),o=n(9342);function a(...e){let t=Number.POSITIVE_INFINITY,n=null,a=e[e.length-1];return(0,i.K)(a)?(n=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(t=e.pop())):"number"==typeof a&&(t=e.pop()),null===n&&1===e.length&&e[0]instanceof r.y?e[0]:(0,s.J)(t)((0,o.n)(e,n))}},878:(e,t,n)=>{"use strict";n.d(t,{of:()=>o});var r=n(6163),i=n(9342),s=n(2570);function o(...e){let t=e[e.length-1];return(0,r.K)(t)?(e.pop(),(0,s.r)(e,t)):(0,i.n)(e)}},9996:(e,t,n)=>{"use strict";n.d(t,{U:()=>i});var r=n(6673);function i(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new s(e,t))}}class s{constructor(e,t){this.project=e,this.thisArg=t}call(e,t){return t.subscribe(new o(e,this.project,this.thisArg))}}class o extends r.L{constructor(e,t,n){super(e),this.project=t,this.count=0,this.thisArg=n||this}_next(e){let t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}},7471:(e,t,n)=>{"use strict";n.d(t,{J:()=>s});var r=n(3982),i=n(3392);function s(e=Number.POSITIVE_INFINITY){return(0,r.zg)(i.y,e)}},3982:(e,t,n)=>{"use strict";n.d(t,{zg:()=>o});var r=n(9996),i=n(9764),s=n(6882);function o(e,t,n=Number.POSITIVE_INFINITY){return"function"==typeof t?s=>s.pipe(o((n,s)=>(0,i.D)(e(n,s)).pipe((0,r.U)((e,r)=>t(n,e,s,r))),n)):("number"==typeof t&&(n=t),t=>t.lift(new a(e,n)))}class a{constructor(e,t=Number.POSITIVE_INFINITY){this.project=e,this.concurrent=t}call(e,t){return t.subscribe(new u(e,this.project,this.concurrent))}}class u extends s.Ds{constructor(e,t,n=Number.POSITIVE_INFINITY){super(e),this.project=t,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}_tryNext(e){let t;const n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(t)}_innerSub(e){const t=new s.IY(this),n=this.destination;n.add(t);const r=(0,s.ft)(e,t);r!==t&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(e){this.destination.next(e)}notifyComplete(){const e=this.buffer;this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},45:(e,t,n)=>{"use strict";n.d(t,{QV:()=>s,ht:()=>a});var r=n(6673),i=n(8861);function s(e,t=0){return function(n){return n.lift(new o(e,t))}}class o{constructor(e,t=0){this.scheduler=e,this.delay=t}call(e,t){return t.subscribe(new a(e,this.scheduler,this.delay))}}class a extends r.L{constructor(e,t,n=0){super(e),this.scheduler=t,this.delay=n}static dispatch(e){const{notification:t,destination:n}=e;t.observe(n),this.unsubscribe()}scheduleMessage(e){this.destination.add(this.scheduler.schedule(a.dispatch,this.delay,new u(e,this.destination)))}_next(e){this.scheduleMessage(i.P.createNext(e))}_error(e){this.scheduleMessage(i.P.createError(e)),this.unsubscribe()}_complete(){this.scheduleMessage(i.P.createComplete()),this.unsubscribe()}}class u{constructor(e,t){this.notification=e,this.destination=t}}},1564:(e,t,n)=>{"use strict";n.d(t,{x:()=>i});var r=n(6673);function i(){return function(e){return e.lift(new s(e))}}class s{constructor(e){this.connectable=e}call(e,t){const{connectable:n}=this;n._refCount++;const r=new o(e,n),i=t.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class o extends r.L{constructor(e,t){super(e),this.connectable=t}_unsubscribe(){const{connectable:e}=this;if(!e)return void(this.connection=null);this.connectable=null;const t=e._refCount;if(t<=0)return void(this.connection=null);if(e._refCount=t-1,t>1)return void(this.connection=null);const{connection:n}=this,r=e._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}},1055:(e,t,n)=>{"use strict";n.d(t,{B:()=>a});var r=n(2875),i=n(1564),s=n(5959);function o(){return new s.xQ}function a(){return e=>{return(0,i.x)()((t=o,function(e){let n;n="function"==typeof t?t:function(){return t};const i=Object.create(e,r.N);return i.source=e,i.subjectFactory=n,i})(e));var t}}},2893:(e,t,n)=>{"use strict";n.d(t,{R:()=>m});var r=n(8318);let i=1;const s=(()=>Promise.resolve())(),o={};function a(e){return e in o&&(delete o[e],!0)}const u={setImmediate(e){const t=i++;return o[t]=!0,s.then(()=>a(t)&&e()),t},clearImmediate(e){a(e)}};var c=n(8277);class l extends c.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,n=0){return null!==n&&n>0?super.requestAsyncId(e,t,n):(e.actions.push(this),e.scheduled||(e.scheduled=u.setImmediate(e.flush.bind(e,null))))}recycleAsyncId(e,t,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(e,t,n);0===e.actions.length&&(u.clearImmediate(t),e.scheduled=void 0)}}var h=n(1098);class d extends h.v{flush(e){this.active=!0,this.scheduled=void 0;const{actions:t}=this;let n,r=-1,i=t.length;e=e||t.shift();do{if(n=e.execute(e.state,e.delay))break}while(++r<i&&(e=t.shift()));if(this.active=!1,n){for(;++r<i&&(e=t.shift());)e.unsubscribe();throw n}}}const f=new d(l);var p=n(2293);class g extends r.y{constructor(e,t=0,n=f){super(),this.source=e,this.delayTime=t,this.scheduler=n,(!(0,p.k)(t)||t<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=f)}static create(e,t=0,n=f){return new g(e,t,n)}static dispatch(e){const{source:t,subscriber:n}=e;return this.add(t.subscribe(n))}_subscribe(e){return this.scheduler.schedule(g.dispatch,this.delayTime,{source:this.source,subscriber:e})}}function m(e,t=0){return function(n){return n.lift(new y(e,t))}}class y{constructor(e,t){this.scheduler=e,this.delay=t}call(e,t){return new g(t,this.delay,this.scheduler).subscribe(e)}}},4019:(e,t,n)=>{"use strict";n.d(t,{b:()=>o});var r=n(6673),i=n(6054),s=n(5024);function o(e,t,n){return function(r){return r.lift(new a(e,t,n))}}class a{constructor(e,t,n){this.nextOrObserver=e,this.error=t,this.complete=n}call(e,t){return t.subscribe(new u(e,this.nextOrObserver,this.error,this.complete))}}class u extends r.L{constructor(e,t,n,r){super(e),this._tapNext=i.Z,this._tapError=i.Z,this._tapComplete=i.Z,this._tapError=n||i.Z,this._tapComplete=r||i.Z,(0,s.m)(t)?(this._context=this,this._tapNext=t):t&&(this._context=t,this._tapNext=t.next||i.Z,this._tapError=t.error||i.Z,this._tapComplete=t.complete||i.Z)}_next(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)}_error(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)}_complete(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}},2570:(e,t,n)=>{"use strict";n.d(t,{r:()=>s});var r=n(8318),i=n(7570);function s(e,t){return new r.y(n=>{const r=new i.w;let s=0;return r.add(t.schedule(function(){s!==e.length?(n.next(e[s++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},8277:(e,t,n)=>{"use strict";n.d(t,{o:()=>s});var r=n(7570);class i extends r.w{constructor(e,t){super()}schedule(e,t=0){return this}}class s extends i{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this}requestAsyncId(e,t,n=0){return setInterval(e.flush.bind(e,this),n)}recycleAsyncId(e,t,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let n,r=!1;try{this.work(e)}catch(i){r=!0,n=!!i&&i||new Error(i)}if(r)return this.unsubscribe(),n}_unsubscribe(){const e=this.id,t=this.scheduler,n=t.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}}},1098:(e,t,n)=>{"use strict";n.d(t,{v:()=>i});let r=(()=>{class e{constructor(t,n=e.now){this.SchedulerAction=t,this.now=n}schedule(e,t=0,n){return new this.SchedulerAction(this,e).schedule(n,t)}}return e.now=()=>Date.now(),e})();class i extends r{constructor(e,t=r.now){super(e,()=>i.delegate&&i.delegate!==this?i.delegate.now():t()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(e,t=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(e,t,n):super.schedule(e,t,n)}flush(e){const{actions:t}=this;if(this.active)return void t.push(e);let n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}}},8569:(e,t,n)=>{"use strict";n.d(t,{z:()=>i,P:()=>s});var r=n(8277);const i=new(n(1098).v)(r.o),s=i},8489:(e,t,n)=>{"use strict";n.d(t,{c:()=>u,N:()=>a});var r=n(8277);class i extends r.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(e,t,n):e.flush(this)}}var s=n(1098);class o extends s.v{}const a=new o(i),u=a},5686:(e,t,n)=>{"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(t,{hZ:()=>i});const i=r()},6197:(e,t,n)=>{"use strict";n.d(t,{L:()=>r});const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},5331:(e,t,n)=>{"use strict";n.d(t,{b:()=>r});const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},3895:(e,t,n)=>{"use strict";n.d(t,{N:()=>r});const r=(()=>{function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e})()},4294:(e,t,n)=>{"use strict";function r(e){setTimeout(()=>{throw e},0)}n.d(t,{z:()=>r})},3392:(e,t,n)=>{"use strict";function r(e){return e}n.d(t,{y:()=>r})},8470:(e,t,n)=>{"use strict";n.d(t,{k:()=>r});const r=(()=>Array.isArray||(e=>e&&"number"==typeof e.length))()},9653:(e,t,n)=>{"use strict";n.d(t,{z:()=>r});const r=e=>e&&"number"==typeof e.length&&"function"!=typeof e},5024:(e,t,n)=>{"use strict";function r(e){return"function"==typeof e}n.d(t,{m:()=>r})},2293:(e,t,n)=>{"use strict";n.d(t,{k:()=>i});var r=n(8470);function i(e){return!(0,r.k)(e)&&e-parseFloat(e)+1>=0}},2056:(e,t,n)=>{"use strict";function r(e){return null!==e&&"object"==typeof e}n.d(t,{K:()=>r})},5168:(e,t,n)=>{"use strict";function r(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}n.d(t,{t:()=>r})},6163:(e,t,n)=>{"use strict";function r(e){return e&&"function"==typeof e.schedule}n.d(t,{K:()=>r})},6054:(e,t,n)=>{"use strict";function r(){}n.d(t,{Z:()=>r})},6015:(e,t,n)=>{"use strict";n.d(t,{s:()=>l});var r=n(625),i=n(4294),s=n(5686),o=n(6197),a=n(9653),u=n(5168),c=n(2056);const l=e=>{if(e&&"function"==typeof e[o.L])return l=e,e=>{const t=l[o.L]();if("function"!=typeof t.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)};if((0,a.z)(e))return(0,r.V)(e);if((0,u.t)(e))return n=e,e=>(n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,i.z),e);if(e&&"function"==typeof e[s.hZ])return t=e,e=>{const n=t[s.hZ]();for(;;){let t;try{t=n.next()}catch(r){return e.error(r),e}if(t.done){e.complete();break}if(e.next(t.value),e.closed)break}return"function"==typeof n.return&&e.add(()=>{n.return&&n.return()}),e};{const t=(0,c.K)(e)?"an invalid object":`'${e}'`;throw new TypeError(`You provided ${t} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var t,n,l}},625:(e,t,n)=>{"use strict";n.d(t,{V:()=>r});const r=e=>t=>{for(let n=0,r=e.length;n<r&&!t.closed;n++)t.next(e[n]);t.complete()}},9168:(e,t,n)=>{"use strict";var r=n(5366);let i=null;function s(){return i}const o=new r.OlP("DocumentToken");let a=(()=>{class e{historyGo(e){throw new Error("Not implemented")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=(0,r.Yz7)({factory:u,token:e,providedIn:"platform"}),e})();function u(){return(0,r.LFG)(l)}const c=new r.OlP("Location Initialized");let l=(()=>{class e extends a{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return s().getBaseHref(this._doc)}onPopState(e){const t=s().getGlobalEventTarget(this._doc,"window");return t.addEventListener("popstate",e,!1),()=>t.removeEventListener("popstate",e)}onHashChange(e){const t=s().getGlobalEventTarget(this._doc,"window");return t.addEventListener("hashchange",e,!1),()=>t.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,t,n){h()?this._history.pushState(e,t,n):this.location.hash=n}replaceState(e,t,n){h()?this._history.replaceState(e,t,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(o))},e.\u0275prov=(0,r.Yz7)({factory:d,token:e,providedIn:"platform"}),e})();function h(){return!!window.history.pushState}function d(){return new l((0,r.LFG)(o))}function f(e,t){if(0==e.length)return t;if(0==t.length)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function p(e){const t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function g(e){return e&&"?"!==e[0]?"?"+e:e}let m=(()=>{class e{historyGo(e){throw new Error("Not implemented")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=(0,r.Yz7)({factory:y,token:e,providedIn:"root"}),e})();function y(e){const t=(0,r.LFG)(o).location;return new _((0,r.LFG)(a),t&&t.origin||"")}const v=new r.OlP("appBaseHref");let _=(()=>{class e extends m{constructor(e,t){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==t&&(t=this._platformLocation.getBaseHrefFromDOM()),null==t)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=t}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return f(this._baseHref,e)}path(e=!1){const t=this._platformLocation.pathname+g(this._platformLocation.search),n=this._platformLocation.hash;return n&&e?`${t}${n}`:t}pushState(e,t,n,r){const i=this.prepareExternalUrl(n+g(r));this._platformLocation.pushState(e,t,i)}replaceState(e,t,n,r){const i=this.prepareExternalUrl(n+g(r));this._platformLocation.replaceState(e,t,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var t,n;null===(n=(t=this._platformLocation).historyGo)||void 0===n||n.call(t,e)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(a),r.LFG(v,8))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),w=(()=>{class e extends m{constructor(e,t){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=t&&(this._baseHref=t)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let t=this._platformLocation.hash;return null==t&&(t="#"),t.length>0?t.substring(1):t}prepareExternalUrl(e){const t=f(this._baseHref,e);return t.length>0?"#"+t:t}pushState(e,t,n,r){let i=this.prepareExternalUrl(n+g(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(e,t,i)}replaceState(e,t,n,r){let i=this.prepareExternalUrl(n+g(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(e,t,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var t,n;null===(n=(t=this._platformLocation).historyGo)||void 0===n||n.call(t,e)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(a),r.LFG(v,8))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),b=(()=>{class e{constructor(e,t){this._subject=new r.vpe,this._urlChangeListeners=[],this._platformStrategy=e;const n=this._platformStrategy.getBaseHref();this._platformLocation=t,this._baseHref=p(E(n)),this._platformStrategy.onPopState(e=>{this._subject.emit({url:this.path(!0),pop:!0,state:e.state,type:e.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,t=""){return this.path()==this.normalize(e+g(t))}normalize(t){return e.stripTrailingSlash(function(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._baseHref,E(t)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,t="",n=null){this._platformStrategy.pushState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+g(t)),n)}replaceState(e,t="",n=null){this._platformStrategy.replaceState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+g(t)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var t,n;null===(n=(t=this._platformStrategy).historyGo)||void 0===n||n.call(t,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(e=>{this._notifyUrlChangeListeners(e.url,e.state)}))}_notifyUrlChangeListeners(e="",t){this._urlChangeListeners.forEach(n=>n(e,t))}subscribe(e,t,n){return this._subject.subscribe({next:e,error:t,complete:n})}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(m),r.LFG(a))},e.normalizeQueryParams=g,e.joinWithSlash=f,e.stripTrailingSlash=p,e.\u0275prov=(0,r.Yz7)({factory:I,token:e,providedIn:"root"}),e})();function I(){return new b((0,r.LFG)(m),(0,r.LFG)(a))}function E(e){return e.replace(/\/index.html$/,"")}var T=function(e){return e[e.Zero=0]="Zero",e[e.One=1]="One",e[e.Two=2]="Two",e[e.Few=3]="Few",e[e.Many=4]="Many",e[e.Other=5]="Other",e}({}),S=function(e){return e[e.Format=0]="Format",e[e.Standalone=1]="Standalone",e}({}),C=function(e){return e[e.Narrow=0]="Narrow",e[e.Abbreviated=1]="Abbreviated",e[e.Wide=2]="Wide",e[e.Short=3]="Short",e}({}),A=function(e){return e[e.Short=0]="Short",e[e.Medium=1]="Medium",e[e.Long=2]="Long",e[e.Full=3]="Full",e}({}),k=function(e){return e[e.Decimal=0]="Decimal",e[e.Group=1]="Group",e[e.List=2]="List",e[e.PercentSign=3]="PercentSign",e[e.PlusSign=4]="PlusSign",e[e.MinusSign=5]="MinusSign",e[e.Exponential=6]="Exponential",e[e.SuperscriptingExponent=7]="SuperscriptingExponent",e[e.PerMille=8]="PerMille",e[e[1/0]=9]="Infinity",e[e.NaN=10]="NaN",e[e.TimeSeparator=11]="TimeSeparator",e[e.CurrencyDecimal=12]="CurrencyDecimal",e[e.CurrencyGroup=13]="CurrencyGroup",e}({});function x(e,t){return L((0,r.cg1)(e)[r.wAp.DateFormat],t)}function N(e,t){return L((0,r.cg1)(e)[r.wAp.TimeFormat],t)}function O(e,t){return L((0,r.cg1)(e)[r.wAp.DateTimeFormat],t)}function R(e,t){const n=(0,r.cg1)(e),i=n[r.wAp.NumberSymbols][t];if(void 0===i){if(t===k.CurrencyDecimal)return n[r.wAp.NumberSymbols][k.Decimal];if(t===k.CurrencyGroup)return n[r.wAp.NumberSymbols][k.Group]}return i}const D=r.kL8;function P(e){if(!e[r.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${e[r.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function L(e,t){for(let n=t;n>-1;n--)if(void 0!==e[n])return e[n];throw new Error("Locale data API: locale data undefined")}function M(e){const[t,n]=e.split(":");return{hours:+t,minutes:+n}}const F=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,U={},V=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var j=function(e){return e[e.Short=0]="Short",e[e.ShortGMT=1]="ShortGMT",e[e.Long=2]="Long",e[e.Extended=3]="Extended",e}({}),q=function(e){return e[e.FullYear=0]="FullYear",e[e.Month=1]="Month",e[e.Date=2]="Date",e[e.Hours=3]="Hours",e[e.Minutes=4]="Minutes",e[e.Seconds=5]="Seconds",e[e.FractionalSeconds=6]="FractionalSeconds",e[e.Day=7]="Day",e}({}),B=function(e){return e[e.DayPeriods=0]="DayPeriods",e[e.Days=1]="Days",e[e.Months=2]="Months",e[e.Eras=3]="Eras",e}({});function z(e,t,n,r){let i=function(e){if(ne(e))return e;if("number"==typeof e&&!isNaN(e))return new Date(e);if("string"==typeof e){if(e=e.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(e)){const[t,n=1,r=1]=e.split("-").map(e=>+e);return Z(t,n-1,r)}const t=parseFloat(e);if(!isNaN(e-t))return new Date(t);let n;if(n=e.match(F))return function(e){const t=new Date(0);let n=0,r=0;const i=e[8]?t.setUTCFullYear:t.setFullYear,s=e[8]?t.setUTCHours:t.setHours;e[9]&&(n=Number(e[9]+e[10]),r=Number(e[9]+e[11])),i.call(t,Number(e[1]),Number(e[2])-1,Number(e[3]));const o=Number(e[4]||0)-n,a=Number(e[5]||0)-r,u=Number(e[6]||0),c=Math.floor(1e3*parseFloat("0."+(e[7]||0)));return s.call(t,o,a,u,c),t}(n)}const t=new Date(e);if(!ne(t))throw new Error(`Unable to convert "${e}" into a date`);return t}(e);t=H(n,t)||t;let s,o=[];for(;t;){if(s=V.exec(t),!s){o.push(t);break}{o=o.concat(s.slice(1));const e=o.pop();if(!e)break;t=e}}let a=i.getTimezoneOffset();r&&(a=te(r,a),i=function(e,t,n){const r=e.getTimezoneOffset();return function(e,t){return(e=new Date(e.getTime())).setMinutes(e.getMinutes()+t),e}(e,-1*(te(t,r)-r))}(i,r));let u="";return o.forEach(e=>{const t=function(e){if(ee[e])return ee[e];let t;switch(e){case"G":case"GG":case"GGG":t=K(B.Eras,C.Abbreviated);break;case"GGGG":t=K(B.Eras,C.Wide);break;case"GGGGG":t=K(B.Eras,C.Narrow);break;case"y":t=W(q.FullYear,1,0,!1,!0);break;case"yy":t=W(q.FullYear,2,0,!0,!0);break;case"yyy":t=W(q.FullYear,3,0,!1,!0);break;case"yyyy":t=W(q.FullYear,4,0,!1,!0);break;case"Y":t=X(1);break;case"YY":t=X(2,!0);break;case"YYY":t=X(3);break;case"YYYY":t=X(4);break;case"M":case"L":t=W(q.Month,1,1);break;case"MM":case"LL":t=W(q.Month,2,1);break;case"MMM":t=K(B.Months,C.Abbreviated);break;case"MMMM":t=K(B.Months,C.Wide);break;case"MMMMM":t=K(B.Months,C.Narrow);break;case"LLL":t=K(B.Months,C.Abbreviated,S.Standalone);break;case"LLLL":t=K(B.Months,C.Wide,S.Standalone);break;case"LLLLL":t=K(B.Months,C.Narrow,S.Standalone);break;case"w":t=J(1);break;case"ww":t=J(2);break;case"W":t=J(1,!0);break;case"d":t=W(q.Date,1);break;case"dd":t=W(q.Date,2);break;case"c":case"cc":t=W(q.Day,1);break;case"ccc":t=K(B.Days,C.Abbreviated,S.Standalone);break;case"cccc":t=K(B.Days,C.Wide,S.Standalone);break;case"ccccc":t=K(B.Days,C.Narrow,S.Standalone);break;case"cccccc":t=K(B.Days,C.Short,S.Standalone);break;case"E":case"EE":case"EEE":t=K(B.Days,C.Abbreviated);break;case"EEEE":t=K(B.Days,C.Wide);break;case"EEEEE":t=K(B.Days,C.Narrow);break;case"EEEEEE":t=K(B.Days,C.Short);break;case"a":case"aa":case"aaa":t=K(B.DayPeriods,C.Abbreviated);break;case"aaaa":t=K(B.DayPeriods,C.Wide);break;case"aaaaa":t=K(B.DayPeriods,C.Narrow);break;case"b":case"bb":case"bbb":t=K(B.DayPeriods,C.Abbreviated,S.Standalone,!0);break;case"bbbb":t=K(B.DayPeriods,C.Wide,S.Standalone,!0);break;case"bbbbb":t=K(B.DayPeriods,C.Narrow,S.Standalone,!0);break;case"B":case"BB":case"BBB":t=K(B.DayPeriods,C.Abbreviated,S.Format,!0);break;case"BBBB":t=K(B.DayPeriods,C.Wide,S.Format,!0);break;case"BBBBB":t=K(B.DayPeriods,C.Narrow,S.Format,!0);break;case"h":t=W(q.Hours,1,-12);break;case"hh":t=W(q.Hours,2,-12);break;case"H":t=W(q.Hours,1);break;case"HH":t=W(q.Hours,2);break;case"m":t=W(q.Minutes,1);break;case"mm":t=W(q.Minutes,2);break;case"s":t=W(q.Seconds,1);break;case"ss":t=W(q.Seconds,2);break;case"S":t=W(q.FractionalSeconds,1);break;case"SS":t=W(q.FractionalSeconds,2);break;case"SSS":t=W(q.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=Y(j.Short);break;case"ZZZZZ":t=Y(j.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=Y(j.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=Y(j.Long);break;default:return null}return ee[e]=t,t}(e);u+=t?t(i,n,a):"''"===e?"'":e.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}function Z(e,t,n){const r=new Date(0);return r.setFullYear(e,t,n),r.setHours(0,0,0),r}function H(e,t){const n=function(e){return(0,r.cg1)(e)[r.wAp.LocaleId]}(e);if(U[n]=U[n]||{},U[n][t])return U[n][t];let i="";switch(t){case"shortDate":i=x(e,A.Short);break;case"mediumDate":i=x(e,A.Medium);break;case"longDate":i=x(e,A.Long);break;case"fullDate":i=x(e,A.Full);break;case"shortTime":i=N(e,A.Short);break;case"mediumTime":i=N(e,A.Medium);break;case"longTime":i=N(e,A.Long);break;case"fullTime":i=N(e,A.Full);break;case"short":const t=H(e,"shortTime"),n=H(e,"shortDate");i=$(O(e,A.Short),[t,n]);break;case"medium":const r=H(e,"mediumTime"),s=H(e,"mediumDate");i=$(O(e,A.Medium),[r,s]);break;case"long":const o=H(e,"longTime"),a=H(e,"longDate");i=$(O(e,A.Long),[o,a]);break;case"full":const u=H(e,"fullTime"),c=H(e,"fullDate");i=$(O(e,A.Full),[u,c])}return i&&(U[n][t]=i),i}function $(e,t){return t&&(e=e.replace(/\{([^}]+)}/g,function(e,n){return null!=t&&n in t?t[n]:e})),e}function G(e,t,n="-",r,i){let s="";(e<0||i&&e<=0)&&(i?e=1-e:(e=-e,s=n));let o=String(e);for(;o.length<t;)o="0"+o;return r&&(o=o.substr(o.length-t)),s+o}function W(e,t,n=0,r=!1,i=!1){return function(s,o){let a=function(e,t){switch(e){case q.FullYear:return t.getFullYear();case q.Month:return t.getMonth();case q.Date:return t.getDate();case q.Hours:return t.getHours();case q.Minutes:return t.getMinutes();case q.Seconds:return t.getSeconds();case q.FractionalSeconds:return t.getMilliseconds();case q.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${e}".`)}}(e,s);if((n>0||a>-n)&&(a+=n),e===q.Hours)0===a&&-12===n&&(a=12);else if(e===q.FractionalSeconds)return u=t,G(a,3).substr(0,u);var u;const c=R(o,k.MinusSign);return G(a,t,c,r,i)}}function K(e,t,n=S.Format,i=!1){return function(s,o){return function(e,t,n,i,s,o){switch(n){case B.Months:return function(e,t,n){const i=(0,r.cg1)(e),s=L([i[r.wAp.MonthsFormat],i[r.wAp.MonthsStandalone]],t);return L(s,n)}(t,s,i)[e.getMonth()];case B.Days:return function(e,t,n){const i=(0,r.cg1)(e),s=L([i[r.wAp.DaysFormat],i[r.wAp.DaysStandalone]],t);return L(s,n)}(t,s,i)[e.getDay()];case B.DayPeriods:const a=e.getHours(),u=e.getMinutes();if(o){const e=function(e){const t=(0,r.cg1)(e);return P(t),(t[r.wAp.ExtraData][2]||[]).map(e=>"string"==typeof e?M(e):[M(e[0]),M(e[1])])}(t),n=function(e,t,n){const i=(0,r.cg1)(e);P(i);const s=L([i[r.wAp.ExtraData][0],i[r.wAp.ExtraData][1]],t)||[];return L(s,n)||[]}(t,s,i),o=e.findIndex(e=>{if(Array.isArray(e)){const[t,n]=e,r=a>=t.hours&&u>=t.minutes,i=a<n.hours||a===n.hours&&u<n.minutes;if(t.hours<n.hours){if(r&&i)return!0}else if(r||i)return!0}else if(e.hours===a&&e.minutes===u)return!0;return!1});if(-1!==o)return n[o]}return function(e,t,n){const i=(0,r.cg1)(e),s=L([i[r.wAp.DayPeriodsFormat],i[r.wAp.DayPeriodsStandalone]],t);return L(s,n)}(t,s,i)[a<12?0:1];case B.Eras:return function(e,t){return L((0,r.cg1)(e)[r.wAp.Eras],t)}(t,i)[e.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${n}`)}}(s,o,e,t,n,i)}}function Y(e){return function(t,n,r){const i=-1*r,s=R(n,k.MinusSign),o=i>0?Math.floor(i/60):Math.ceil(i/60);switch(e){case j.Short:return(i>=0?"+":"")+G(o,2,s)+G(Math.abs(i%60),2,s);case j.ShortGMT:return"GMT"+(i>=0?"+":"")+G(o,1,s);case j.Long:return"GMT"+(i>=0?"+":"")+G(o,2,s)+":"+G(Math.abs(i%60),2,s);case j.Extended:return 0===r?"Z":(i>=0?"+":"")+G(o,2,s)+":"+G(Math.abs(i%60),2,s);default:throw new Error(`Unknown zone width "${e}"`)}}}function Q(e){return Z(e.getFullYear(),e.getMonth(),e.getDate()+(4-e.getDay()))}function J(e,t=!1){return function(n,r){let i;if(t){const e=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,t=n.getDate();i=1+Math.floor((t+e)/7)}else{const e=Q(n),t=function(e){const t=Z(e,0,1).getDay();return Z(e,0,1+(t<=4?4:11)-t)}(e.getFullYear()),r=e.getTime()-t.getTime();i=1+Math.round(r/6048e5)}return G(i,e,R(r,k.MinusSign))}}function X(e,t=!1){return function(n,r){return G(Q(n).getFullYear(),e,R(r,k.MinusSign),t)}}const ee={};function te(e,t){e=e.replace(/:/g,"");const n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function ne(e){return e instanceof Date&&!isNaN(e.valueOf())}class re{}let ie=(()=>{class e extends re{constructor(e){super(),this.locale=e}getPluralCategory(e,t){switch(D(t||this.locale)(e)){case T.Zero:return"zero";case T.One:return"one";case T.Two:return"two";case T.Few:return"few";case T.Many:return"many";default:return"other"}}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(r.soG))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();class se{constructor(e,t,n,r){this.$implicit=e,this.ngForOf=t,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let oe=(()=>{class e{constructor(e,t,n){this._viewContainer=e,this._template=t,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch(my){throw new Error(`Cannot find a differ supporting object '${t}' of type '${e=t,e.name||typeof e}'. NgFor only supports binding to Iterables such as Arrays.`)}}var e;if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const t=[];e.forEachOperation((e,n,r)=>{if(null==e.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new se(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new ae(e,n);t.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const s=new ae(e,i);t.push(s)}});for(let n=0;n<t.length;n++)this._perViewChange(t[n].view,t[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const e=this._viewContainer.get(n);e.context.index=n,e.context.count=r,e.context.ngForOf=this._ngForOf}e.forEachIdentityChange(e=>{this._viewContainer.get(e.currentIndex).context.$implicit=e.item})}_perViewChange(e,t){e.context.$implicit=t.item}static ngTemplateContextGuard(e,t){return!0}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.s_b),r.Y36(r.Rgc),r.Y36(r.ZZ4))},e.\u0275dir=r.lG2({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),e})();class ae{constructor(e,t){this.record=e,this.view=t}}let ue=(()=>{class e{constructor(e,t){this._viewContainer=e,this._context=new ce,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=t}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){le("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){le("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,t){return!0}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.s_b),r.Y36(r.Rgc))},e.\u0275dir=r.lG2({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),e})();class ce{constructor(){this.$implicit=null,this.ngIf=null}}function le(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${(0,r.AaK)(t)}'.`)}function he(e,t){return Error(`InvalidPipeArgument: '${t}' for pipe '${(0,r.AaK)(e)}'`)}class de{createSubscription(e,t){return e.subscribe({next:t,error:e=>{throw e}})}dispose(e){e.unsubscribe()}onDestroy(e){e.unsubscribe()}}class fe{createSubscription(e,t){return e.then(t,e=>{throw e})}dispose(e){}onDestroy(e){}}const pe=new fe,ge=new de;let me=(()=>{class e{constructor(e){this._ref=e,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,t=>this._updateLatestValue(e,t))}_selectStrategy(t){if((0,r.QGY)(t))return pe;if((0,r.F4k)(t))return ge;throw he(e,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,t){e===this._obj&&(this._latestValue=t,this._ref.markForCheck())}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.sBO,16))},e.\u0275pipe=r.Yjl({name:"async",type:e,pure:!1}),e})(),ye=(()=>{class e{constructor(e){this.locale=e}transform(t,n="mediumDate",r,i){if(null==t||""===t||t!=t)return null;try{return z(t,n,i||this.locale,r)}catch(s){throw he(e,s.message)}}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.soG,16))},e.\u0275pipe=r.Yjl({name:"date",type:e,pure:!0}),e})(),ve=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:[{provide:re,useClass:ie}]}),e})();function _e(e){return"server"===e}let we=(()=>{class e{}return e.\u0275prov=(0,r.Yz7)({token:e,providedIn:"root",factory:()=>new be((0,r.LFG)(o),window)}),e})();class be{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function(e,t){const n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if("function"==typeof e.createTreeWalker&&e.body&&(e.body.createShadowRoot||e.body.attachShadow)){const n=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let r=n.currentNode;for(;r;){const e=r.shadowRoot;if(e){const n=e.getElementById(t)||e.querySelector(`[name="${t}"]`);if(n)return n}r=n.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),this.attemptFocus(t))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),n=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Ie(this.window.history)||Ie(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(my){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(my){return!1}}}function Ie(e){return Object.getOwnPropertyDescriptor(e,"scrollRestoration")}class Ee extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var e;e=new Ee,i||(i=e)}onAndCancel(e,t,n){return e.addEventListener(t,n,!1),()=>{e.removeEventListener(t,n,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=(Se=Se||document.querySelector("base"),Se?Se.getAttribute("href"):null);return null==t?null:function(e){Te=Te||document.createElement("a"),Te.setAttribute("href",e);const t=Te.pathname;return"/"===t.charAt(0)?t:`/${t}`}(t)}resetBaseElement(){Se=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const e=n.indexOf("="),[r,i]=-1==e?[n,""]:[n.slice(0,e),n.slice(e+1)];if(r.trim()===t)return decodeURIComponent(i)}return null}(document.cookie,e)}}let Te,Se=null;const Ce=new r.OlP("TRANSITION_ID"),Ae=[{provide:r.ip1,useFactory:function(e,t,n){return()=>{n.get(r.CZH).donePromise.then(()=>{const n=s();Array.prototype.slice.apply(t.querySelectorAll("style[ng-transition]")).filter(t=>t.getAttribute("ng-transition")===e).forEach(e=>n.remove(e))})}},deps:[Ce,o,r.zs3],multi:!0}];class ke{static init(){(0,r.VLi)(new ke)}addToWindow(e){r.dqk.getAngularTestability=(t,n=!0)=>{const r=e.findTestabilityInTree(t,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),r.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),r.dqk.frameworkStabilizers||(r.dqk.frameworkStabilizers=[]),r.dqk.frameworkStabilizers.push(e=>{const t=r.dqk.getAllAngularTestabilities();let n=t.length,i=!1;const s=function(t){i=i||t,n--,0==n&&e(i)};t.forEach(function(e){e.whenStable(s)})})}findTestabilityInTree(e,t,n){if(null==t)return null;const r=e.getTestability(t);return null!=r?r:n?s().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let xe=(()=>{class e{build(){return new XMLHttpRequest}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();const Ne=new r.OlP("EventManagerPlugins");let Oe=(()=>{class e{constructor(e,t){this._zone=t,this._eventNameToPlugin=new Map,e.forEach(e=>e.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,t,n){return this._findPluginFor(t).addEventListener(e,t,n)}addGlobalEventListener(e,t,n){return this._findPluginFor(t).addGlobalEventListener(e,t,n)}getZone(){return this._zone}_findPluginFor(e){const t=this._eventNameToPlugin.get(e);if(t)return t;const n=this._plugins;for(let r=0;r<n.length;r++){const t=n[r];if(t.supports(e))return this._eventNameToPlugin.set(e,t),t}throw new Error(`No event manager plugin found for event ${e}`)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(Ne),r.LFG(r.R0b))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();class Re{constructor(e){this._doc=e}addGlobalEventListener(e,t,n){const r=s().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,n)}}let De=(()=>{class e{constructor(){this._stylesSet=new Set}addStyles(e){const t=new Set;e.forEach(e=>{this._stylesSet.has(e)||(this._stylesSet.add(e),t.add(e))}),this.onStylesAdded(t)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),Pe=(()=>{class e extends De{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,t,n){e.forEach(e=>{const r=this._doc.createElement("style");r.textContent=e,n.push(t.appendChild(r))})}addHost(e){const t=[];this._addStylesToHost(this._stylesSet,e,t),this._hostNodes.set(e,t)}removeHost(e){const t=this._hostNodes.get(e);t&&t.forEach(Le),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((t,n)=>{this._addStylesToHost(e,n,t)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(Le))}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(o))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();function Le(e){s().remove(e)}const Me={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Fe=/%COMP%/g;function Ue(e,t,n){for(let r=0;r<t.length;r++){let i=t[r];Array.isArray(i)?Ue(e,i,n):(i=i.replace(Fe,e),n.push(i))}return n}function Ve(e){return t=>{if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}let je=(()=>{class e{constructor(e,t,n){this.eventManager=e,this.sharedStylesHost=t,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new qe(e)}createRenderer(e,t){if(!e||!t)return this.defaultRenderer;switch(t.encapsulation){case r.ifc.Emulated:{let n=this.rendererByCompId.get(t.id);return n||(n=new Be(this.eventManager,this.sharedStylesHost,t,this.appId),this.rendererByCompId.set(t.id,n)),n.applyToHost(e),n}case 1:case r.ifc.ShadowDom:return new ze(this.eventManager,this.sharedStylesHost,e,t);default:if(!this.rendererByCompId.has(t.id)){const e=Ue(t.id,t.styles,[]);this.sharedStylesHost.addStyles(e),this.rendererByCompId.set(t.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(Oe),r.LFG(Pe),r.LFG(r.AFp))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();class qe{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,t){return t?document.createElementNS(Me[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,n){e&&e.insertBefore(t,n)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let n="string"==typeof e?document.querySelector(e):e;if(!n)throw new Error(`The selector "${e}" did not match any elements`);return t||(n.textContent=""),n}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,n,r){if(r){t=r+":"+t;const i=Me[r];i?e.setAttributeNS(i,t,n):e.setAttribute(t,n)}else e.setAttribute(t,n)}removeAttribute(e,t,n){if(n){const r=Me[n];r?e.removeAttributeNS(r,t):e.removeAttribute(`${n}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,n,i){i&(r.JOm.DashCase|r.JOm.Important)?e.style.setProperty(t,n,i&r.JOm.Important?"important":""):e.style[t]=n}removeStyle(e,t,n){n&r.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,n){e[t]=n}setValue(e,t){e.nodeValue=t}listen(e,t,n){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Ve(n)):this.eventManager.addEventListener(e,t,Ve(n))}}class Be extends qe{constructor(e,t,n,r){super(e),this.component=n;const i=Ue(r+"-"+n.id,n.styles,[]);t.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(Fe,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(Fe,r+"-"+n.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const n=super.createElement(e,t);return super.setAttribute(n,this.contentAttr,""),n}}class ze extends qe{constructor(e,t,n,r){super(e),this.sharedStylesHost=t,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=Ue(r.id,r.styles,[]);for(let s=0;s<i.length;s++){const e=document.createElement("style");e.textContent=i[s],this.shadowRoot.appendChild(e)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,n){return super.insertBefore(this.nodeOrShadowRoot(e),t,n)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Ze=(()=>{class e extends Re{constructor(e){super(e)}supports(e){return!0}addEventListener(e,t,n){return e.addEventListener(t,n,!1),()=>this.removeEventListener(e,t,n)}removeEventListener(e,t,n){return e.removeEventListener(t,n)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(o))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();const He=["alt","control","meta","shift"],$e={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ge={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},We={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let Ke=(()=>{class e extends Re{constructor(e){super(e)}supports(t){return null!=e.parseEventName(t)}addEventListener(t,n,r){const i=e.parseEventName(n),o=e.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>s().onAndCancel(t,i.domEventName,o))}static parseEventName(t){const n=t.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=e._normalizeKey(n.pop());let s="";if(He.forEach(e=>{const t=n.indexOf(e);t>-1&&(n.splice(t,1),s+=e+".")}),s+=i,0!=n.length||0===i.length)return null;const o={};return o.domEventName=r,o.fullKey=s,o}static getEventFullKey(e){let t="",n=function(e){let t=e.key;if(null==t){if(t=e.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===e.location&&Ge.hasOwnProperty(t)&&(t=Ge[t]))}return $e[t]||t}(e);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),He.forEach(r=>{r!=n&&(0,We[r])(e)&&(t+=r+".")}),t+=n,t}static eventCallback(t,n,r){return i=>{e.getEventFullKey(i)===t&&r.runGuarded(()=>n(i))}}static _normalizeKey(e){switch(e){case"esc":return"escape";default:return e}}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(o))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();const Ye=(0,r.eFA)(r._c5,"browser",[{provide:r.Lbi,useValue:"browser"},{provide:r.g9A,useValue:function(){Ee.makeCurrent(),ke.init()},multi:!0},{provide:o,useFactory:function(){return(0,r.RDi)(document),document},deps:[]}]),Qe=[[],{provide:r.zSh,useValue:"root"},{provide:r.qLn,useFactory:function(){return new r.qLn},deps:[]},{provide:Ne,useClass:Ze,multi:!0,deps:[o,r.R0b,r.Lbi]},{provide:Ne,useClass:Ke,multi:!0,deps:[o]},[],{provide:je,useClass:je,deps:[Oe,Pe,r.AFp]},{provide:r.FYo,useExisting:je},{provide:De,useExisting:Pe},{provide:Pe,useClass:Pe,deps:[o]},{provide:r.dDg,useClass:r.dDg,deps:[r.R0b]},{provide:Oe,useClass:Oe,deps:[Ne,r.R0b]},{provide:class{},useClass:xe,deps:[]},[]];let Je=(()=>{class e{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:e,providers:[{provide:r.AFp,useValue:t.appId},{provide:Ce,useExisting:r.AFp},Ae]}}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(e,12))},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:Qe,imports:[ve,r.hGG]}),e})();"undefined"!=typeof window&&window;var Xe=n(9764),et=n(878),tt=n(5959),nt=n(3895);class rt extends tt.xQ{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return t&&!t.closed&&e.next(this._value),t}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new nt.N;return this._value}next(e){super.next(this._value=e)}}var it=n(6163),st=n(8470),ot=n(6673);class at extends ot.L{notifyNext(e,t,n,r,i){this.destination.next(t)}notifyError(e,t){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}class ut extends ot.L{constructor(e,t,n){super(),this.parent=e,this.outerValue=t,this.outerIndex=n,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var ct=n(6015),lt=n(8318);function ht(e,t,n,r,i=new ut(e,n,r)){if(!i.closed)return t instanceof lt.y?t.subscribe(i):(0,ct.s)(t)(i)}var dt=n(9342);const ft={};class pt{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new gt(e,this.resultSelector))}}class gt extends at{constructor(e,t){super(e),this.resultSelector=t,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push(ft),this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(let n=0;n<t;n++)this.add(ht(this,e[n],void 0,n))}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,t,n){const r=this.values,i=this.toRespond?r[n]===ft?--this.toRespond:this.toRespond:0;r[n]=t,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}const mt=(()=>{function e(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return e.prototype=Object.create(Error.prototype),e})();var yt=n(7471);function vt(...e){return(0,yt.J)(1)((0,et.of)(...e))}var _t=n(653);function wt(e){return new lt.y(t=>{let n;try{n=e()}catch(r){return void t.error(r)}return(n?(0,Xe.D)(n):(0,_t.c)()).subscribe(t)})}var bt=n(2875),It=n(9996),Et=n(6882);function Tt(e,t){return"function"==typeof t?n=>n.pipe(Tt((n,r)=>(0,Xe.D)(e(n,r)).pipe((0,It.U)((e,i)=>t(n,e,r,i))))):t=>t.lift(new St(e))}class St{constructor(e){this.project=e}call(e,t){return t.subscribe(new Ct(e,this.project))}}class Ct extends Et.Ds{constructor(e,t){super(e),this.project=t,this.index=0}_next(e){let t;const n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this._innerSub(t)}_innerSub(e){const t=this.innerSubscription;t&&t.unsubscribe();const n=new Et.IY(this),r=this.destination;r.add(n),this.innerSubscription=(0,Et.ft)(e,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:e}=this;e&&!e.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(e){this.destination.next(e)}}const At=(()=>{function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e})();function kt(e){return t=>0===e?(0,_t.c)():t.lift(new xt(e))}class xt{constructor(e){if(this.total=e,this.total<0)throw new At}call(e,t){return t.subscribe(new Nt(e,this.total))}}class Nt extends ot.L{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){const t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))}}function Ot(...e){const t=e[e.length-1];return(0,it.K)(t)?(e.pop(),n=>vt(e,n,t)):t=>vt(e,t)}function Rt(e,t){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new Dt(e,t,n))}}class Dt{constructor(e,t,n=!1){this.accumulator=e,this.seed=t,this.hasSeed=n}call(e,t){return t.subscribe(new Pt(e,this.accumulator,this.seed,this.hasSeed))}}class Pt extends ot.L{constructor(e,t,n,r){super(e),this.accumulator=t,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const t=this.index++;let n;try{n=this.accumulator(this.seed,e,t)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function Lt(e,t){return function(n){return n.lift(new Mt(e,t))}}class Mt{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new Ft(e,this.predicate,this.thisArg))}}class Ft extends ot.L{constructor(e,t,n){super(e),this.predicate=t,this.thisArg=n,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}t&&this.destination.next(e)}}function Ut(e){return function(t){const n=new Vt(e),r=t.lift(n);return n.caught=r}}class Vt{constructor(e){this.selector=e}call(e,t){return t.subscribe(new jt(e,this.selector,this.caught))}}class jt extends Et.Ds{constructor(e,t,n){super(e),this.selector=t,this.caught=n}error(e){if(!this.isStopped){let n;try{n=this.selector(e,this.caught)}catch(t){return void super.error(t)}this._unsubscribeAndRecycle();const r=new Et.IY(this);this.add(r);const i=(0,Et.ft)(n,r);i!==r&&this.add(i)}}}var qt=n(3982);function Bt(e,t){return(0,qt.zg)(e,t,1)}function zt(e){return function(t){return 0===e?(0,_t.c)():t.lift(new Zt(e))}}class Zt{constructor(e){if(this.total=e,this.total<0)throw new At}call(e,t){return t.subscribe(new Ht(e,this.total))}}class Ht extends ot.L{constructor(e,t){super(e),this.total=t,this.ring=new Array,this.count=0}_next(e){const t=this.ring,n=this.total,r=this.count++;t.length<n?t.push(e):t[r%n]=e}_complete(){const e=this.destination;let t=this.count;if(t>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=t++%n;e.next(r[i])}}e.complete()}}function $t(e=Kt){return t=>t.lift(new Gt(e))}class Gt{constructor(e){this.errorFactory=e}call(e,t){return t.subscribe(new Wt(e,this.errorFactory))}}class Wt extends ot.L{constructor(e,t){super(e),this.errorFactory=t,this.hasValue=!1}_next(e){this.hasValue=!0,this.destination.next(e)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)}}}function Kt(){return new mt}function Yt(e=null){return t=>t.lift(new Qt(e))}class Qt{constructor(e){this.defaultValue=e}call(e,t){return t.subscribe(new Jt(e,this.defaultValue))}}class Jt extends ot.L{constructor(e,t){super(e),this.defaultValue=t,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var Xt=n(3392);function en(e,t){const n=arguments.length>=2;return r=>r.pipe(e?Lt((t,n)=>e(t,n,r)):Xt.y,kt(1),n?Yt(t):$t(()=>new mt))}var tn=n(4019),nn=n(1564),rn=n(7570);class sn{constructor(e){this.callback=e}call(e,t){return t.subscribe(new on(e,this.callback))}}class on extends ot.L{constructor(e,t){super(e),this.add(new rn.w(t))}}class an{constructor(e,t){this.id=e,this.url=t}}class un extends an{constructor(e,t,n="imperative",r=null){super(e,t),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class cn extends an{constructor(e,t,n){super(e,t),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class ln extends an{constructor(e,t,n){super(e,t),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class hn extends an{constructor(e,t,n){super(e,t),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class dn extends an{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fn extends an{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class pn extends an{constructor(e,t,n,r,i){super(e,t),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class gn extends an{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class mn extends an{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class yn{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class vn{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class _n{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wn{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class bn{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class In{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class En{constructor(e,t,n){this.routerEvent=e,this.position=t,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Tn="primary";class Sn{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Cn(e){return new Sn(e)}function An(e){const t=Error("NavigationCancelingError: "+e);return t.ngNavigationCancelingError=!0,t}function kn(e,t,n){const r=n.path.split("/");if(r.length>e.length)return null;if("full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;const i={};for(let s=0;s<r.length;s++){const t=r[s],n=e[s];if(t.startsWith(":"))i[t.substring(1)]=n;else if(t!==n.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function xn(e,t){const n=e?Object.keys(e):void 0,r=t?Object.keys(t):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!Nn(e[i],t[i]))return!1;return!0}function Nn(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const n=[...e].sort(),r=[...t].sort();return n.every((e,t)=>r[t]===e)}return e===t}function On(e){return Array.prototype.concat.apply([],e)}function Rn(e){return e.length>0?e[e.length-1]:null}function Dn(e,t){for(const n in e)e.hasOwnProperty(n)&&t(e[n],n)}function Pn(e){return(0,r.CqO)(e)?e:(0,r.QGY)(e)?(0,Xe.D)(Promise.resolve(e)):(0,et.of)(e)}const Ln={exact:function e(t,n,r){if(!Zn(t.segments,n.segments))return!1;if(!jn(t.segments,n.segments,r))return!1;if(t.numberOfChildren!==n.numberOfChildren)return!1;for(const i in n.children){if(!t.children[i])return!1;if(!e(t.children[i],n.children[i],r))return!1}return!0},subset:Un},Mn={exact:function(e,t){return xn(e,t)},subset:function(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>Nn(e[n],t[n]))},ignored:()=>!0};function Fn(e,t,n){return Ln[n.paths](e.root,t.root,n.matrixParams)&&Mn[n.queryParams](e.queryParams,t.queryParams)&&!("exact"===n.fragment&&e.fragment!==t.fragment)}function Un(e,t,n){return Vn(e,t,t.segments,n)}function Vn(e,t,n,r){if(e.segments.length>n.length){const i=e.segments.slice(0,n.length);return!!Zn(i,n)&&!t.hasChildren()&&!!jn(i,n,r)}if(e.segments.length===n.length){if(!Zn(e.segments,n))return!1;if(!jn(e.segments,n,r))return!1;for(const n in t.children){if(!e.children[n])return!1;if(!Un(e.children[n],t.children[n],r))return!1}return!0}{const i=n.slice(0,e.segments.length),s=n.slice(e.segments.length);return!!Zn(e.segments,i)&&!!jn(e.segments,i,r)&&!!e.children.primary&&Vn(e.children.primary,t,s,r)}}function jn(e,t,n){return t.every((t,r)=>Mn[n](e[r].parameters,t.parameters))}class qn{constructor(e,t,n){this.root=e,this.queryParams=t,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Cn(this.queryParams)),this._queryParamMap}toString(){return Gn.serialize(this)}}class Bn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Dn(t,(e,t)=>e.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Wn(this)}}class zn{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Cn(this.parameters)),this._parameterMap}toString(){return tr(this)}}function Zn(e,t){return e.length===t.length&&e.every((e,n)=>e.path===t[n].path)}class Hn{}class $n{parse(e){const t=new or(e);return new qn(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){var t;return`/${Kn(e.root,!0)}${function(e){const t=Object.keys(e).map(t=>{const n=e[t];return Array.isArray(n)?n.map(e=>`${Qn(t)}=${Qn(e)}`).join("&"):`${Qn(t)}=${Qn(n)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(e.queryParams)}${"string"==typeof e.fragment?`#${t=e.fragment,encodeURI(t)}`:""}`}}const Gn=new $n;function Wn(e){return e.segments.map(e=>tr(e)).join("/")}function Kn(e,t){if(!e.hasChildren())return Wn(e);if(t){const t=e.children.primary?Kn(e.children.primary,!1):"",n=[];return Dn(e.children,(e,t)=>{t!==Tn&&n.push(`${t}:${Kn(e,!1)}`)}),n.length>0?`${t}(${n.join("//")})`:t}{const t=function(e,t){let n=[];return Dn(e.children,(e,r)=>{r===Tn&&(n=n.concat(t(e,r)))}),Dn(e.children,(e,r)=>{r!==Tn&&(n=n.concat(t(e,r)))}),n}(e,(t,n)=>n===Tn?[Kn(e.children.primary,!1)]:[`${n}:${Kn(t,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children.primary?`${Wn(e)}/${t[0]}`:`${Wn(e)}/(${t.join("//")})`}}function Yn(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Qn(e){return Yn(e).replace(/%3B/gi,";")}function Jn(e){return Yn(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Xn(e){return decodeURIComponent(e)}function er(e){return Xn(e.replace(/\+/g,"%20"))}function tr(e){return`${Jn(e.path)}${t=e.parameters,Object.keys(t).map(e=>`;${Jn(e)}=${Jn(t[e])}`).join("")}`;var t}const nr=/^[^\/()?;=#]+/;function rr(e){const t=e.match(nr);return t?t[0]:""}const ir=/^[^=?&#]+/,sr=/^[^?&#]+/;class or{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Bn([],{}):new Bn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(n.primary=new Bn(e,t)),n}parseSegment(){const e=rr(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new zn(Xn(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=rr(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const e=rr(this.remaining);e&&(n=e,this.capture(n))}e[Xn(t)]=Xn(n)}parseQueryParam(e){const t=function(e){const t=e.match(ir);return t?t[0]:""}(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const e=function(e){const t=e.match(sr);return t?t[0]:""}(this.remaining);e&&(n=e,this.capture(n))}const r=er(t),i=er(n);if(e.hasOwnProperty(r)){let t=e[r];Array.isArray(t)||(t=[t],e[r]=t),t.push(i)}else e[r]=i}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=rr(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):e&&(i=Tn);const s=this.parseChildren();t[i]=1===Object.keys(s).length?s.primary:new Bn([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class ar{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=ur(e,this._root);return t?t.children.map(e=>e.value):[]}firstChild(e){const t=ur(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=cr(e,this._root);return t.length<2?[]:t[t.length-2].children.map(e=>e.value).filter(t=>t!==e)}pathFromRoot(e){return cr(e,this._root).map(e=>e.value)}}function ur(e,t){if(e===t.value)return t;for(const n of t.children){const t=ur(e,n);if(t)return t}return null}function cr(e,t){if(e===t.value)return[t];for(const n of t.children){const r=cr(e,n);if(r.length)return r.unshift(t),r}return[]}class lr{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function hr(e){const t={};return e&&e.children.forEach(e=>t[e.value.outlet]=e),t}class dr extends ar{constructor(e,t){super(e),this.snapshot=t,vr(this,e)}toString(){return this.snapshot.toString()}}function fr(e,t){const n=function(e,t){const n=new mr([],{},{},"",{},Tn,t,null,e.root,-1,{});return new yr("",new lr(n,[]))}(e,t),r=new rt([new zn("",{})]),i=new rt({}),s=new rt({}),o=new rt({}),a=new rt(""),u=new pr(r,i,o,a,s,Tn,t,n.root);return u.snapshot=n.root,new dr(new lr(u,[]),n)}class pr{constructor(e,t,n,r,i,s,o,a){this.url=e,this.params=t,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,It.U)(e=>Cn(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,It.U)(e=>Cn(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function gr(e,t="emptyOnly"){const n=e.pathFromRoot;let r=0;if("always"!==t)for(r=n.length-1;r>=1;){const e=n[r],t=n[r-1];if(e.routeConfig&&""===e.routeConfig.path)r--;else{if(t.component)break;r--}}return function(e){return e.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class mr{constructor(e,t,n,r,i,s,o,a,u,c,l){this.url=e,this.params=t,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Cn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Cn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(e=>e.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class yr extends ar{constructor(e,t){super(t),this.url=e,vr(this,t)}toString(){return _r(this._root)}}function vr(e,t){t.value._routerState=e,t.children.forEach(t=>vr(e,t))}function _r(e){const t=e.children.length>0?` { ${e.children.map(_r).join(", ")} } `:"";return`${e.value}${t}`}function wr(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,xn(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),xn(t.params,n.params)||e.params.next(n.params),function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!xn(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.url.next(n.url),xn(t.data,n.data)||e.data.next(n.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function br(e,t){return xn(e.params,t.params)&&function(e,t){return Zn(e,t)&&e.every((e,n)=>xn(e.parameters,t[n].parameters))}(e.url,t.url)&&!(!e.parent!=!t.parent)&&(!e.parent||br(e.parent,t.parent))}function Ir(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=t.value;const i=function(e,t,n){return t.children.map(t=>{for(const r of n.children)if(e.shouldReuseRoute(t.value,r.value.snapshot))return Ir(e,t,r);return Ir(e,t)})}(e,t,n);return new lr(r,i)}{if(e.shouldAttach(t.value)){const n=e.retrieve(t.value);if(null!==n){const e=n.route;return Er(t,e),e}}const n=new pr(new rt((r=t.value).url),new rt(r.params),new rt(r.queryParams),new rt(r.fragment),new rt(r.data),r.outlet,r.component,r),i=t.children.map(t=>Ir(e,t));return new lr(n,i)}var r}function Er(e,t){if(e.value.routeConfig!==t.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==t.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");t.value._futureSnapshot=e.value;for(let n=0;n<e.children.length;++n)Er(e.children[n],t.children[n])}function Tr(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function Sr(e){return"object"==typeof e&&null!=e&&e.outlets}function Cr(e,t,n,r,i){let s={};return r&&Dn(r,(e,t)=>{s[t]=Array.isArray(e)?e.map(e=>`${e}`):`${e}`}),new qn(n.root===e?t:Ar(n.root,e,t),s,i)}function Ar(e,t,n){const r={};return Dn(e.children,(e,i)=>{r[i]=e===t?n:Ar(e,t,n)}),new Bn(e.segments,r)}class kr{constructor(e,t,n){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=n,e&&n.length>0&&Tr(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(Sr);if(r&&r!==Rn(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class xr{constructor(e,t,n){this.segmentGroup=e,this.processChildren=t,this.index=n}}function Nr(e,t,n){if(e||(e=new Bn([],{})),0===e.segments.length&&e.hasChildren())return Or(e,t,n);const r=function(e,t,n){let r=0,i=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=n.length)return s;const t=e.segments[i],o=n[r];if(Sr(o))break;const a=`${o}`,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&u&&"object"==typeof u&&void 0===u.outlets){if(!Lr(a,u,t))return s;r+=2}else{if(!Lr(a,{},t))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const t=new Bn(e.segments.slice(0,r.pathIndex),{});return t.children.primary=new Bn(e.segments.slice(r.pathIndex),e.children),Or(t,0,i)}return r.match&&0===i.length?new Bn(e.segments,{}):r.match&&!e.hasChildren()?Rr(e,t,n):r.match?Or(e,0,i):Rr(e,t,n)}function Or(e,t,n){if(0===n.length)return new Bn(e.segments,{});{const r=function(e){return Sr(e[0])?e[0].outlets:{[Tn]:e}}(n),i={};return Dn(r,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(i[r]=Nr(e.children[r],t,n))}),Dn(e.children,(e,t)=>{void 0===r[t]&&(i[t]=e)}),new Bn(e.segments,i)}}function Rr(e,t,n){const r=e.segments.slice(0,t);let i=0;for(;i<n.length;){const s=n[i];if(Sr(s)){const e=Dr(s.outlets);return new Bn(r,e)}if(0===i&&Tr(n[0])){r.push(new zn(e.segments[t].path,Pr(n[0]))),i++;continue}const o=Sr(s)?s.outlets.primary:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Tr(a)?(r.push(new zn(o,Pr(a))),i+=2):(r.push(new zn(o,{})),i++)}return new Bn(r,{})}function Dr(e){const t={};return Dn(e,(e,n)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[n]=Rr(new Bn([],{}),0,e))}),t}function Pr(e){const t={};return Dn(e,(e,n)=>t[n]=`${e}`),t}function Lr(e,t,n){return e==n.path&&xn(t,n.parameters)}class Mr{constructor(e,t,n,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=n,this.forwardEvent=r}activate(e){const t=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,n,e),wr(this.futureState.root),this.activateChildRoutes(t,n,e)}deactivateChildRoutes(e,t,n){const r=hr(t);e.children.forEach(e=>{const t=e.value.outlet;this.deactivateRoutes(e,r[t],n),delete r[t]}),Dn(r,(e,t)=>{this.deactivateRouteAndItsChildren(e,n)})}deactivateRoutes(e,t,n){const r=e.value,i=t?t.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(e,t,i.children)}else this.deactivateChildRoutes(e,t,n);else i&&this.deactivateRouteAndItsChildren(t,n)}deactivateRouteAndItsChildren(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const n=t.getContext(e.value.outlet);if(n&&n.outlet){const t=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:t,route:e,contexts:r})}}deactivateRouteAndOutlet(e,t){const n=t.getContext(e.value.outlet),r=n&&e.value.component?n.children:t,i=hr(e);for(const s of Object.keys(i))this.deactivateRouteAndItsChildren(i[s],r);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated(),n.attachRef=null,n.resolver=null,n.route=null)}activateChildRoutes(e,t,n){const r=hr(t);e.children.forEach(e=>{this.activateRoutes(e,r[e.value.outlet],n),this.forwardEvent(new In(e.value.snapshot))}),e.children.length&&this.forwardEvent(new wn(e.value.snapshot))}activateRoutes(e,t,n){const r=e.value,i=t?t.value:null;if(wr(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,i.children)}else this.activateChildRoutes(e,t,n);else if(r.component){const t=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const e=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),t.children.onOutletReAttached(e.contexts),t.attachRef=e.componentRef,t.route=e.route.value,t.outlet&&t.outlet.attach(e.componentRef,e.route.value),Fr(e.route)}else{const n=function(e){for(let t=e.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;t.attachRef=null,t.route=r,t.resolver=i,t.outlet&&t.outlet.activateWith(r,i),this.activateChildRoutes(e,null,t.children)}}else this.activateChildRoutes(e,null,n)}}function Fr(e){wr(e.value),e.children.forEach(Fr)}class Ur{constructor(e,t){this.routes=e,this.module=t}}function Vr(e){return"function"==typeof e}function jr(e){return e instanceof qn}const qr=Symbol("INITIAL_VALUE");function Br(){return Tt(e=>function(...e){let t,n;return(0,it.K)(e[e.length-1])&&(n=e.pop()),"function"==typeof e[e.length-1]&&(t=e.pop()),1===e.length&&(0,st.k)(e[0])&&(e=e[0]),(0,dt.n)(e,n).lift(new pt(t))}(e.map(e=>e.pipe(kt(1),Ot(qr)))).pipe(Rt((e,t)=>{let n=!1;return t.reduce((e,r,i)=>{if(e!==qr)return e;if(r===qr&&(n=!0),!n){if(!1===r)return r;if(i===t.length-1||jr(r))return r}return e},e)},qr),Lt(e=>e!==qr),(0,It.U)(e=>jr(e)?e:!0===e),kt(1)))}let zr=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Xpm({type:e,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,t){1&e&&r._UZ(0,"router-outlet")},directives:function(){return[Fi]},encapsulation:2}),e})();function Zr(e,t=""){for(let n=0;n<e.length;n++){const r=e[n];Hr(r,$r(t,r))}}function Hr(e,t){e.children&&Zr(e.children,t)}function $r(e,t){return t?e||t.path?e&&!t.path?`${e}/`:!e&&t.path?t.path:`${e}/${t.path}`:"":e}function Gr(e){const t=e.children&&e.children.map(Gr),n=t?Object.assign(Object.assign({},e),{children:t}):Object.assign({},e);return!n.component&&(t||n.loadChildren)&&n.outlet&&n.outlet!==Tn&&(n.component=zr),n}function Wr(e){return e.outlet||Tn}function Kr(e,t){const n=e.filter(e=>Wr(e)===t);return n.push(...e.filter(e=>Wr(e)!==t)),n}const Yr={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Qr(e,t,n){var r;if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?Object.assign({},Yr):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const i=(t.matcher||kn)(n,e,t);if(!i)return Object.assign({},Yr);const s={};Dn(i.posParams,(e,t)=>{s[t]=e.path});const o=i.consumed.length>0?Object.assign(Object.assign({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:o,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function Jr(e,t,n,r,i="corrected"){if(n.length>0&&function(e,t,n){return n.some(n=>Xr(e,t,n)&&Wr(n)!==Tn)}(e,n,r)){const i=new Bn(t,function(e,t,n,r){const i={};i.primary=r,r._sourceSegment=e,r._segmentIndexShift=t.length;for(const s of n)if(""===s.path&&Wr(s)!==Tn){const n=new Bn([],{});n._sourceSegment=e,n._segmentIndexShift=t.length,i[Wr(s)]=n}return i}(e,t,r,new Bn(n,e.children)));return i._sourceSegment=e,i._segmentIndexShift=t.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(e,t,n){return n.some(n=>Xr(e,t,n))}(e,n,r)){const s=new Bn(e.segments,function(e,t,n,r,i,s){const o={};for(const a of r)if(Xr(e,n,a)&&!i[Wr(a)]){const n=new Bn([],{});n._sourceSegment=e,n._segmentIndexShift="legacy"===s?e.segments.length:t.length,o[Wr(a)]=n}return Object.assign(Object.assign({},i),o)}(e,t,n,r,e.children,i));return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:n}}const s=new Bn(e.segments,e.children);return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:n}}function Xr(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path}function ei(e,t,n,r){return!!(Wr(e)===r||r!==Tn&&Xr(t,n,e))&&("**"===e.path||Qr(t,e,n).matched)}function ti(e,t,n){return 0===t.length&&!e.children[n]}class ni{constructor(e){this.segmentGroup=e||null}}class ri{constructor(e){this.urlTree=e}}function ii(e){return new lt.y(t=>t.error(new ni(e)))}function si(e){return new lt.y(t=>t.error(new ri(e)))}function oi(e){return new lt.y(t=>t.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e}'`)))}class ai{constructor(e,t,n,i,s){this.configLoader=t,this.urlSerializer=n,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=e.get(r.h0i)}apply(){const e=Jr(this.urlTree.root,[],[],this.config).segmentGroup,t=new Bn(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,Tn).pipe((0,It.U)(e=>this.createUrlTree(ui(e),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ut(e=>{if(e instanceof ri)return this.allowRedirects=!1,this.match(e.urlTree);if(e instanceof ni)throw this.noMatchError(e);throw e}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,Tn).pipe((0,It.U)(t=>this.createUrlTree(ui(t),e.queryParams,e.fragment))).pipe(Ut(e=>{if(e instanceof ni)throw this.noMatchError(e);throw e}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,n){const r=e.segments.length>0?new Bn([],{[Tn]:e}):e;return new qn(r,t,n)}expandSegmentGroup(e,t,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(e,t,n).pipe((0,It.U)(e=>new Bn([],e))):this.expandSegment(e,n,t,n.segments,r,!0)}expandChildren(e,t,n){const r=[];for(const i of Object.keys(n.children))"primary"===i?r.unshift(i):r.push(i);return(0,Xe.D)(r).pipe(Bt(r=>{const i=n.children[r],s=Kr(t,r);return this.expandSegmentGroup(e,s,i,r).pipe((0,It.U)(e=>({segment:e,outlet:r})))}),Rt((e,t)=>(e[t.outlet]=t.segment,e),{}),function(e,t){const n=arguments.length>=2;return r=>r.pipe(e?Lt((t,n)=>e(t,n,r)):Xt.y,zt(1),n?Yt(t):$t(()=>new mt))}())}expandSegment(e,t,n,r,i,s){return(0,Xe.D)(n).pipe(Bt(o=>this.expandSegmentAgainstRoute(e,t,n,o,r,i,s).pipe(Ut(e=>{if(e instanceof ni)return(0,et.of)(null);throw e}))),en(e=>!!e),Ut((e,n)=>{if(e instanceof mt||"EmptyError"===e.name){if(ti(t,r,i))return(0,et.of)(new Bn([],{}));throw new ni(t)}throw e}))}expandSegmentAgainstRoute(e,t,n,r,i,s,o){return ei(r,t,i,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,i,s):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,n,r,i,s):ii(t):ii(t)}expandSegmentAgainstRouteUsingRedirect(e,t,n,r,i,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,r,i,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?si(i):this.lineralizeSegments(n,i).pipe((0,qt.zg)(n=>{const i=new Bn(n,{});return this.expandSegment(e,i,t,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,r,i,s){const{matched:o,consumedSegments:a,lastChild:u,positionalParamSegments:c}=Qr(t,r,i);if(!o)return ii(t);const l=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?si(l):this.lineralizeSegments(r,l).pipe((0,qt.zg)(r=>this.expandSegment(e,t,n,r.concat(i.slice(u)),s,!1)))}matchSegmentAgainstRoute(e,t,n,r,i){if("**"===n.path)return n.loadChildren?(n._loadedConfig?(0,et.of)(n._loadedConfig):this.configLoader.load(e.injector,n)).pipe((0,It.U)(e=>(n._loadedConfig=e,new Bn(r,{})))):(0,et.of)(new Bn(r,{}));const{matched:s,consumedSegments:o,lastChild:a}=Qr(t,n,r);if(!s)return ii(t);const u=r.slice(a);return this.getChildConfig(e,n,r).pipe((0,qt.zg)(e=>{const r=e.module,s=e.routes,{segmentGroup:a,slicedSegments:c}=Jr(t,o,u,s),l=new Bn(a.segments,a.children);if(0===c.length&&l.hasChildren())return this.expandChildren(r,s,l).pipe((0,It.U)(e=>new Bn(o,e)));if(0===s.length&&0===c.length)return(0,et.of)(new Bn(o,{}));const h=Wr(n)===i;return this.expandSegment(r,l,s,c,h?Tn:i,!0).pipe((0,It.U)(e=>new Bn(o.concat(e.segments),e.children)))}))}getChildConfig(e,t,n){return t.children?(0,et.of)(new Ur(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?(0,et.of)(t._loadedConfig):this.runCanLoadGuards(e.injector,t,n).pipe((0,qt.zg)(n=>n?this.configLoader.load(e.injector,t).pipe((0,It.U)(e=>(t._loadedConfig=e,e))):function(e){return new lt.y(t=>t.error(An(`Cannot load children because the guard of the route "path: '${e.path}'" returned false`)))}(t))):(0,et.of)(new Ur([],e))}runCanLoadGuards(e,t,n){const r=t.canLoad;if(!r||0===r.length)return(0,et.of)(!0);const i=r.map(r=>{const i=e.get(r);let s;if(function(e){return e&&Vr(e.canLoad)}(i))s=i.canLoad(t,n);else{if(!Vr(i))throw new Error("Invalid CanLoad guard");s=i(t,n)}return Pn(s)});return(0,et.of)(i).pipe(Br(),(0,tn.b)(e=>{if(!jr(e))return;const t=An(`Redirecting to "${this.urlSerializer.serialize(e)}"`);throw t.url=e,t}),(0,It.U)(e=>!0===e))}lineralizeSegments(e,t){let n=[],r=t.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return(0,et.of)(n);if(r.numberOfChildren>1||!r.children.primary)return oi(e.redirectTo);r=r.children.primary}}applyRedirectCommands(e,t,n){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,n)}applyRedirectCreatreUrlTree(e,t,n,r){const i=this.createSegmentGroup(e,t.root,n,r);return new qn(i,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const n={};return Dn(e,(e,r)=>{if("string"==typeof e&&e.startsWith(":")){const i=e.substring(1);n[r]=t[i]}else n[r]=e}),n}createSegmentGroup(e,t,n,r){const i=this.createSegments(e,t.segments,n,r);let s={};return Dn(t.children,(t,i)=>{s[i]=this.createSegmentGroup(e,t,n,r)}),new Bn(i,s)}createSegments(e,t,n,r){return t.map(t=>t.path.startsWith(":")?this.findPosParam(e,t,r):this.findOrReturn(t,n))}findPosParam(e,t,n){const r=n[t.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return r}findOrReturn(e,t){let n=0;for(const r of t){if(r.path===e.path)return t.splice(n),r;n++}return e}}function ui(e){const t={};for(const n of Object.keys(e.children)){const r=ui(e.children[n]);(r.segments.length>0||r.hasChildren())&&(t[n]=r)}return function(e){if(1===e.numberOfChildren&&e.children.primary){const t=e.children.primary;return new Bn(e.segments.concat(t.segments),t.children)}return e}(new Bn(e.segments,t))}class ci{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class li{constructor(e,t){this.component=e,this.route=t}}function hi(e,t,n){const r=e._root;return fi(r,t?t._root:null,n,[r.value])}function di(e,t,n){const r=function(e){if(!e)return null;for(let t=e.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(r?r.module.injector:n).get(e)}function fi(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=hr(t);return e.children.forEach(e=>{!function(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=e.value,o=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!Zn(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Zn(e.url,t.url)||!xn(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!br(e,t)||!xn(e.queryParams,t.queryParams);case"paramsChange":default:return!br(e,t)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new ci(r)):(s.data=o.data,s._resolvedData=o._resolvedData),fi(e,t,s.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new li(a.outlet.component,o))}else o&&pi(t,a,i),i.canActivateChecks.push(new ci(r)),fi(e,null,s.component?a?a.children:null:n,r,i)}(e,s[e.value.outlet],n,r.concat([e.value]),i),delete s[e.value.outlet]}),Dn(s,(e,t)=>pi(e,n.getContext(t),i)),i}function pi(e,t,n){const r=hr(e),i=e.value;Dn(r,(e,r)=>{pi(e,i.component?t?t.children.getContext(r):null:t,n)}),n.canDeactivateChecks.push(new li(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}class gi{}function mi(e){return new lt.y(t=>t.error(e))}class yi{constructor(e,t,n,r,i,s){this.rootComponentType=e,this.config=t,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=s}recognize(){const e=Jr(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,Tn);if(null===t)return null;const n=new mr([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Tn,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new lr(n,t),i=new yr(this.url,r);return this.inheritParamsAndData(i._root),i}inheritParamsAndData(e){const t=e.value,n=gr(t,this.paramsInheritanceStrategy);t.params=Object.freeze(n.params),t.data=Object.freeze(n.data),e.children.forEach(e=>this.inheritParamsAndData(e))}processSegmentGroup(e,t,n){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,n)}processChildren(e,t){const n=[];for(const i of Object.keys(t.children)){const r=t.children[i],s=Kr(e,i),o=this.processSegmentGroup(s,r,i);if(null===o)return null;n.push(...o)}const r=_i(n);return r.sort((e,t)=>e.value.outlet===Tn?-1:t.value.outlet===Tn?1:e.value.outlet.localeCompare(t.value.outlet)),r}processSegment(e,t,n,r){for(const i of e){const e=this.processSegmentAgainstRoute(i,t,n,r);if(null!==e)return e}return ti(t,n,r)?[]:null}processSegmentAgainstRoute(e,t,n,r){if(e.redirectTo||!ei(e,t,n,r))return null;let i,s=[],o=[];if("**"===e.path){const r=n.length>0?Rn(n).parameters:{};i=new mr(n,r,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Ii(e),Wr(e),e.component,e,wi(t),bi(t)+n.length,Ei(e))}else{const r=Qr(t,e,n);if(!r.matched)return null;s=r.consumedSegments,o=n.slice(r.lastChild),i=new mr(s,r.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Ii(e),Wr(e),e.component,e,wi(t),bi(t)+s.length,Ei(e))}const a=function(e){return e.children?e.children:e.loadChildren?e._loadedConfig.routes:[]}(e),{segmentGroup:u,slicedSegments:c}=Jr(t,s,o,a.filter(e=>void 0===e.redirectTo),this.relativeLinkResolution);if(0===c.length&&u.hasChildren()){const e=this.processChildren(a,u);return null===e?null:[new lr(i,e)]}if(0===a.length&&0===c.length)return[new lr(i,[])];const l=Wr(e)===r,h=this.processSegment(a,u,c,l?Tn:r);return null===h?null:[new lr(i,h)]}}function vi(e){const t=e.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function _i(e){const t=[],n=new Set;for(const r of e){if(!vi(r)){t.push(r);continue}const e=t.find(e=>r.value.routeConfig===e.value.routeConfig);void 0!==e?(e.children.push(...r.children),n.add(e)):t.push(r)}for(const r of n){const e=_i(r.children);t.push(new lr(r.value,e))}return t.filter(e=>!n.has(e))}function wi(e){let t=e;for(;t._sourceSegment;)t=t._sourceSegment;return t}function bi(e){let t=e,n=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,n+=t._segmentIndexShift?t._segmentIndexShift:0;return n-1}function Ii(e){return e.data||{}}function Ei(e){return e.resolve||{}}function Ti(e){return Tt(t=>{const n=e(t);return n?(0,Xe.D)(n).pipe((0,It.U)(()=>t)):(0,et.of)(t)})}class Si extends class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Ci=new r.OlP("ROUTES");class Ai{constructor(e,t,n,r){this.loader=e,this.compiler=t,this.onLoadStartListener=n,this.onLoadEndListener=r}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const n=this.loadModuleFactory(t.loadChildren).pipe((0,It.U)(n=>{this.onLoadEndListener&&this.onLoadEndListener(t);const i=n.create(e);return new Ur(On(i.injector.get(Ci,void 0,r.XFs.Self|r.XFs.Optional)).map(Gr),i)}),Ut(e=>{throw t._loader$=void 0,e}));return t._loader$=new bt.c(n,()=>new tt.xQ).pipe((0,nn.x)()),t._loader$}loadModuleFactory(e){return"string"==typeof e?(0,Xe.D)(this.loader.load(e)):Pn(e()).pipe((0,qt.zg)(e=>e instanceof r.YKP?(0,et.of)(e):(0,Xe.D)(this.compiler.compileModuleAsync(e))))}}class ki{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new xi,this.attachRef=null}}class xi{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const n=this.getOrCreateContext(e);n.outlet=t,this.contexts.set(e,n)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new ki,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}class Ni{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function Oi(e){throw e}function Ri(e,t,n){return t.parse("/")}function Di(e,t){return(0,et.of)(null)}const Pi={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Li={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Mi=(()=>{class e{constructor(e,t,n,i,s,o,a,u){this.rootComponentType=e,this.urlSerializer=t,this.rootContexts=n,this.location=i,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new tt.xQ,this.errorHandler=Oi,this.malformedUriErrorHandler=Ri,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Di,afterPreactivation:Di},this.urlHandlingStrategy=new Ni,this.routeReuseStrategy=new Si,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=s.get(r.h0i),this.console=s.get(r.c2e);const c=s.get(r.R0b);this.isNgZoneEnabled=c instanceof r.R0b&&r.R0b.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=new qn(new Bn([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Ai(o,a,e=>this.triggerEvent(new yn(e)),e=>this.triggerEvent(new vn(e))),this.routerState=fr(this.currentUrlTree,this.rootComponentType),this.transitions=new rt({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(e){const t=this.events;return e.pipe(Lt(e=>0!==e.id),(0,It.U)(e=>Object.assign(Object.assign({},e),{extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl)})),Tt(e=>{let n=!1,r=!1;return(0,et.of)(e).pipe((0,tn.b)(e=>{this.currentNavigation={id:e.id,initialUrl:e.currentRawUrl,extractedUrl:e.extractedUrl,trigger:e.source,extras:e.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Tt(e=>{const n=!this.navigated||e.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(e.rawUrl))return(0,et.of)(e).pipe(Tt(e=>{const n=this.transitions.getValue();return t.next(new un(e.id,this.serializeUrl(e.extractedUrl),e.source,e.restoredState)),n!==this.transitions.getValue()?_t.E:Promise.resolve(e)}),(r=this.ngModule.injector,i=this.configLoader,s=this.urlSerializer,o=this.config,Tt(e=>function(e,t,n,r,i){return new ai(e,t,n,r,i).apply()}(r,i,s,e.extractedUrl,o).pipe((0,It.U)(t=>Object.assign(Object.assign({},e),{urlAfterRedirects:t}))))),(0,tn.b)(e=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:e.urlAfterRedirects})}),function(e,t,n,r,i){return(0,qt.zg)(s=>function(e,t,n,r,i="emptyOnly",s="legacy"){try{const o=new yi(e,t,n,r,i,s).recognize();return null===o?mi(new gi):(0,et.of)(o)}catch(o){return mi(o)}}(e,t,s.urlAfterRedirects,n(s.urlAfterRedirects),r,i).pipe((0,It.U)(e=>Object.assign(Object.assign({},s),{targetSnapshot:e}))))}(this.rootComponentType,this.config,e=>this.serializeUrl(e),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,tn.b)(e=>{"eager"===this.urlUpdateStrategy&&(e.extras.skipLocationChange||this.setBrowserUrl(e.urlAfterRedirects,e),this.browserUrlTree=e.urlAfterRedirects);const n=new dn(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.next(n)}));var r,i,s,o;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:s,extras:o}=e,a=new un(n,this.serializeUrl(r),i,s);t.next(a);const u=fr(r,this.rootComponentType).snapshot;return(0,et.of)(Object.assign(Object.assign({},e),{targetSnapshot:u,urlAfterRedirects:r,extras:Object.assign(Object.assign({},o),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=e.rawUrl,this.browserUrlTree=e.urlAfterRedirects,e.resolve(null),_t.E}),Ti(e=>{const{targetSnapshot:t,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=e;return this.hooks.beforePreactivation(t,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),(0,tn.b)(e=>{const t=new fn(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}),(0,It.U)(e=>Object.assign(Object.assign({},e),{guards:hi(e.targetSnapshot,e.currentSnapshot,this.rootContexts)})),function(e,t){return(0,qt.zg)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?(0,et.of)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(e,t,n,r){return(0,Xe.D)(e).pipe((0,qt.zg)(e=>function(e,t,n,r,i){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!s||0===s.length)return(0,et.of)(!0);const o=s.map(s=>{const o=di(s,t,i);let a;if(function(e){return e&&Vr(e.canDeactivate)}(o))a=Pn(o.canDeactivate(e,t,n,r));else{if(!Vr(o))throw new Error("Invalid CanDeactivate guard");a=Pn(o(e,t,n,r))}return a.pipe(en())});return(0,et.of)(o).pipe(Br())}(e.component,e.route,n,t,r)),en(e=>!0!==e,!0))}(o,r,i,e).pipe((0,qt.zg)(n=>n&&function(e){return"boolean"==typeof e}(n)?function(e,t,n,r){return(0,Xe.D)(t).pipe(Bt(t=>vt(function(e,t){return null!==e&&t&&t(new _n(e)),(0,et.of)(!0)}(t.route.parent,r),function(e,t){return null!==e&&t&&t(new bn(e)),(0,et.of)(!0)}(t.route,r),function(e,t,n){const r=t[t.length-1],i=t.slice(0,t.length-1).reverse().map(e=>function(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(e)).filter(e=>null!==e).map(t=>wt(()=>{const i=t.guards.map(i=>{const s=di(i,t.node,n);let o;if(function(e){return e&&Vr(e.canActivateChild)}(s))o=Pn(s.canActivateChild(r,e));else{if(!Vr(s))throw new Error("Invalid CanActivateChild guard");o=Pn(s(r,e))}return o.pipe(en())});return(0,et.of)(i).pipe(Br())}));return(0,et.of)(i).pipe(Br())}(e,t.path,n),function(e,t,n){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return(0,et.of)(!0);const i=r.map(r=>wt(()=>{const i=di(r,t,n);let s;if(function(e){return e&&Vr(e.canActivate)}(i))s=Pn(i.canActivate(t,e));else{if(!Vr(i))throw new Error("Invalid CanActivate guard");s=Pn(i(t,e))}return s.pipe(en())}));return(0,et.of)(i).pipe(Br())}(e,t.route,n))),en(e=>!0!==e,!0))}(r,s,e,t):(0,et.of)(n)),(0,It.U)(e=>Object.assign(Object.assign({},n),{guardsResult:e})))})}(this.ngModule.injector,e=>this.triggerEvent(e)),(0,tn.b)(e=>{if(jr(e.guardsResult)){const t=An(`Redirecting to "${this.serializeUrl(e.guardsResult)}"`);throw t.url=e.guardsResult,t}const t=new pn(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot,!!e.guardsResult);this.triggerEvent(t)}),Lt(e=>!!e.guardsResult||(this.cancelNavigationTransition(e,""),!1)),Ti(e=>{if(e.guards.canActivateChecks.length)return(0,et.of)(e).pipe((0,tn.b)(e=>{const t=new gn(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}),Tt(e=>{let t=!1;return(0,et.of)(e).pipe((n=this.paramsInheritanceStrategy,r=this.ngModule.injector,(0,qt.zg)(e=>{const{targetSnapshot:t,guards:{canActivateChecks:i}}=e;if(!i.length)return(0,et.of)(e);let s=0;return(0,Xe.D)(i).pipe(Bt(e=>function(e,t,n,r){return function(e,t,n,r){const i=Object.keys(e);if(0===i.length)return(0,et.of)({});const s={};return(0,Xe.D)(i).pipe((0,qt.zg)(i=>function(e,t,n,r){const i=di(e,t,r);return Pn(i.resolve?i.resolve(t,n):i(t,n))}(e[i],t,n,r).pipe((0,tn.b)(e=>{s[i]=e}))),zt(1),(0,qt.zg)(()=>Object.keys(s).length===i.length?(0,et.of)(s):_t.E))}(e._resolve,e,t,r).pipe((0,It.U)(t=>(e._resolvedData=t,e.data=Object.assign(Object.assign({},e.data),gr(e,n).resolve),null)))}(e.route,t,n,r)),(0,tn.b)(()=>s++),zt(1),(0,qt.zg)(t=>s===i.length?(0,et.of)(e):_t.E))})),(0,tn.b)({next:()=>t=!0,complete:()=>{t||this.cancelNavigationTransition(e,"At least one route resolver didn't emit any value.")}}));var n,r}),(0,tn.b)(e=>{const t=new mn(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}))}),Ti(e=>{const{targetSnapshot:t,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=e;return this.hooks.afterPreactivation(t,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),(0,It.U)(e=>{const t=function(e,t,n){const r=Ir(e,t._root,n?n._root:void 0);return new dr(r,t)}(this.routeReuseStrategy,e.targetSnapshot,e.currentRouterState);return Object.assign(Object.assign({},e),{targetRouterState:t})}),(0,tn.b)(e=>{this.currentUrlTree=e.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl),this.routerState=e.targetRouterState,"deferred"===this.urlUpdateStrategy&&(e.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,e),this.browserUrlTree=e.urlAfterRedirects)}),(s=this.rootContexts,o=this.routeReuseStrategy,a=e=>this.triggerEvent(e),(0,It.U)(e=>(new Mr(o,e.targetRouterState,e.currentRouterState,a).activate(s),e))),(0,tn.b)({next(){n=!0},complete(){n=!0}}),(i=()=>{n||r||this.cancelNavigationTransition(e,`Navigation ID ${e.id} is not equal to the current navigation id ${this.navigationId}`),this.currentNavigation=null},e=>e.lift(new sn(i))),Ut(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=jr(n.url);r||(this.navigated=!0,this.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl));const i=new ln(e.id,this.serializeUrl(e.extractedUrl),n.message);t.next(i),r?setTimeout(()=>{const t=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);this.scheduleNavigation(t,"imperative",null,{skipLocationChange:e.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:e.resolve,reject:e.reject,promise:e.promise})},0):e.resolve(!1)}else{this.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl);const r=new hn(e.id,this.serializeUrl(e.extractedUrl),n);t.next(r);try{e.resolve(this.errorHandler(n))}catch(Fl){e.reject(Fl)}}var i;return _t.E}));var i,s,o,a}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}getTransition(){const e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const t=this.extractLocationChangeInfoFromEvent(e);this.shouldScheduleNavigation(this.lastLocationChangeInfo,t)&&setTimeout(()=>{const{source:e,state:n,urlTree:r}=t,i={replaceUrl:!0};if(n){const e=Object.assign({},n);delete e.navigationId,delete e.\u0275routerPageId,0!==Object.keys(e).length&&(i.state=e)}this.scheduleNavigation(r,e,n,i)},0),this.lastLocationChangeInfo=t}))}extractLocationChangeInfoFromEvent(e){var t;return{source:"popstate"===e.type?"popstate":"hashchange",urlTree:this.parseUrl(e.url),state:(null===(t=e.state)||void 0===t?void 0:t.navigationId)?e.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(e,t){if(!e)return!0;const n=t.urlTree.toString()===e.urlTree.toString();return!(t.transitionId===e.transitionId&&n&&("hashchange"===t.source&&"popstate"===e.source||"popstate"===t.source&&"hashchange"===e.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){Zr(e),this.config=e.map(Gr),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,t={}){const{relativeTo:n,queryParams:r,fragment:i,queryParamsHandling:s,preserveFragment:o}=t,a=n||this.routerState.root,u=o?this.currentUrlTree.fragment:i;let c=null;switch(s){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}return null!==c&&(c=this.removeEmptyProps(c)),function(e,t,n,r,i){if(0===n.length)return Cr(t.root,t.root,t,r,i);const s=function(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new kr(!0,0,e);let t=0,n=!1;const r=e.reduce((e,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const t={};return Dn(r.outlets,(e,n)=>{t[n]="string"==typeof e?e.split("/"):e}),[...e,{outlets:t}]}if(r.segmentPath)return[...e,r.segmentPath]}return"string"!=typeof r?[...e,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?t++:""!=r&&e.push(r))}),e):[...e,r]},[]);return new kr(n,t,r)}(n);if(s.toRoot())return Cr(t.root,new Bn([],{}),t,r,i);const o=function(e,t,n){if(e.isAbsolute)return new xr(t.root,!0,0);if(-1===n.snapshot._lastPathIndex){const e=n.snapshot._urlSegment;return new xr(e,e===t.root,0)}const r=Tr(e.commands[0])?0:1;return function(e,t,n){let r=e,i=t,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new xr(r,!1,i-s)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,e.numberOfDoubleDots)}(s,t,e),a=o.processChildren?Or(o.segmentGroup,o.index,s.commands):Nr(o.segmentGroup,o.index,s.commands);return Cr(o.segmentGroup,a,t,r,i)}(a,this.currentUrlTree,e,c,null!=u?u:null)}navigateByUrl(e,t={skipLocationChange:!1}){const n=jr(e)?e:this.parseUrl(e),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);let i=null;return"computed"===this.canceledNavigationResolution&&(0===this.currentPageId||t.skipLocationChange||t.replaceUrl)&&(i=this.location.getState()),this.scheduleNavigation(r,"imperative",i,t)}navigate(e,t={skipLocationChange:!1}){return function(e){for(let t=0;t<e.length;t++){const n=e[t];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,t),t)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let t;try{t=this.urlSerializer.parse(e)}catch(n){t=this.malformedUriErrorHandler(n,this.urlSerializer,e)}return t}isActive(e,t){let n;if(n=!0===t?Object.assign({},Pi):!1===t?Object.assign({},Li):t,jr(e))return Fn(this.currentUrlTree,e,n);const r=this.parseUrl(e);return Fn(this.currentUrlTree,r,n)}removeEmptyProps(e){return Object.keys(e).reduce((t,n)=>{const r=e[n];return null!=r&&(t[n]=r),t},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new cn(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(e,t,n,r,i){if(this.disposed)return Promise.resolve(!1);const s=this.getTransition(),o="imperative"!==t&&"imperative"===(null==s?void 0:s.source),a=(this.lastSuccessfulId===s.id||this.currentNavigation?s.rawUrl:s.urlAfterRedirects).toString()===e.toString();if(o&&a)return Promise.resolve(!0);let u,c,l;i?(u=i.resolve,c=i.reject,l=i.promise):l=new Promise((e,t)=>{u=e,c=t});const h=++this.navigationId;let d;return d="computed"===this.canceledNavigationResolution?n&&n.\u0275routerPageId?n.\u0275routerPageId:this.currentPageId+1:0,this.setTransition({id:h,targetPageId:d,source:t,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:r,resolve:u,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(e=>Promise.reject(e))}setBrowserUrl(e,t){const n=this.urlSerializer.serialize(e),r=Object.assign(Object.assign({},t.extras.state),this.generateNgRouterState(t.id,t.targetPageId));this.location.isCurrentPathEqualTo(n)||t.extras.replaceUrl?this.location.replaceState(n,"",r):this.location.go(n,"",r)}resetStateAndUrl(e,t,n){this.routerState=e,this.currentUrlTree=t,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,t){"computed"===this.canceledNavigationResolution?"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy||this.location.historyGo(this.currentPageId-e.targetPageId):this.resetUrlToCurrentUrlTree();const n=new ln(e.id,this.serializeUrl(e.extractedUrl),t);this.triggerEvent(n),e.resolve(!1)}generateNgRouterState(e,t){return"computed"===this.canceledNavigationResolution?{navigationId:e,"\u0275routerPageId":t}:{navigationId:e}}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(r.DyG),r.LFG(Hn),r.LFG(xi),r.LFG(b),r.LFG(r.zs3),r.LFG(r.v3s),r.LFG(r.Sil),r.LFG(void 0))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),Fi=(()=>{class e{constructor(e,t,n,i,s){this.parentContexts=e,this.location=t,this.resolver=n,this.changeDetector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.vpe,this.deactivateEvents=new r.vpe,this.name=i||Tn,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,e}attach(e,t){this.activated=e,this._activatedRoute=t,this.location.insert(e.hostView)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,t){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const n=(t=t||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new Ui(e,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(xi),r.Y36(r.s_b),r.Y36(r._Vd),r.$8M("name"),r.Y36(r.sBO))},e.\u0275dir=r.lG2({type:e,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),e})();class Ui{constructor(e,t,n){this.route=e,this.childContexts=t,this.parent=n}get(e,t){return e===pr?this.route:e===xi?this.childContexts:this.parent.get(e,t)}}class Vi{}class ji{preload(e,t){return(0,et.of)(null)}}let qi=(()=>{class e{constructor(e,t,n,r,i){this.router=e,this.injector=r,this.preloadingStrategy=i,this.loader=new Ai(t,n,t=>e.triggerEvent(new yn(t)),t=>e.triggerEvent(new vn(t)))}setUpPreloading(){this.subscription=this.router.events.pipe(Lt(e=>e instanceof cn),Bt(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(r.h0i);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,t){const n=[];for(const r of t)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const e=r._loadedConfig;n.push(this.processRoutes(e.module,e.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(e,r)):r.children&&n.push(this.processRoutes(e,r.children));return(0,Xe.D)(n).pipe((0,yt.J)(),(0,It.U)(e=>{}))}preloadConfig(e,t){return this.preloadingStrategy.preload(t,()=>(t._loadedConfig?(0,et.of)(t._loadedConfig):this.loader.load(e.injector,t)).pipe((0,qt.zg)(e=>(t._loadedConfig=e,this.processRoutes(e.module,e.routes)))))}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(Mi),r.LFG(r.v3s),r.LFG(r.Sil),r.LFG(r.zs3),r.LFG(Vi))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),Bi=(()=>{class e{constructor(e,t,n={}){this.router=e,this.viewportScroller=t,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof un?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof cn&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof En&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,t){this.router.triggerEvent(new En(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,t))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(Mi),r.LFG(we),r.LFG(void 0))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();const zi=new r.OlP("ROUTER_CONFIGURATION"),Zi=new r.OlP("ROUTER_FORROOT_GUARD"),Hi=[b,{provide:Hn,useClass:$n},{provide:Mi,useFactory:function(e,t,n,r,i,s,o,a={},u,c){const l=new Mi(null,e,t,n,r,i,s,On(o));return u&&(l.urlHandlingStrategy=u),c&&(l.routeReuseStrategy=c),function(e,t){e.errorHandler&&(t.errorHandler=e.errorHandler),e.malformedUriErrorHandler&&(t.malformedUriErrorHandler=e.malformedUriErrorHandler),e.onSameUrlNavigation&&(t.onSameUrlNavigation=e.onSameUrlNavigation),e.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=e.paramsInheritanceStrategy),e.relativeLinkResolution&&(t.relativeLinkResolution=e.relativeLinkResolution),e.urlUpdateStrategy&&(t.urlUpdateStrategy=e.urlUpdateStrategy)}(a,l),a.enableTracing&&l.events.subscribe(e=>{var t,n;null===(t=console.group)||void 0===t||t.call(console,`Router Event: ${e.constructor.name}`),console.log(e.toString()),console.log(e),null===(n=console.groupEnd)||void 0===n||n.call(console)}),l},deps:[Hn,xi,b,r.zs3,r.v3s,r.Sil,Ci,zi,[class{},new r.FiY],[class{},new r.FiY]]},xi,{provide:pr,useFactory:function(e){return e.routerState.root},deps:[Mi]},{provide:r.v3s,useClass:r.EAV},qi,ji,class{preload(e,t){return t().pipe(Ut(()=>(0,et.of)(null)))}},{provide:zi,useValue:{enableTracing:!1}}];function $i(){return new r.PXZ("Router",Mi)}let Gi=(()=>{class e{constructor(e,t){}static forRoot(t,n){return{ngModule:e,providers:[Hi,Qi(t),{provide:Zi,useFactory:Yi,deps:[[Mi,new r.FiY,new r.tp0]]},{provide:zi,useValue:n||{}},{provide:m,useFactory:Ki,deps:[a,[new r.tBr(v),new r.FiY],zi]},{provide:Bi,useFactory:Wi,deps:[Mi,we,zi]},{provide:Vi,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:ji},{provide:r.PXZ,multi:!0,useFactory:$i},[Ji,{provide:r.ip1,multi:!0,useFactory:Xi,deps:[Ji]},{provide:ts,useFactory:es,deps:[Ji]},{provide:r.tb,multi:!0,useExisting:ts}]]}}static forChild(t){return{ngModule:e,providers:[Qi(t)]}}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(Zi,8),r.LFG(Mi,8))},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({}),e})();function Wi(e,t,n){return n.scrollOffset&&t.setOffset(n.scrollOffset),new Bi(e,t,n)}function Ki(e,t,n={}){return n.useHash?new w(e,t):new _(e,t)}function Yi(e){return"guarded"}function Qi(e){return[{provide:r.deG,multi:!0,useValue:e},{provide:Ci,multi:!0,useValue:e}]}let Ji=(()=>{class e{constructor(e){this.injector=e,this.initNavigation=!1,this.resultOfPreactivationDone=new tt.xQ}appInitializer(){return this.injector.get(c,Promise.resolve(null)).then(()=>{let e=null;const t=new Promise(t=>e=t),n=this.injector.get(Mi),r=this.injector.get(zi);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),e(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?(0,et.of)(null):(this.initNavigation=!0,e(!0),this.resultOfPreactivationDone),n.initialNavigation()):e(!0),t})}bootstrapListener(e){const t=this.injector.get(zi),n=this.injector.get(qi),i=this.injector.get(Bi),s=this.injector.get(Mi),o=this.injector.get(r.z2F);e===o.components[0]&&("enabledNonBlocking"!==t.initialNavigation&&void 0!==t.initialNavigation||s.initialNavigation(),n.setUpPreloading(),i.init(),s.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(r.zs3))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();function Xi(e){return e.appInitializer.bind(e)}function es(e){return e.bootstrapListener.bind(e)}const ts=new r.OlP("Router Initializer");class ns{constructor(){this.uid="",this.email="",this.pass=""}}var rs=n(6304),is=n(7092),ss=n(5119),os=n(308),as=n(250),us=function(e,t){return(us=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function cs(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var ls,hs="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},ds=ds||{},fs=hs||self;function ps(){}function gs(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function ms(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var ys="closure_uid_"+(1e9*Math.random()>>>0),vs=0;function _s(e,t,n){return e.call.apply(e.bind,arguments)}function ws(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function bs(e,t,n){return(bs=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?_s:ws).apply(null,arguments)}function Is(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Es(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function Ts(){this.s=this.s,this.o=this.o}var Ss={};Ts.prototype.s=!1,Ts.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,ys)&&e[ys]||(e[ys]=++vs)}(this);delete Ss[e]}},Ts.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Cs=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},As=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"==typeof e?e.split(""):e,s=0;s<r;s++)s in i&&t.call(n,i[s],s,e)};function ks(e){return Array.prototype.concat.apply([],arguments)}function xs(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Ns(e){return/^[\s\xa0]*$/.test(e)}var Os,Rs=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Ds(e,t){return-1!=e.indexOf(t)}function Ps(e,t){return e<t?-1:e>t?1:0}e:{var Ls=fs.navigator;if(Ls){var Ms=Ls.userAgent;if(Ms){Os=Ms;break e}}Os=""}function Fs(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Us(e){var t={};for(var n in e)t[n]=e[n];return t}var Vs="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function js(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var s=0;s<Vs.length;s++)n=Vs[s],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function qs(e){return qs[" "](e),e}qs[" "]=ps;var Bs,zs,Zs=Ds(Os,"Opera"),Hs=Ds(Os,"Trident")||Ds(Os,"MSIE"),$s=Ds(Os,"Edge"),Gs=$s||Hs,Ws=Ds(Os,"Gecko")&&!(Ds(Os.toLowerCase(),"webkit")&&!Ds(Os,"Edge"))&&!(Ds(Os,"Trident")||Ds(Os,"MSIE"))&&!Ds(Os,"Edge"),Ks=Ds(Os.toLowerCase(),"webkit")&&!Ds(Os,"Edge");function Ys(){var e=fs.document;return e?e.documentMode:void 0}e:{var Qs="",Js=(zs=Os,Ws?/rv:([^\);]+)(\)|;)/.exec(zs):$s?/Edge\/([\d\.]+)/.exec(zs):Hs?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(zs):Ks?/WebKit\/(\S+)/.exec(zs):Zs?/(?:Version)[ \/]?(\S+)/.exec(zs):void 0);if(Js&&(Qs=Js?Js[1]:""),Hs){var Xs=Ys();if(null!=Xs&&Xs>parseFloat(Qs)){Bs=String(Xs);break e}}Bs=Qs}var eo={};var to=fs.document&&Hs&&(Ys()||parseInt(Bs,10))||void 0,no=function(){if(!fs.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{fs.addEventListener("test",ps,t),fs.removeEventListener("test",ps,t)}catch(n){}return e}();function ro(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function io(e,t){if(ro.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Ws){e:{try{qs(t.nodeName);var i=!0;break e}catch(s){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:so[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&io.Z.h.call(this)}}ro.prototype.h=function(){this.defaultPrevented=!0},Es(io,ro);var so={2:"touch",3:"pen",4:"mouse"};io.prototype.h=function(){io.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var oo="closure_listenable_"+(1e6*Math.random()|0),ao=0;function uo(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++ao,this.ca=this.fa=!1}function co(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function lo(e){this.src=e,this.g={},this.h=0}function ho(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=Cs(i,t);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(co(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function fo(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.ca&&s.listener==t&&s.capture==!!n&&s.ia==r)return i}return-1}lo.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var o=fo(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new uo(t,this.src,s,!!r,i)).fa=n,e.push(t)),t};var po="closure_lm_"+(1e6*Math.random()|0),go={};function mo(e,t,n,r,i){if(r&&r.once)return vo(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)mo(e,t[s],n,r,i);return null}return n=So(n),e&&e[oo]?e.N(t,n,ms(r)?!!r.capture:!!r,i):yo(e,t,n,!1,r,i)}function yo(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=ms(i)?!!i.capture:!!i,a=Eo(e);if(a||(e[po]=a=new lo(e)),(n=a.add(t,n,r,o,s)).proxy)return n;if(r=function(){var e=Io;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)no||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(bo(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function vo(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)vo(e,t[s],n,r,i);return null}return n=So(n),e&&e[oo]?e.O(t,n,ms(r)?!!r.capture:!!r,i):yo(e,t,n,!0,r,i)}function _o(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)_o(e,t[s],n,r,i);else r=ms(r)?!!r.capture:!!r,n=So(n),e&&e[oo]?(e=e.i,(t=String(t).toString())in e.g&&-1<(n=fo(s=e.g[t],n,r,i))&&(co(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--))):e&&(e=Eo(e))&&(t=e.g[t.toString()],e=-1,t&&(e=fo(t,n,r,i)),(n=-1<e?t[e]:null)&&wo(n))}function wo(e){if("number"!=typeof e&&e&&!e.ca){var t=e.src;if(t&&t[oo])ho(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(bo(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Eo(t))?(ho(n,e),0==n.h&&(n.src=null,t[po]=null)):co(e)}}}function bo(e){return e in go?go[e]:go[e]="on"+e}function Io(e,t){if(e.ca)e=!0;else{t=new io(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&wo(e),e=n.call(r,t)}return e}function Eo(e){return(e=e[po])instanceof lo?e:null}var To="__closure_events_fn_"+(1e9*Math.random()>>>0);function So(e){return"function"==typeof e?e:(e[To]||(e[To]=function(t){return e.handleEvent(t)}),e[To])}function Co(){Ts.call(this),this.i=new lo(this),this.P=this,this.I=null}function Ao(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"==typeof t)t=new ro(t,e);else if(t instanceof ro)t.target=t.target||e;else{var i=t;js(t=new ro(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=ko(o,r,!0,t)&&i}if(i=ko(o=t.g=e,r,!0,t)&&i,i=ko(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=ko(o=t.g=n[s],r,!1,t)&&i}function ko(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.ca&&o.capture==n){var a=o.listener,u=o.ia||o.src;o.fa&&ho(e.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}Es(Co,Ts),Co.prototype[oo]=!0,Co.prototype.removeEventListener=function(e,t,n,r){_o(this,e,t,n,r)},Co.prototype.M=function(){if(Co.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)co(n[r]);delete t.g[e],t.h--}}this.I=null},Co.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Co.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var xo=fs.JSON.stringify;function No(){var e=Uo,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Oo,Ro=function(){function e(){this.h=this.g=null}return e.prototype.add=function(e,t){var n=Do.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n},e}(),Do=new(function(){function e(e,t){this.i=e,this.j=t,this.h=0,this.g=null}return e.prototype.get=function(){var e;return 0<this.h?(this.h--,this.g=(e=this.g).next,e.next=null):e=this.i(),e},e}())(function(){return new Po},function(e){return e.reset()}),Po=function(){function e(){this.next=this.g=this.h=null}return e.prototype.set=function(e,t){this.h=e,this.g=t,this.next=null},e.prototype.reset=function(){this.next=this.g=this.h=null},e}();function Lo(e){fs.setTimeout(function(){throw e},0)}function Mo(e,t){Oo||function(){var e=fs.Promise.resolve(void 0);Oo=function(){e.then(Vo)}}(),Fo||(Oo(),Fo=!0),Uo.add(e,t)}var Fo=!1,Uo=new Ro;function Vo(){for(var e;e=No();){try{e.h.call(e.g)}catch(n){Lo(n)}var t=Do;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Fo=!1}function jo(e,t){Co.call(this),this.h=e||1,this.g=t||fs,this.j=bs(this.kb,this),this.l=Date.now()}function qo(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function Bo(e,t,n){if("function"==typeof e)n&&(e=bs(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=bs(e.handleEvent,e)}return 2147483647<Number(t)?-1:fs.setTimeout(e,t||0)}function zo(e){e.g=Bo(function(){e.g=null,e.i&&(e.i=!1,zo(e))},e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Es(jo,Co),(ls=jo.prototype).da=!1,ls.S=null,ls.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Ao(this,"tick"),this.da&&(qo(this),this.start()))}},ls.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ls.M=function(){jo.Z.M.call(this),qo(this),delete this.g};var Zo=function(e){function t(t,n){var r=e.call(this)||this;return r.m=t,r.j=n,r.h=null,r.i=!1,r.g=null,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}us(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.l=function(e){this.h=arguments,this.g?this.i=!0:zo(this)},t.prototype.M=function(){e.prototype.M.call(this),this.g&&(fs.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},t}(Ts);function Ho(e){Ts.call(this),this.h=e,this.g={}}Es(Ho,Ts);var $o=[];function Go(e,t,n,r){Array.isArray(n)||(n&&($o[0]=n.toString()),n=$o);for(var i=0;i<n.length;i++){var s=mo(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function Wo(e){Fs(e.g,function(e,t){this.g.hasOwnProperty(t)&&wo(e)},e),e.g={}}function Ko(){this.g=!0}function Yo(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return xo(n)}catch(a){return t}}(e,n)+(r?" "+r:"")})}Ho.prototype.M=function(){Ho.Z.M.call(this),Wo(this)},Ho.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ko.prototype.Aa=function(){this.g=!1},Ko.prototype.info=function(){};var Qo={},Jo=null;function Xo(){return Jo=Jo||new Co}function ea(e){ro.call(this,Qo.Ma,e)}function ta(e){var t=Xo();Ao(t,new ea(t,e))}function na(e,t){ro.call(this,Qo.STAT_EVENT,e),this.stat=t}function ra(e){var t=Xo();Ao(t,new na(t,e))}function ia(e,t){ro.call(this,Qo.Na,e),this.size=t}function sa(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return fs.setTimeout(function(){e()},t)}Qo.Ma="serverreachability",Es(ea,ro),Qo.STAT_EVENT="statevent",Es(na,ro),Qo.Na="timingevent",Es(ia,ro);var oa={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},aa={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function ua(){}function ca(){}ua.prototype.h=null;var la,ha={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function da(){ro.call(this,"d")}function fa(){ro.call(this,"c")}function pa(){}function ga(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Ho(this),this.P=ya,this.W=new jo(e=Gs?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new ma}function ma(){this.i=null,this.g="",this.h=!1}Es(da,ro),Es(fa,ro),Es(pa,ua),pa.prototype.g=function(){return new XMLHttpRequest},pa.prototype.i=function(){return{}},la=new pa;var ya=45e3,va={},_a={};function wa(e,t,n){e.K=1,e.v=za(Fa(t)),e.s=n,e.U=!0,ba(e,null)}function ba(e,t){e.F=Date.now(),Sa(e),e.A=Fa(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),nu(n.h,"t",r),e.C=0,n=e.l.H,e.h=new ma,e.g=rc(e.l,n?t:null,!e.s),0<e.O&&(e.L=new Zo(bs(e.Ia,e,e.g),e.O)),Go(e.V,e.g,"readystatechange",e.gb),t=e.H?Us(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),ta(1),function(e,t,n,r,i,s){e.info(function(){if(e.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");o=2<=h.length&&"type"==h[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o})}(e.j,e.u,e.A,e.m,e.X,e.s)}function Ia(e){return!!e.g&&"GET"==e.u&&2!=e.K&&e.l.Ba}function Ea(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=Ta(e,n))==_a){4==t&&(e.o=4,ra(14),i=!1),Yo(e.j,e.m,null,"[Incomplete Response]");break}if(r==va){e.o=4,ra(15),Yo(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Yo(e.j,e.m,r,null),Na(e,r)}Ia(e)&&r!=_a&&r!=va&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,ra(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Ku(t),t.L=!0,ra(11))):(Yo(e.j,e.m,n,"[Invalid Chunked Response]"),xa(e),ka(e))}function Ta(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?_a:(n=Number(t.substring(n,r)),isNaN(n)?va:(r+=1)+n>t.length?_a:(t=t.substr(r,n),e.C=r+n,t))}function Sa(e){e.Y=Date.now()+e.P,Ca(e,e.P)}function Ca(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=sa(bs(e.eb,e),t)}function Aa(e){e.B&&(fs.clearTimeout(e.B),e.B=null)}function ka(e){0==e.l.G||e.I||Ju(e.l,e)}function xa(e){Aa(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,qo(e.W),Wo(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Na(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||cu(n.i,e)))if(n.I=e.N,!e.J&&cu(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(s){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Qu(n),ju(n)}Wu(n),ra(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=sa(bs(n.ab,n),6e3));if(1>=uu(n.i)&&n.ka){try{n.ka()}catch(s){}n.ka=void 0}}else ec(n,11)}else if((e.J||n.g==e)&&Qu(n),!Ns(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var s=i[t];if(n.U=s[0],s=s[1],2==n.G)if("c"==s[0]){n.J=s[1],n.la=s[2];var o=s[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var a=s[4];null!=a&&(n.za=a,n.h.info("SVER="+n.za));var u=s[5];null!=u&&"number"==typeof u&&0<u&&(n.K=r=1.5*u,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=r.i;!h.g&&(Ds(l,"spdy")||Ds(l,"quic")||Ds(l,"h2"))&&(h.j=h.l,h.g=new Set,h.h&&(lu(h,h.h),h.h=null))}if(r.D){var d=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;d&&(r.sa=d,Ba(r.F,r.D,d))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var f=e;if((r=n).oa=nc(r,r.H?r.la:null,r.W),f.J){hu(r.i,f);var p=f,g=r.K;g&&p.setTimeout(g),p.B&&(Aa(p),Sa(p)),r.g=f}else Gu(r);0<n.l.length&&zu(n)}else"stop"!=s[0]&&"close"!=s[0]||ec(n,7);else 3==n.G&&("stop"==s[0]||"close"==s[0]?"stop"==s[0]?ec(n,7):Vu(n):"noop"!=s[0]&&n.j&&n.j.wa(s),n.A=0)}ta(4)}catch(s){}}function Oa(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(gs(e)||"string"==typeof e)As(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(gs(e)||"string"==typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;i=(r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"==typeof e)return e.split("");if(gs(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e)).length;for(var s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}}function Ra(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Ra)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Da(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];Pa(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)Pa(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function Pa(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(ls=ga.prototype).setTimeout=function(e){this.P=e},ls.gb=function(e){e=e.target;var t=this.L;t&&3==Pu(e)?t.l():this.Ia(e)},ls.Ia=function(e){try{if(e==this.g)e:{var t=Pu(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||Gs||this.g&&(this.h.h||this.g.ga()||Lu(this.g)))){this.I||4!=t||7==n||ta(8==n||0>=r?3:2),Aa(this);var i=this.g.ba();this.N=i;t:if(Ia(this)){var s=Lu(this.g);e="";var o=s.length,a=4==Pu(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){xa(this),ka(this);var u="";break t}this.h.i=new fs.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(s[n],{stream:a&&n==o-1});s.splice(0,o),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,s,o){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ns(c)){var h=c;break t}}h=null}if(!(i=h)){this.i=!1,this.o=3,ra(12),xa(this),ka(this);break e}Yo(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Na(this,i)}this.U?(Ea(this,t,u),Gs&&this.i&&3==t&&(Go(this.V,this.W,"tick",this.fb),this.W.start())):(Yo(this.j,this.m,u,null),Na(this,u)),4==t&&xa(this),this.i&&!this.I&&(4==t?Ju(this.l,this):(this.i=!1,Sa(this)))}else 400==i&&0<u.indexOf("Unknown SID")?(this.o=3,ra(12)):(this.o=0,ra(13)),xa(this),ka(this)}}}catch(t){}},ls.fb=function(){if(this.g){var e=Pu(this.g),t=this.g.ga();this.C<t.length&&(Aa(this),Ea(this,e,t),this.i&&4!=e&&Sa(this))}},ls.cancel=function(){this.I=!0,xa(this)},ls.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(ta(3),ra(17)),xa(this),this.o=2,ka(this)):Ca(this,this.Y-e)},(ls=Ra.prototype).R=function(){Da(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},ls.T=function(){return Da(this),this.g.concat()},ls.get=function(e,t){return Pa(this.h,e)?this.h[e]:t},ls.set=function(e,t){Pa(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},ls.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);e.call(t,s,i,this)}};var La=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ma(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Ma){this.g=void 0!==t?t:e.g,Ua(this,e.j),this.s=e.s,Va(this,e.i),ja(this,e.m),this.l=e.l,t=e.h;var n=new Ja;n.i=t.i,t.g&&(n.g=new Ra(t.g),n.h=t.h),qa(this,n),this.o=e.o}else e&&(n=String(e).match(La))?(this.g=!!t,Ua(this,n[1]||"",!0),this.s=Za(n[2]||""),Va(this,n[3]||"",!0),ja(this,n[4]),this.l=Za(n[5]||"",!0),qa(this,n[6]||"",!0),this.o=Za(n[7]||"")):(this.g=!!t,this.h=new Ja(null,this.g))}function Fa(e){return new Ma(e)}function Ua(e,t,n){e.j=n?Za(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Va(e,t,n){e.i=n?Za(t,!0):t}function ja(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function qa(e,t,n){t instanceof Ja?(e.h=t,function(e,t){t&&!e.j&&(Xa(e),e.i=null,e.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(eu(this,t),nu(this,n,e))},e)),e.j=t}(e.h,e.g)):(n||(t=Ha(t,Ya)),e.h=new Ja(t,e.g))}function Ba(e,t,n){e.h.set(t,n)}function za(e){return Ba(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Za(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Ha(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,$a),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function $a(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Ma.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Ha(t,Ga,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Ha(t,Ga,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(Ha(n,"/"==n.charAt(0)?Ka:Wa,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Ha(n,Qa)),e.join("")};var Ga=/[#\/\?@]/g,Wa=/[#\?:]/g,Ka=/[#\?]/g,Ya=/[#\?@]/g,Qa=/#/g;function Ja(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Xa(e){e.g||(e.g=new Ra,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function eu(e,t){Xa(e),t=ru(e,t),Pa(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,Pa((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Da(e)))}function tu(e,t){return Xa(e),t=ru(e,t),Pa(e.g.h,t)}function nu(e,t,n){eu(e,t),0<n.length&&(e.i=null,e.g.set(ru(e,t),xs(n)),e.h+=n.length)}function ru(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(ls=Ja.prototype).add=function(e,t){Xa(this),this.i=null,e=ru(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},ls.forEach=function(e,t){Xa(this),this.g.forEach(function(n,r){As(n,function(n){e.call(t,n,r,this)},this)},this)},ls.T=function(){Xa(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],s=0;s<i.length;s++)n.push(t[r]);return n},ls.R=function(e){Xa(this);var t=[];if("string"==typeof e)tu(this,e)&&(t=ks(t,this.g.get(ru(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=ks(t,e[n])}return t},ls.set=function(e,t){return Xa(this),this.i=null,tu(this,e=ru(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},ls.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},ls.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),e.push(o)}}return this.i=e.join("&")};var iu=function(){return function(e,t){this.h=e,this.g=t}}();function su(e){this.l=e||ou,e=fs.PerformanceNavigationTiming?0<(e=fs.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):!!(fs.g&&fs.g.Ea&&fs.g.Ea()&&fs.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var ou=10;function au(e){return!!e.h||!!e.g&&e.g.size>=e.j}function uu(e){return e.h?1:e.g?e.g.size:0}function cu(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function lu(e,t){e.g?e.g.add(t):e.h=t}function hu(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function du(e){var t,n;if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var r=e.i;try{for(var i=cs(e.g.values()),s=i.next();!s.done;s=i.next())r=r.concat(s.value.D)}catch(o){t={error:o}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}return xs(e.i)}function fu(){}function pu(){this.g=new fu}function gu(e,t,n){var r=n||"";try{Oa(e,function(e,n){var i=e;ms(e)&&(i=xo(e)),t.push(r+n+"="+encodeURIComponent(i))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function mu(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(s){}}function yu(e){this.l=e.$b||null,this.j=e.ib||!1}function vu(e,t){Co.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=_u,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}su.prototype.cancel=function(){var e,t;if(this.i=du(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var n=cs(this.g.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){e={error:i}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.g.clear()}},fu.prototype.stringify=function(e){return fs.JSON.stringify(e,void 0)},fu.prototype.parse=function(e){return fs.JSON.parse(e,void 0)},Es(yu,ua),yu.prototype.g=function(){return new vu(this.l,this.j)},yu.prototype.i=function(e){return function(){return e}}({}),Es(vu,Co);var _u=0;function wu(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function bu(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Iu(e)}function Iu(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(ls=vu.prototype).open=function(e,t){if(this.readyState!=_u)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Iu(this)},ls.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||fs).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},ls.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,bu(this)),this.readyState=_u},ls.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Iu(this)),this.g&&(this.readyState=3,Iu(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==fs.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;wu(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},ls.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?bu(this):Iu(this),3==this.readyState&&wu(this)}},ls.Ua=function(e){this.g&&(this.response=this.responseText=e,bu(this))},ls.Ta=function(e){this.g&&(this.response=e,bu(this))},ls.ha=function(){this.g&&bu(this)},ls.setRequestHeader=function(e,t){this.v.append(e,t)},ls.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},ls.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)e.push((n=n.value)[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(vu.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Eu=fs.JSON.parse;function Tu(e){Co.call(this),this.headers=new Ra,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Su,this.K=this.L=!1}Es(Tu,Co);var Su="",Cu=/^https?$/i,Au=["POST","PUT"];function ku(e){return"content-type"==e.toLowerCase()}function xu(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Nu(e),Ru(e)}function Nu(e){e.D||(e.D=!0,Ao(e,"complete"),Ao(e,"error"))}function Ou(e){if(e.h&&void 0!==ds&&(!e.C[1]||4!=Pu(e)||2!=e.ba()))if(e.v&&4==Pu(e))Bo(e.Fa,0,e);else if(Ao(e,"readystatechange"),4==Pu(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var s=String(e.H).match(La)[1]||null;if(!s&&fs.self&&fs.self.location){var o=fs.self.location.protocol;s=o.substr(0,o.length-1)}i=!Cu.test(s?s.toLowerCase():"")}t=i}if(t)Ao(e,"complete"),Ao(e,"success");else{e.m=6;try{var a=2<Pu(e)?e.g.statusText:""}catch(u){a=""}e.j=a+" ["+e.ba()+"]",Nu(e)}}finally{Ru(e)}}}function Ru(e,t){if(e.g){Du(e);var n=e.g,r=e.C[0]?ps:null;e.g=null,e.C=null,t||Ao(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function Du(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(fs.clearTimeout(e.A),e.A=null)}function Pu(e){return e.g?e.g.readyState:0}function Lu(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Su:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Mu(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return Fs(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}(n),"string"==typeof e?null!=n&&encodeURIComponent(String(n)):Ba(e,t,n))}function Fu(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Uu(e){this.za=0,this.l=[],this.h=new Ko,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Fu("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Fu("baseRetryDelayMs",5e3,e),this.$a=Fu("retryDelaySeedMs",1e4,e),this.Ya=Fu("forwardChannelMaxRetries",2,e),this.ra=Fu("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new su(e&&e.concurrentRequestLimit),this.Ca=new pu,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function Vu(e){if(qu(e),3==e.G){var t=e.V++,n=Fa(e.F);Ba(n,"SID",e.J),Ba(n,"RID",t),Ba(n,"TYPE","terminate"),Hu(e,n),(t=new ga(e,e.h,t,void 0)).K=2,t.v=za(Fa(n)),n=!1,fs.navigator&&fs.navigator.sendBeacon&&(n=fs.navigator.sendBeacon(t.v.toString(),"")),!n&&fs.Image&&((new Image).src=t.v,n=!0),n||(t.g=rc(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Sa(t)}tc(e)}function ju(e){e.g&&(Ku(e),e.g.cancel(),e.g=null)}function qu(e){ju(e),e.u&&(fs.clearTimeout(e.u),e.u=null),Qu(e),e.i.cancel(),e.m&&("number"==typeof e.m&&fs.clearTimeout(e.m),e.m=null)}function Bu(e,t){e.l.push(new iu(e.Za++,t)),3==e.G&&zu(e)}function zu(e){au(e.i)||e.m||(e.m=!0,Mo(e.Ha,e),e.C=0)}function Zu(e,t){var n;n=t?t.m:e.V++;var r=Fa(e.F);Ba(r,"SID",e.J),Ba(r,"RID",n),Ba(r,"AID",e.U),Hu(e,r),e.o&&e.s&&Mu(r,e.o,e.s),n=new ga(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=$u(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),lu(e.i,n),wa(n,r,t)}function Hu(e,t){e.j&&Oa({},function(e,n){Ba(t,n,e)})}function $u(e,t,n){n=Math.min(e.l.length,n);var r=e.j?bs(e.j.Oa,e.j,e):null;e:for(var i=e.l,s=-1;;){var o=["count="+n];-1==s?0<n?o.push("ofs="+(s=i[0].h)):s=0:o.push("ofs="+s);for(var a=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=s))s=Math.max(0,i[u].h-100),a=!1;else try{gu(l,o,"req"+c+"_")}catch(Rc){r&&r(l)}}if(a){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function Gu(e){e.g||e.u||(e.Y=1,Mo(e.Ga,e),e.A=0)}function Wu(e){return!(e.g||e.u||3<=e.A||(e.Y++,e.u=sa(bs(e.Ga,e),Xu(e,e.A)),e.A++,0))}function Ku(e){null!=e.B&&(fs.clearTimeout(e.B),e.B=null)}function Yu(e){e.g=new ga(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=Fa(e.oa);Ba(t,"RID","rpc"),Ba(t,"SID",e.J),Ba(t,"CI",e.N?"0":"1"),Ba(t,"AID",e.U),Hu(e,t),Ba(t,"TYPE","xmlhttp"),e.o&&e.s&&Mu(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=za(Fa(t)),n.s=null,n.U=!0,ba(n,e)}function Qu(e){null!=e.v&&(fs.clearTimeout(e.v),e.v=null)}function Ju(e,t){var n=null;if(e.g==t){Qu(e),Ku(e),e.g=null;var r=2}else{if(!cu(e.i,t))return;n=t.D,hu(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Ao(r=Xo(),new ia(r,n,t,i)),zu(e)}else Gu(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(uu(e.i)>=e.i.j-(e.m?1:0)||(e.m?(e.l=t.D.concat(e.l),0):1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya)||(e.m=sa(bs(e.Ha,e,t),Xu(e,e.C)),e.C++,0)))}(e,t)||2==r&&Wu(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:ec(e,5);break;case 4:ec(e,10);break;case 3:ec(e,6);break;default:ec(e,2)}}function Xu(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function ec(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=bs(e.jb,e);n||(n=new Ma("//www.google.com/images/cleardot.gif"),fs.location&&"http"==fs.location.protocol||Ua(n,"https"),za(n)),function(e,t){var n=new Ko;if(fs.Image){var r=new Image;r.onload=Is(mu,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Is(mu,n,r,"TestLoadImage: error",!1,t),r.onabort=Is(mu,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Is(mu,n,r,"TestLoadImage: timeout",!1,t),fs.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(n.toString(),r)}else ra(2);e.G=0,e.j&&e.j.va(t),tc(e),qu(e)}function tc(e){e.G=0,e.I=-1,e.j&&(0==du(e.i).length&&0==e.l.length||(e.i.i.length=0,xs(e.l),e.l.length=0),e.j.ua())}function nc(e,t,n){var r=function(e){return e instanceof Ma?Fa(e):new Ma(e,void 0)}(n);if(""!=r.i)t&&Va(r,t+"."+r.i),ja(r,r.m);else{var i=fs.location;r=function(e,t,n,r){var i=new Ma(null,void 0);return e&&Ua(i,e),t&&Va(i,t),n&&ja(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&Fs(e.aa,function(e,t){Ba(r,t,e)}),n=e.sa,(t=e.D)&&n&&Ba(r,t,n),Ba(r,"VER",e.ma),Hu(e,r),r}function rc(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new Tu(n&&e.Ba&&!e.qa?new yu({ib:!0}):e.qa)).L=e.H,t}function ic(){}function sc(){if(Hs&&!(10<=Number(to)))throw Error("Environmental error: no available transport.")}function oc(e,t){Co.call(this),this.g=new Uu(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!Ns(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Ns(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&t in(e=this.h)&&delete e[t]),this.j=new cc(this)}function ac(e){da.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function uc(){fa.call(this),this.status=1}function cc(e){this.g=e}(ls=Tu.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():la.g(),this.C=function(e){return e.h||(e.h=e.i())}(this.u?this.u:la),this.g.onreadystatechange=bs(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(s){return void xu(this,s)}e=n||"";var i=new Ra(this.headers);r&&Oa(r,function(e,t){i.set(t,e)}),r=function(e){e:{for(var t=ku,n=e.length,r="string"==typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"==typeof e?e.charAt(t):e[t]}(i.T()),n=fs.FormData&&e instanceof fs.FormData,!(0<=Cs(Au,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(e,t){this.g.setRequestHeader(t,e)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Du(this),0<this.B&&((this.K=function(e){return Hs&&function(){return e=eo,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){for(var e=0,t=Rs(String(Bs)).split("."),n=Rs("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var s=t[i]||"",o=n[i]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==s[0].length&&0==o[0].length)break;e=Ps(0==s[1].length?0:parseInt(s[1],10),0==o[1].length?0:parseInt(o[1],10))||Ps(0==s[2].length,0==o[2].length)||Ps(s[2],o[2]),s=s[3],o=o[3]}while(0==e)}return 0<=e}();var e}()&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=bs(this.pa,this)):this.A=Bo(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){xu(this,s)}},ls.pa=function(){void 0!==ds&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ao(this,"timeout"),this.abort(8))},ls.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Ao(this,"complete"),Ao(this,"abort"),Ru(this))},ls.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ru(this,!0)),Tu.Z.M.call(this)},ls.Fa=function(){this.s||(this.F||this.v||this.l?Ou(this):this.cb())},ls.cb=function(){Ou(this)},ls.ba=function(){try{return 2<Pu(this)?this.g.status:-1}catch(zs){return-1}},ls.ga=function(){try{return this.g?this.g.responseText:""}catch(zs){return""}},ls.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Eu(t)}},ls.Da=function(){return this.m},ls.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(ls=Uu.prototype).ma=8,ls.G=1,ls.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},ls.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new ga(this,this.h,e,void 0),n=this.s;if(this.P&&(n?js(n=Us(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var s=this.l[i];if(void 0===(s="__data__"in s.g&&"string"==typeof(s=s.g.__data__)?s.length:void 0))break;if(4096<(r+=s)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=$u(this,t,r),Ba(i=Fa(this.F),"RID",e),Ba(i,"CVER",22),this.D&&Ba(i,"X-HTTP-Session-Id",this.D),Hu(this,i),this.o&&n&&Mu(i,this.o,n),lu(this.i,t),this.Ra&&Ba(i,"TYPE","init"),this.ja?(Ba(i,"$req",r),Ba(i,"SID","null"),t.$=!0,wa(t,i,null)):wa(t,i,r),this.G=2}}else 3==this.G&&(e?Zu(this,e):0==this.l.length||au(this.i)||Zu(this))},ls.Ga=function(){if(this.u=null,Yu(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=sa(bs(this.bb,this),e)}},ls.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,ra(10),ju(this),Yu(this))},ls.ab=function(){null!=this.v&&(this.v=null,ju(this),Wu(this),ra(19))},ls.jb=function(e){e?(this.h.info("Successfully pinged google.com"),ra(2)):(this.h.info("Failed to ping google.com"),ra(1))},(ls=ic.prototype).xa=function(){},ls.wa=function(){},ls.va=function(){},ls.ua=function(){},ls.Oa=function(){},sc.prototype.g=function(e,t){return new oc(e,t)},Es(oc,Co),oc.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Mo(bs(e.hb,e,t))),ra(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=nc(e,null,e.W),zu(e)},oc.prototype.close=function(){Vu(this.g)},oc.prototype.u=function(e){if("string"==typeof e){var t={};t.__data__=e,Bu(this.g,t)}else this.v?((t={}).__data__=xo(e),Bu(this.g,t)):Bu(this.g,e)},oc.prototype.M=function(){this.g.j=null,delete this.j,Vu(this.g),delete this.g,oc.Z.M.call(this)},Es(ac,da),Es(uc,fa),Es(cc,ic),cc.prototype.xa=function(){Ao(this.g,"a")},cc.prototype.wa=function(e){Ao(this.g,new ac(e))},cc.prototype.va=function(e){Ao(this.g,new uc(e))},cc.prototype.ua=function(){Ao(this.g,"b")},sc.prototype.createWebChannel=sc.prototype.g,oc.prototype.send=oc.prototype.u,oc.prototype.open=oc.prototype.m,oc.prototype.close=oc.prototype.close,oa.NO_ERROR=0,oa.TIMEOUT=8,oa.HTTP_ERROR=6,aa.COMPLETE="complete",ca.EventType=ha,ha.OPEN="a",ha.CLOSE="b",ha.ERROR="c",ha.MESSAGE="d",Co.prototype.listen=Co.prototype.N,Tu.prototype.listenOnce=Tu.prototype.O,Tu.prototype.getLastError=Tu.prototype.La,Tu.prototype.getLastErrorCode=Tu.prototype.Da,Tu.prototype.getStatus=Tu.prototype.ba,Tu.prototype.getResponseJson=Tu.prototype.Qa,Tu.prototype.getResponseText=Tu.prototype.ga,Tu.prototype.send=Tu.prototype.ea;var lc=oa,hc=aa,dc=Qo,fc=yu,pc=ca,gc=Tu;class mc{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}mc.UNAUTHENTICATED=new mc(null),mc.GOOGLE_CREDENTIALS=new mc("google-credentials-uid"),mc.FIRST_PARTY=new mc("first-party-uid"),mc.MOCK_USER=new mc("mock-user");let yc="9.0.1";const vc=new os.Yd("@firebase/firestore");function _c(){return vc.logLevel}function wc(e,...t){if(vc.logLevel<=os.in.DEBUG){const n=t.map(Ec);vc.debug(`Firestore (${yc}): ${e}`,...n)}}function bc(e,...t){if(vc.logLevel<=os.in.ERROR){const n=t.map(Ec);vc.error(`Firestore (${yc}): ${e}`,...n)}}function Ic(e,...t){if(vc.logLevel<=os.in.WARN){const n=t.map(Ec);vc.warn(`Firestore (${yc}): ${e}`,...n)}}function Ec(e){if("string"==typeof e)return e;try{return JSON.stringify(e)}catch(t){return e}}function Tc(e="Unexpected state"){const t=`FIRESTORE (${yc}) INTERNAL ASSERTION FAILED: `+e;throw bc(t),new Error(t)}function Sc(e,t){e||Tc()}function Cc(e,t){return e}const Ac={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class kc extends Error{constructor(e,t){super(t),this.code=e,this.message=t,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class xc{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Nc{constructor(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization=`Bearer ${e}`}}class Oc{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(mc.UNAUTHENTICATED))}shutdown(){}}class Rc{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Dc{constructor(e){this.t=e,this.currentUser=mc.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var n=this;let r=this.i;const i=e=>this.i!==r?(r=this.i,t(e)):Promise.resolve();let s=new xc;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new xc,e.enqueueRetryable(()=>i(this.currentUser))};const o=t=>{e.enqueueRetryable((0,rs.Z)(function*(){wc("FirebaseCredentialsProvider","Auth detected"),n.auth=t,n.auth.addAuthTokenListener(n.o),yield s.promise,yield i(n.currentUser)}))};this.t.onInit(e=>o(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?o(e):(wc("FirebaseCredentialsProvider","Auth not yet detected"),s.resolve(),s=new xc)}},0),e.enqueueRetryable((0,rs.Z)(function*(){0===n.i&&(yield s.promise,yield i(n.currentUser))}))}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(wc("FirebaseCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Sc("string"==typeof t.accessToken),new Nc(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Sc(null===e||"string"==typeof e),new mc(e)}}class Pc{constructor(e,t,n){this.h=e,this.l=t,this.m=n,this.type="FirstParty",this.user=mc.FIRST_PARTY}get authHeaders(){const e={"X-Goog-AuthUser":this.l},t=this.h.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),this.m&&(e["X-Goog-Iam-Authorization-Token"]=this.m),e}}class Lc{constructor(e,t,n){this.h=e,this.l=t,this.m=n}getToken(){return Promise.resolve(new Pc(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(mc.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Mc{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.g(e),this.p=e=>t.writeSequenceNumber(e))}g(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.p&&this.p(e),e}}function Fc(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}Mc.T=-1;class Uc{static I(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const r=Fc(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length))}return n}}function Vc(e,t){return e<t?-1:e>t?1:0}function jc(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}function qc(e){return e+"\0"}class Bc{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new kc(Ac.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new kc(Ac.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new kc(Ac.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new kc(Ac.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Bc.fromMillis(Date.now())}static fromDate(e){return Bc.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new Bc(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Vc(this.nanoseconds,e.nanoseconds):Vc(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class zc{constructor(e){this.timestamp=e}static fromTimestamp(e){return new zc(e)}static min(){return new zc(new Bc(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function Zc(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Hc(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function $c(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Gc{constructor(e,t,n){void 0===t?t=0:t>e.length&&Tc(),void 0===n?n=e.length-t:n>e.length-t&&Tc(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Gc.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Gc?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Wc extends Gc{construct(e,t,n){return new Wc(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new kc(Ac.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter(e=>e.length>0))}return new Wc(t)}static emptyPath(){return new Wc([])}}const Kc=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yc extends Gc{construct(e,t,n){return new Yc(e,t,n)}static isValidIdentifier(e){return Kc.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yc.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Yc(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new kc(Ac.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new kc(Ac.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new kc(Ac.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new kc(Ac.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Yc(t)}static emptyPath(){return new Yc([])}}class Qc{constructor(e){this.fields=e,e.sort(Yc.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return jc(this.fields,e.fields,(e,t)=>e.isEqual(t))}}let Jc=(()=>{class e{constructor(e){this.binaryString=e}static fromBase64String(t){const n=atob(t);return new e(n)}static fromUint8Array(t){const n=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(t);return new e(n)}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Vc(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}return e.EMPTY_BYTE_STRING=new e(""),e})();const Xc=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function el(e){if(Sc(!!e),"string"==typeof e){let t=0;const n=Xc.exec(e);if(Sc(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:tl(e.seconds),nanos:tl(e.nanos)}}function tl(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function nl(e){return"string"==typeof e?Jc.fromBase64String(e):Jc.fromUint8Array(e)}function rl(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function il(e){const t=e.mapValue.fields.__previous_value__;return rl(t)?il(t):t}function sl(e){const t=el(e.mapValue.fields.__local_write_time__.timestampValue);return new Bc(t.seconds,t.nanos)}function ol(e){return null==e}function al(e){return 0===e&&1/e==-1/0}function ul(e){return"number"==typeof e&&Number.isInteger(e)&&!al(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}class cl{constructor(e){this.path=e}static fromPath(e){return new cl(Wc.fromString(e))}static fromName(e){return new cl(Wc.fromString(e).popFirst(5))}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}isEqual(e){return null!==e&&0===Wc.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Wc.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new cl(new Wc(e.slice()))}}function ll(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?rl(e)?4:10:Tc()}function hl(e,t){const n=ll(e);if(n!==ll(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return sl(e).isEqual(sl(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=el(e.timestampValue),r=el(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return nl(e.bytesValue).isEqual(nl(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return tl(e.geoPointValue.latitude)===tl(t.geoPointValue.latitude)&&tl(e.geoPointValue.longitude)===tl(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return tl(e.integerValue)===tl(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=tl(e.doubleValue),r=tl(t.doubleValue);return n===r?al(n)===al(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return jc(e.arrayValue.values||[],t.arrayValue.values||[],hl);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Zc(n)!==Zc(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!hl(n[i],r[i])))return!1;return!0}(e,t);default:return Tc()}}function dl(e,t){return void 0!==(e.values||[]).find(e=>hl(e,t))}function fl(e,t){const n=ll(e),r=ll(t);if(n!==r)return Vc(n,r);switch(n){case 0:return 0;case 1:return Vc(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=tl(e.integerValue||e.doubleValue),r=tl(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return pl(e.timestampValue,t.timestampValue);case 4:return pl(sl(e),sl(t));case 5:return Vc(e.stringValue,t.stringValue);case 6:return function(e,t){const n=nl(e),r=nl(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=Vc(n[i],r[i]);if(0!==e)return e}return Vc(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Vc(tl(e.latitude),tl(t.latitude));return 0!==n?n:Vc(tl(e.longitude),tl(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=fl(n[i],r[i]);if(e)return e}return Vc(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let o=0;o<r.length&&o<s.length;++o){const e=Vc(r[o],s[o]);if(0!==e)return e;const t=fl(n[r[o]],i[s[o]]);if(0!==t)return t}return Vc(r.length,s.length)}(e.mapValue,t.mapValue);default:throw Tc()}}function pl(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Vc(e,t);const n=el(e),r=el(t),i=Vc(n.seconds,r.seconds);return 0!==i?i:Vc(n.nanos,r.nanos)}function gl(e){return ml(e)}function ml(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=el(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?nl(e.bytesValue).toBase64():"referenceValue"in e?cl.fromName(e.referenceValue).toString():"geoPointValue"in e?`geo(${(t=e.geoPointValue).latitude},${t.longitude})`:"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=ml(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${ml(e.fields[i])}`;return n+"}"}(e.mapValue):Tc();var t}function yl(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function vl(e){return!!e&&"integerValue"in e}function _l(e){return!!e&&"arrayValue"in e}function wl(e){return!!e&&"nullValue"in e}function bl(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Il(e){return!!e&&"mapValue"in e}function El(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Hc(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=El(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=El(e.arrayValue.values[n]);return t}return Object.assign({},e)}class Tl{constructor(e){this.value=e}static empty(){return new Tl({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Il(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=El(t)}setAll(e){let t=Yc.emptyPath(),n={},r=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=El(e):r.push(i.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Il(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return hl(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Il(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Hc(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new Tl(El(this.value))}}function Sl(e){const t=[];return Hc(e.fields,(e,n)=>{const r=new Yc([e]);if(Il(n)){const e=Sl(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new Qc(t)}class Cl{constructor(e,t,n,r,i){this.key=e,this.documentType=t,this.version=n,this.data=r,this.documentState=i}static newInvalidDocument(e){return new Cl(e,0,zc.min(),Tl.empty(),0)}static newFoundDocument(e,t,n){return new Cl(e,1,t,n,0)}static newNoDocument(e,t){return new Cl(e,2,t,Tl.empty(),0)}static newUnknownDocument(e,t){return new Cl(e,3,t,Tl.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Tl.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Tl.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Cl&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}clone(){return new Cl(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Al{constructor(e,t=null,n=[],r=[],i=null,s=null,o=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.A=null}}function kl(e,t=null,n=[],r=[],i=null,s=null,o=null){return new Al(e,t,n,r,i,s,o)}function xl(e){const t=Cc(e);if(null===t.A){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>function(e){return e.field.canonicalString()+e.op.toString()+gl(e.value)}(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),ol(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=Bl(t.startAt)),t.endAt&&(e+="|ub:",e+=Bl(t.endAt)),t.A=e}return t.A}function Nl(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<e.orderBy.length;i++)if(!Zl(e.orderBy[i],t.orderBy[i]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let i=0;i<e.filters.length;i++)if((n=e.filters[i]).op!==(r=t.filters[i]).op||!n.field.isEqual(r.field)||!hl(n.value,r.value))return!1;var n,r;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!$l(e.startAt,t.startAt)&&$l(e.endAt,t.endAt)}function Ol(e){return cl.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class Rl extends class{}{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.R(e,t,n):new Dl(e,t,n):"array-contains"===t?new Fl(e,n):"in"===t?new Ul(e,n):"not-in"===t?new Vl(e,n):"array-contains-any"===t?new jl(e,n):new Rl(e,t,n)}static R(e,t,n){return"in"===t?new Pl(e,n):new Ll(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.P(fl(t,this.value)):null!==t&&ll(this.value)===ll(t)&&this.P(fl(t,this.value))}P(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Tc()}}v(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Dl extends Rl{constructor(e,t,n){super(e,t,n),this.key=cl.fromName(n.referenceValue)}matches(e){const t=cl.comparator(e.key,this.key);return this.P(t)}}class Pl extends Rl{constructor(e,t){super(e,"in",t),this.keys=Ml(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Ll extends Rl{constructor(e,t){super(e,"not-in",t),this.keys=Ml(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Ml(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>cl.fromName(e.referenceValue))}class Fl extends Rl{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return _l(t)&&dl(t.arrayValue,this.value)}}class Ul extends Rl{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&dl(this.value.arrayValue,t)}}class Vl extends Rl{constructor(e,t){super(e,"not-in",t)}matches(e){if(dl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!dl(this.value.arrayValue,t)}}class jl extends Rl{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!_l(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>dl(this.value.arrayValue,e))}}class ql{constructor(e,t){this.position=e,this.before=t}}function Bl(e){return`${e.before?"b":"a"}:${e.position.map(e=>gl(e)).join(",")}`}class zl{constructor(e,t="asc"){this.field=e,this.dir=t}}function Zl(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Hl(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(r=s.field.isKeyField()?cl.comparator(cl.fromName(o.referenceValue),n.key):fl(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function $l(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!hl(e.position[n],t.position[n]))return!1;return!0}class Gl{constructor(e,t=null,n=[],r=[],i=null,s="F",o=null,a=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.V=null,this.S=null}}function Wl(e,t,n,r,i,s,o,a){return new Gl(e,t,n,r,i,s,o,a)}function Kl(e){return new Gl(e)}function Yl(e){return!ol(e.limit)&&"F"===e.limitType}function Ql(e){return!ol(e.limit)&&"L"===e.limitType}function Jl(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Xl(e){for(const t of e.filters)if(t.v())return t.field;return null}function eh(e){return null!==e.collectionGroup}function th(e){const t=Cc(e);if(null===t.V){t.V=[];const e=Xl(t),n=Jl(t);if(null!==e&&null===n)e.isKeyField()||t.V.push(new zl(e)),t.V.push(new zl(Yc.keyField(),"asc"));else{let e=!1;for(const n of t.explicitOrderBy)t.V.push(n),n.field.isKeyField()&&(e=!0);if(!e){const e=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.V.push(new zl(Yc.keyField(),e))}}}return t.V}function nh(e){const t=Cc(e);if(!t.S)if("F"===t.limitType)t.S=kl(t.path,t.collectionGroup,th(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const i of th(t))e.push(new zl(i.field,"desc"===i.dir?"asc":"desc"));const n=t.endAt?new ql(t.endAt.position,!t.endAt.before):null,r=t.startAt?new ql(t.startAt.position,!t.startAt.before):null;t.S=kl(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}return t.S}function rh(e,t,n){return new Gl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function ih(e,t){return Nl(nh(e),nh(t))&&e.limitType===t.limitType}function sh(e){return`${xl(nh(e))}|lt:${e.limitType}`}function oh(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(e=>{return`${(t=e).field.canonicalString()} ${t.op} ${gl(t.value)}`;var t}).join(", ")}]`),ol(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e)).join(", ")}]`),e.startAt&&(t+=", startAt: "+Bl(e.startAt)),e.endAt&&(t+=", endAt: "+Bl(e.endAt)),`Target(${t})`}(nh(e))}; limitType=${e.limitType})`}function ah(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):cl.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of e.explicitOrderBy)if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!Hl(e.startAt,th(e),t)||e.endAt&&Hl(e.endAt,th(e),t))}(e,t)}function uh(e){return(t,n)=>{let r=!1;for(const i of th(e)){const e=ch(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function ch(e,t,n){const r=e.field.isKeyField()?cl.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?fl(r,i):Tc()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Tc()}}function lh(e,t){if(e.D){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:al(t)?"-0":t}}function hh(e){return{integerValue:""+e}}function dh(e,t){return ul(t)?hh(t):lh(e,t)}class fh{constructor(){this._=void 0}}function ph(e,t,n){return e instanceof yh?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof vh?_h(e,t):e instanceof wh?bh(e,t):function(e,t){const n=mh(e,t),r=Eh(n)+Eh(e.C);return vl(n)&&vl(e.C)?hh(r):lh(e.N,r)}(e,t)}function gh(e,t,n){return e instanceof vh?_h(e,t):e instanceof wh?bh(e,t):n}function mh(e,t){return e instanceof Ih?vl(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}class yh extends fh{}class vh extends fh{constructor(e){super(),this.elements=e}}function _h(e,t){const n=Th(t);for(const r of e.elements)n.some(e=>hl(e,r))||n.push(r);return{arrayValue:{values:n}}}class wh extends fh{constructor(e){super(),this.elements=e}}function bh(e,t){let n=Th(t);for(const r of e.elements)n=n.filter(e=>!hl(e,r));return{arrayValue:{values:n}}}class Ih extends fh{constructor(e,t){super(),this.N=e,this.C=t}}function Eh(e){return tl(e.integerValue||e.doubleValue)}function Th(e){return _l(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Sh{constructor(e,t){this.field=e,this.transform=t}}class Ch{constructor(e,t){this.version=e,this.transformResults=t}}class Ah{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ah}static exists(e){return new Ah(void 0,e)}static updateTime(e){return new Ah(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function kh(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class xh{}function Nh(e,t,n){e instanceof Lh?function(e,t,n){const r=e.value.clone(),i=Uh(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Mh?function(e,t,n){if(!kh(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Uh(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Fh(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Oh(e,t,n){e instanceof Lh?function(e,t,n){if(!kh(e.precondition,t))return;const r=e.value.clone(),i=Vh(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(Ph(t),r).setHasLocalMutations()}(e,t,n):e instanceof Mh?function(e,t,n){if(!kh(e.precondition,t))return;const r=Vh(e.fieldTransforms,n,t),i=t.data;i.setAll(Fh(e)),i.setAll(r),t.convertToFoundDocument(Ph(t),i).setHasLocalMutations()}(e,t,n):function(e,t){kh(e.precondition,t)&&t.convertToNoDocument(zc.min())}(e,t)}function Rh(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=mh(r.transform,e||null);null!=i&&(null==n&&(n=Tl.empty()),n.set(r.field,i))}return n||null}function Dh(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&jc(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof vh&&t instanceof vh||e instanceof wh&&t instanceof wh?jc(e.elements,t.elements,hl):e instanceof Ih&&t instanceof Ih?hl(e.C,t.C):e instanceof yh&&t instanceof yh}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function Ph(e){return e.isFoundDocument()?e.version:zc.min()}class Lh extends xh{constructor(e,t,n,r=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}}class Mh extends xh{constructor(e,t,n,r,i=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}}function Fh(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function Uh(e,t,n){const r=new Map;Sc(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,gh(o,a,n[i]))}return r}function Vh(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,ph(e,s,t))}return r}class jh extends xh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class qh extends xh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class Bh{constructor(e){this.count=e}}var zh,Zh;function Hh(e){switch(e){case Ac.OK:return Tc();case Ac.CANCELLED:case Ac.UNKNOWN:case Ac.DEADLINE_EXCEEDED:case Ac.RESOURCE_EXHAUSTED:case Ac.INTERNAL:case Ac.UNAVAILABLE:case Ac.UNAUTHENTICATED:return!1;case Ac.INVALID_ARGUMENT:case Ac.NOT_FOUND:case Ac.ALREADY_EXISTS:case Ac.PERMISSION_DENIED:case Ac.FAILED_PRECONDITION:case Ac.ABORTED:case Ac.OUT_OF_RANGE:case Ac.UNIMPLEMENTED:case Ac.DATA_LOSS:return!0;default:return Tc()}}function $h(e){if(void 0===e)return bc("GRPC error has no .code"),Ac.UNKNOWN;switch(e){case zh.OK:return Ac.OK;case zh.CANCELLED:return Ac.CANCELLED;case zh.UNKNOWN:return Ac.UNKNOWN;case zh.DEADLINE_EXCEEDED:return Ac.DEADLINE_EXCEEDED;case zh.RESOURCE_EXHAUSTED:return Ac.RESOURCE_EXHAUSTED;case zh.INTERNAL:return Ac.INTERNAL;case zh.UNAVAILABLE:return Ac.UNAVAILABLE;case zh.UNAUTHENTICATED:return Ac.UNAUTHENTICATED;case zh.INVALID_ARGUMENT:return Ac.INVALID_ARGUMENT;case zh.NOT_FOUND:return Ac.NOT_FOUND;case zh.ALREADY_EXISTS:return Ac.ALREADY_EXISTS;case zh.PERMISSION_DENIED:return Ac.PERMISSION_DENIED;case zh.FAILED_PRECONDITION:return Ac.FAILED_PRECONDITION;case zh.ABORTED:return Ac.ABORTED;case zh.OUT_OF_RANGE:return Ac.OUT_OF_RANGE;case zh.UNIMPLEMENTED:return Ac.UNIMPLEMENTED;case zh.DATA_LOSS:return Ac.DATA_LOSS;default:return Tc()}}(Zh=zh||(zh={}))[Zh.OK=0]="OK",Zh[Zh.CANCELLED=1]="CANCELLED",Zh[Zh.UNKNOWN=2]="UNKNOWN",Zh[Zh.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Zh[Zh.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Zh[Zh.NOT_FOUND=5]="NOT_FOUND",Zh[Zh.ALREADY_EXISTS=6]="ALREADY_EXISTS",Zh[Zh.PERMISSION_DENIED=7]="PERMISSION_DENIED",Zh[Zh.UNAUTHENTICATED=16]="UNAUTHENTICATED",Zh[Zh.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Zh[Zh.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Zh[Zh.ABORTED=10]="ABORTED",Zh[Zh.OUT_OF_RANGE=11]="OUT_OF_RANGE",Zh[Zh.UNIMPLEMENTED=12]="UNIMPLEMENTED",Zh[Zh.INTERNAL=13]="INTERNAL",Zh[Zh.UNAVAILABLE=14]="UNAVAILABLE",Zh[Zh.DATA_LOSS=15]="DATA_LOSS";class Gh{constructor(e,t){this.comparator=e,this.root=t||Kh.EMPTY}insert(e,t){return new Gh(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Kh.BLACK,null,null))}remove(e){return new Gh(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Kh.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push(`${t}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Wh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Wh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Wh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Wh(this.root,e,this.comparator,!0)}}class Wh{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Kh{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Kh.RED,this.left=null!=r?r:Kh.EMPTY,this.right=null!=i?i:Kh.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new Kh(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Kh.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Kh.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Kh.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Kh.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Tc();if(this.right.isRed())throw Tc();const e=this.left.check();if(e!==this.right.check())throw Tc();return e+(this.isRed()?0:1)}}Kh.EMPTY=null,Kh.RED=!0,Kh.BLACK=!1,Kh.EMPTY=new class{constructor(){this.size=0}get key(){throw Tc()}get value(){throw Tc()}get color(){throw Tc()}get left(){throw Tc()}get right(){throw Tc()}copy(e,t,n,r,i){return this}insert(e,t,n){return new Kh(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Yh{constructor(e){this.comparator=e,this.data=new Gh(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Qh(this.data.getIterator())}getIteratorFrom(e){return new Qh(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof Yh))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Yh(this.comparator);return t.data=e,t}}class Qh{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const Jh=new Gh(cl.comparator);function Xh(){return Jh}const ed=new Gh(cl.comparator);function td(){return ed}const nd=new Gh(cl.comparator);function rd(){return nd}const id=new Yh(cl.comparator);function sd(...e){let t=id;for(const n of e)t=t.add(n);return t}const od=new Yh(Vc);function ad(){return od}class ud{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t){const n=new Map;return n.set(e,cd.createSynthesizedTargetChangeForCurrentChange(e,t)),new ud(zc.min(),n,ad(),Xh(),sd())}}class cd{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t){return new cd(Jc.EMPTY_BYTE_STRING,t,sd(),sd(),sd())}}class ld{constructor(e,t,n,r){this.k=e,this.removedTargetIds=t,this.key=n,this.$=r}}class hd{constructor(e,t){this.targetId=e,this.O=t}}class dd{constructor(e,t,n=Jc.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class fd{constructor(){this.F=0,this.M=md(),this.L=Jc.EMPTY_BYTE_STRING,this.B=!1,this.U=!0}get current(){return this.B}get resumeToken(){return this.L}get q(){return 0!==this.F}get K(){return this.U}j(e){e.approximateByteSize()>0&&(this.U=!0,this.L=e)}W(){let e=sd(),t=sd(),n=sd();return this.M.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Tc()}}),new cd(this.L,this.B,e,t,n)}G(){this.U=!1,this.M=md()}H(e,t){this.U=!0,this.M=this.M.insert(e,t)}J(e){this.U=!0,this.M=this.M.remove(e)}Y(){this.F+=1}X(){this.F-=1}Z(){this.U=!0,this.B=!0}}class pd{constructor(e){this.tt=e,this.et=new Map,this.nt=Xh(),this.st=gd(),this.it=new Yh(Vc)}rt(e){for(const t of e.k)e.$&&e.$.isFoundDocument()?this.ot(t,e.$):this.at(t,e.key,e.$);for(const t of e.removedTargetIds)this.at(t,e.key,e.$)}ct(e){this.forEachTarget(e,t=>{const n=this.ut(t);switch(e.state){case 0:this.ht(t)&&n.j(e.resumeToken);break;case 1:n.X(),n.q||n.G(),n.j(e.resumeToken);break;case 2:n.X(),n.q||this.removeTarget(t);break;case 3:this.ht(t)&&(n.Z(),n.j(e.resumeToken));break;case 4:this.ht(t)&&(this.lt(t),n.j(e.resumeToken));break;default:Tc()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.et.forEach((e,n)=>{this.ht(n)&&t(n)})}ft(e){const t=e.targetId,n=e.O.count,r=this.dt(t);if(r){const e=r.target;if(Ol(e))if(0===n){const n=new cl(e.path);this.at(t,n,Cl.newNoDocument(n,zc.min()))}else Sc(1===n);else this.wt(t)!==n&&(this.lt(t),this.it=this.it.add(t))}}_t(e){const t=new Map;this.et.forEach((n,r)=>{const i=this.dt(r);if(i){if(n.current&&Ol(i.target)){const t=new cl(i.target.path);null!==this.nt.get(t)||this.gt(r,t)||this.at(r,t,Cl.newNoDocument(t,e))}n.K&&(t.set(r,n.W()),n.G())}});let n=sd();this.st.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this.dt(e);return!t||2===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))});const r=new ud(e,t,this.it,this.nt,n);return this.nt=Xh(),this.st=gd(),this.it=new Yh(Vc),r}ot(e,t){if(!this.ht(e))return;const n=this.gt(e,t.key)?2:0;this.ut(e).H(t.key,n),this.nt=this.nt.insert(t.key,t),this.st=this.st.insert(t.key,this.yt(t.key).add(e))}at(e,t,n){if(!this.ht(e))return;const r=this.ut(e);this.gt(e,t)?r.H(t,1):r.J(t),this.st=this.st.insert(t,this.yt(t).delete(e)),n&&(this.nt=this.nt.insert(t,n))}removeTarget(e){this.et.delete(e)}wt(e){const t=this.ut(e).W();return this.tt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Y(e){this.ut(e).Y()}ut(e){let t=this.et.get(e);return t||(t=new fd,this.et.set(e,t)),t}yt(e){let t=this.st.get(e);return t||(t=new Yh(Vc),this.st=this.st.insert(e,t)),t}ht(e){const t=null!==this.dt(e);return t||wc("WatchChangeAggregator","Detected inactive target",e),t}dt(e){const t=this.et.get(e);return t&&t.q?null:this.tt.Et(e)}lt(e){this.et.set(e,new fd),this.tt.getRemoteKeysForTarget(e).forEach(t=>{this.at(e,t,null)})}gt(e,t){return this.tt.getRemoteKeysForTarget(e).has(t)}}function gd(){return new Gh(cl.comparator)}function md(){return new Gh(cl.comparator)}const yd={asc:"ASCENDING",desc:"DESCENDING"},vd={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class _d{constructor(e,t){this.databaseId=e,this.D=t}}function wd(e,t){return e.D?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function bd(e,t){return e.D?t.toBase64():t.toUint8Array()}function Id(e,t){return wd(e,t.toTimestamp())}function Ed(e){return Sc(!!e),zc.fromTimestamp(function(e){const t=el(e);return new Bc(t.seconds,t.nanos)}(e))}function Td(e,t){return function(e){return new Wc(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Sd(e){const t=Wc.fromString(e);return Sc(Kd(t)),t}function Cd(e,t){return Td(e.databaseId,t.path)}function Ad(e,t){const n=Sd(t);if(n.get(1)!==e.databaseId.projectId)throw new kc(Ac.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new kc(Ac.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new cl(Od(n))}function kd(e,t){return Td(e.databaseId,t)}function xd(e){const t=Sd(e);return 4===t.length?Wc.emptyPath():Od(t)}function Nd(e){return new Wc(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Od(e){return Sc(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Rd(e,t,n){return{name:Cd(e,t),fields:n.value.mapValue.fields}}function Dd(e,t,n){const r=Ad(e,t.name),i=Ed(t.updateTime),s=new Tl({mapValue:{fields:t.fields}}),o=Cl.newFoundDocument(r,i,s);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function Pd(e,t){let n;if(t instanceof Lh)n={update:Rd(e,t.key,t.value)};else if(t instanceof jh)n={delete:Cd(e,t.key)};else if(t instanceof Mh)n={update:Rd(e,t.key,t.data),updateMask:Wd(t.fieldMask)};else{if(!(t instanceof qh))return Tc();n={verify:Cd(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof yh)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof vh)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof wh)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Ih)return{fieldPath:t.field.canonicalString(),increment:n.C};throw Tc()}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Id(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Tc()}(e,t.precondition)),n}function Ld(e,t){const n=t.currentDocument?function(e){return void 0!==e.updateTime?Ah.updateTime(Ed(e.updateTime)):void 0!==e.exists?Ah.exists(e.exists):Ah.none()}(t.currentDocument):Ah.none(),r=t.updateTransforms?t.updateTransforms.map(t=>function(e,t){let n=null;"setToServerValue"in t?(Sc("REQUEST_TIME"===t.setToServerValue),n=new yh):"appendMissingElements"in t?n=new vh(t.appendMissingElements.values||[]):"removeAllFromArray"in t?n=new wh(t.removeAllFromArray.values||[]):"increment"in t?n=new Ih(e,t.increment):Tc();const r=Yc.fromServerFormat(t.fieldPath);return new Sh(r,n)}(e,t)):[];if(t.update){const i=Ad(e,t.update.name),s=new Tl({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=function(e){return new Qc((e.fieldPaths||[]).map(e=>Yc.fromServerFormat(e)))}(t.updateMask);return new Mh(i,s,e,n,r)}return new Lh(i,s,n,r)}if(t.delete){const r=Ad(e,t.delete);return new jh(r,n)}if(t.verify){const r=Ad(e,t.verify);return new qh(r,n)}return Tc()}function Md(e,t){return{documents:[kd(e,t.path)]}}function Fd(e,t){const n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=kd(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=kd(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(e){if(0===e.length)return;const t=e.map(e=>function(e){if("=="===e.op){if(bl(e.value))return{unaryFilter:{field:Zd(e.field),op:"IS_NAN"}};if(wl(e.value))return{unaryFilter:{field:Zd(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(bl(e.value))return{unaryFilter:{field:Zd(e.field),op:"IS_NOT_NAN"}};if(wl(e.value))return{unaryFilter:{field:Zd(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Zd(e.field),op:zd(e.op),value:e.value}}}(e));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}(t.filters);i&&(n.structuredQuery.where=i);const s=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:Zd(e.field),direction:Bd(e.dir)}}(e))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const o=function(e,t){return e.D||ol(t)?t:{value:t}}(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=jd(t.startAt)),t.endAt&&(n.structuredQuery.endAt=jd(t.endAt)),n}function Ud(e){let t=xd(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Sc(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=Vd(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(e=>function(e){return new zl(Hd(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,ol(t)?null:t}(n.limit));let u=null;n.startAt&&(u=qd(n.startAt));let c=null;return n.endAt&&(c=qd(n.endAt)),Wl(t,i,o,s,a,"F",u,c)}function Vd(e){return e?void 0!==e.unaryFilter?[Gd(e)]:void 0!==e.fieldFilter?[$d(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map(e=>Vd(e)).reduce((e,t)=>e.concat(t)):Tc():[]}function jd(e){return{before:e.before,values:e.position}}function qd(e){return new ql(e.values||[],!!e.before)}function Bd(e){return yd[e]}function zd(e){return vd[e]}function Zd(e){return{fieldPath:e.canonicalString()}}function Hd(e){return Yc.fromServerFormat(e.fieldPath)}function $d(e){return Rl.create(Hd(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Tc()}}(e.fieldFilter.op),e.fieldFilter.value)}function Gd(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Hd(e.unaryFilter.field);return Rl.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Hd(e.unaryFilter.field);return Rl.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Hd(e.unaryFilter.field);return Rl.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Hd(e.unaryFilter.field);return Rl.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Tc()}}function Wd(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function Kd(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function Yd(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Jd(t)),t=Qd(e.get(n),t);return Jd(t)}function Qd(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=t}}return n}function Jd(e){return e+"\x01\x01"}function Xd(e){const t=e.length;if(Sc(t>=2),2===t)return Sc("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Wc.emptyPath();const n=t-2,r=[];let i="";for(let s=0;s<t;){const t=e.indexOf("\x01",s);switch((t<0||t>n)&&Tc(),e.charAt(t+1)){case"\x01":const n=e.substring(s,t);let o;0===i.length?o=n:(i+=n,o=i,i=""),r.push(o);break;case"\x10":i+=e.substring(s,t),i+="\0";break;case"\x11":i+=e.substring(s,t+1);break;default:Tc()}s=t+2}return new Wc(r)}class ef{constructor(e,t){this.seconds=e,this.nanoseconds=t}}let tf=(()=>{class e{constructor(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n}}return e.store="owner",e.key="owner",e})(),nf=(()=>{class e{constructor(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n}}return e.store="mutationQueues",e.keyPath="userId",e})();class rf{constructor(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i}}rf.store="mutations",rf.keyPath="batchId",rf.userMutationsIndex="userMutationsIndex",rf.userMutationsKeyPath=["userId","batchId"];let sf=(()=>{class e{constructor(){}static prefixForUser(e){return[e]}static prefixForPath(e,t){return[e,Yd(t)]}static key(e,t,n){return[e,Yd(t),n]}}return e.store="documentMutations",e.PLACEHOLDER=new e,e})();class of{constructor(e,t){this.path=e,this.readTime=t}}class af{constructor(e,t){this.path=e,this.version=t}}class uf{constructor(e,t,n,r,i,s){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=s}}uf.store="remoteDocuments",uf.readTimeIndex="readTimeIndex",uf.readTimeIndexPath="readTime",uf.collectionReadTimeIndex="collectionReadTimeIndex",uf.collectionReadTimeIndexPath=["parentPath","readTime"];let cf=(()=>{class e{constructor(e){this.byteSize=e}}return e.store="remoteDocumentGlobal",e.key="remoteDocumentGlobalKey",e})();class lf{constructor(e,t,n,r,i,s,o){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=s,this.query=o}}lf.store="targets",lf.keyPath="targetId",lf.queryTargetsIndexName="queryTargetsIndex",lf.queryTargetsKeyPath=["canonicalId","targetId"];class hf{constructor(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n}}hf.store="targetDocuments",hf.keyPath=["targetId","path"],hf.documentTargetsIndex="documentTargetsIndex",hf.documentTargetsKeyPath=["path","targetId"];let df=(()=>{class e{constructor(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r}}return e.key="targetGlobalKey",e.store="targetGlobal",e})(),ff=(()=>{class e{constructor(e,t){this.collectionId=e,this.parent=t}}return e.store="collectionParents",e.keyPath=["collectionId","parent"],e})(),pf=(()=>{class e{constructor(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r}}return e.store="clientMetadata",e.keyPath="clientId",e})(),gf=(()=>{class e{constructor(e,t,n){this.bundleId=e,this.createTime=t,this.version=n}}return e.store="bundles",e.keyPath="bundleId",e})(),mf=(()=>{class e{constructor(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n}}return e.store="namedQueries",e.keyPath="name",e})();const yf=[nf.store,rf.store,sf.store,uf.store,lf.store,tf.store,df.store,hf.store,pf.store,cf.store,ff.store,gf.store,mf.store],vf="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class _f{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class wf{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Tc(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new wf((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof wf?t:wf.resolve(t)}catch(e){return wf.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):wf.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):wf.reject(t)}static resolve(e){return new wf((t,n)=>{t(e)})}static reject(e){return new wf((t,n)=>{n(e)})}static waitFor(e){return new wf((t,n)=>{let r=0,i=0,s=!1;e.forEach(e=>{++r,e.next(()=>{++i,s&&i===r&&t()},e=>n(e))}),s=!0,i===r&&t()})}static or(e){let t=wf.resolve(!1);for(const n of e)t=t.next(e=>e?wf.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}}class bf{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.Tt=new xc,this.transaction.oncomplete=()=>{this.Tt.resolve()},this.transaction.onabort=()=>{t.error?this.Tt.reject(new Tf(e,t.error)):this.Tt.resolve()},this.transaction.onerror=t=>{const n=xf(t.target.error);this.Tt.reject(new Tf(e,n))}}static open(e,t,n,r){try{return new bf(t,e.transaction(r,n))}catch(e){throw new Tf(t,e)}}get It(){return this.Tt.promise}abort(e){e&&this.Tt.reject(e),this.aborted||(wc("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(e){const t=this.transaction.objectStore(e);return new Cf(t)}}class If{constructor(e,t,n){this.name=e,this.version=t,this.At=n,12.2===If.Rt((0,as.z$)())&&bc("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return wc("SimpleDb","Removing database:",e),Af(window.indexedDB.deleteDatabase(e)).toPromise()}static Pt(){if("undefined"==typeof indexedDB)return!1;if(If.bt())return!0;const e=(0,as.z$)(),t=If.Rt(e),n=0<t&&t<10,r=If.vt(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static bt(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Vt)}static St(e,t){return e.store(t)}static Rt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static vt(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}Dt(e){var t=this;return(0,rs.Z)(function*(){return t.db||(wc("SimpleDb","Opening database:",t.name),t.db=yield new Promise((n,r)=>{const i=indexedDB.open(t.name,t.version);i.onsuccess=e=>{n(e.target.result)},i.onblocked=()=>{r(new Tf(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=t=>{const n=t.target.error;r("VersionError"===n.name?new kc(Ac.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new Tf(e,n))},i.onupgradeneeded=e=>{wc("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',e.oldVersion),t.At.Ct(e.target.result,i.transaction,e.oldVersion,t.version).next(()=>{wc("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Nt&&(t.db.onversionchange=e=>t.Nt(e)),t.db})()}xt(e){this.Nt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,n,r){var i=this;return(0,rs.Z)(function*(){const s="readonly"===t;let o=0;for(;;){++o;try{i.db=yield i.Dt(e);const t=bf.open(i.db,e,s?"readonly":"readwrite",n),o=r(t).catch(e=>(t.abort(e),wf.reject(e))).toPromise();return o.catch(()=>{}),yield t.It,o}catch(e){const n="FirebaseError"!==e.name&&o<3;if(wc("SimpleDb","Transaction failed with error:",e.message,"Retrying:",n),i.close(),!n)return Promise.reject(e)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Ef{constructor(e){this.kt=e,this.$t=!1,this.Ot=null}get isDone(){return this.$t}get Ft(){return this.Ot}set cursor(e){this.kt=e}done(){this.$t=!0}Mt(e){this.Ot=e}delete(){return Af(this.kt.delete())}}class Tf extends kc{constructor(e,t){super(Ac.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Sf(e){return"IndexedDbTransactionError"===e.name}class Cf{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(wc("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(wc("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Af(n)}add(e){return wc("SimpleDb","ADD",this.store.name,e,e),Af(this.store.add(e))}get(e){return Af(this.store.get(e)).next(t=>(void 0===t&&(t=null),wc("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return wc("SimpleDb","DELETE",this.store.name,e),Af(this.store.delete(e))}count(){return wc("SimpleDb","COUNT",this.store.name),Af(this.store.count())}Lt(e,t){const n=this.cursor(this.options(e,t)),r=[];return this.Bt(n,(e,t)=>{r.push(t)}).next(()=>r)}Ut(e,t){wc("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.qt=!1;const r=this.cursor(n);return this.Bt(r,(e,t,n)=>n.delete())}Kt(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.Bt(r,t)}jt(e){const t=this.cursor({});return new wf((n,r)=>{t.onerror=e=>{const t=xf(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next(e=>{e?r.continue():n()}):n()}})}Bt(e,t){const n=[];return new wf((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{const i=e.target.result;if(!i)return void r();const s=new Ef(i),o=t(i.primaryKey,i.value,s);if(o instanceof wf){const e=o.catch(e=>(s.done(),wf.reject(e)));n.push(e)}s.isDone?r():null===s.Ft?i.continue():i.continue(s.Ft)}}).next(()=>wf.waitFor(n))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.qt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Af(e){return new wf((t,n)=>{e.onsuccess=e=>{t(e.target.result)},e.onerror=e=>{const t=xf(e.target.error);n(t)}})}let kf=!1;function xf(e){const t=If.Rt((0,as.z$)());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new kc("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return kf||(kf=!0,setTimeout(()=>{throw e},0)),e}}return e}class Nf extends _f{constructor(e,t){super(),this.Qt=e,this.currentSequenceNumber=t}}function Of(e,t){const n=Cc(e);return If.St(n.Qt,t)}class Rf{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Nh(t,e,n[r])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&Oh(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&Oh(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const n=e.get(t.key),r=n;this.applyToLocalView(r),n.isValidDocument()||r.convertToNoDocument(zc.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),sd())}isEqual(e){return this.batchId===e.batchId&&jc(this.mutations,e.mutations,(e,t)=>Dh(e,t))&&jc(this.baseMutations,e.baseMutations,(e,t)=>Dh(e,t))}}class Df{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Sc(e.mutations.length===n.length);let r=rd();const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new Df(e,t,n,r)}}class Pf{constructor(e,t,n,r,i=zc.min(),s=zc.min(),o=Jc.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o}withSequenceNumber(e){return new Pf(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Pf(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Pf(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Lf{constructor(e){this.Wt=e}}function Mf(e,t){if(t.document)return Dd(e.Wt,t.document,!!t.hasCommittedMutations);if(t.noDocument){const e=cl.fromSegments(t.noDocument.path),n=qf(t.noDocument.readTime),r=Cl.newNoDocument(e,n);return t.hasCommittedMutations?r.setHasCommittedMutations():r}if(t.unknownDocument){const e=cl.fromSegments(t.unknownDocument.path),n=qf(t.unknownDocument.version);return Cl.newUnknownDocument(e,n)}return Tc()}function Ff(e,t,n){const r=Uf(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){const n=function(e,t){return{name:Cd(e,t.key),fields:t.data.value.mapValue.fields,updateTime:wd(e,t.version.toTimestamp())}}(e.Wt,t);return new uf(null,null,n,t.hasCommittedMutations,r,i)}if(t.isNoDocument()){const e=t.key.path.toArray(),n=jf(t.version),s=t.hasCommittedMutations;return new uf(null,new of(e,n),null,s,r,i)}if(t.isUnknownDocument()){const e=t.key.path.toArray(),n=jf(t.version);return new uf(new af(e,n),null,null,!0,r,i)}return Tc()}function Uf(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Vf(e){const t=new Bc(e[0],e[1]);return zc.fromTimestamp(t)}function jf(e){const t=e.toTimestamp();return new ef(t.seconds,t.nanoseconds)}function qf(e){const t=new Bc(e.seconds,e.nanoseconds);return zc.fromTimestamp(t)}function Bf(e,t){const n=(t.baseMutations||[]).map(t=>Ld(e.Wt,t));for(let s=0;s<t.mutations.length-1;++s){const e=t.mutations[s];s+1<t.mutations.length&&void 0!==t.mutations[s+1].transform&&(e.updateTransforms=t.mutations[s+1].transform.fieldTransforms,t.mutations.splice(s+1,1),++s)}const r=t.mutations.map(t=>Ld(e.Wt,t)),i=Bc.fromMillis(t.localWriteTimeMs);return new Rf(t.batchId,i,n,r)}function zf(e){const t=qf(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?qf(e.lastLimboFreeSnapshotVersion):zc.min();let r;var i;return void 0!==e.query.documents?(Sc(1===(i=e.query).documents.length),r=nh(Kl(xd(i.documents[0])))):r=function(e){return nh(Ud(e))}(e.query),new Pf(r,e.targetId,0,e.lastListenSequenceNumber,t,n,Jc.fromBase64String(e.resumeToken))}function Zf(e,t){const n=jf(t.snapshotVersion),r=jf(t.lastLimboFreeSnapshotVersion);let i;i=Ol(t.target)?Md(e.Wt,t.target):Fd(e.Wt,t.target);const s=t.resumeToken.toBase64();return new lf(t.targetId,xl(t.target),n,s,t.sequenceNumber,r,i)}function Hf(e){const t=Ud({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?rh(t,t.limit,"L"):t}class $f{getBundleMetadata(e,t){return Gf(e).get(t).next(e=>{if(e)return{id:(t=e).bundleId,createTime:qf(t.createTime),version:t.version};var t})}saveBundleMetadata(e,t){return Gf(e).put({bundleId:(n=t).id,createTime:jf(Ed(n.createTime)),version:n.version});var n}getNamedQuery(e,t){return Wf(e).get(t).next(e=>{if(e)return{name:(t=e).name,query:Hf(t.bundledQuery),readTime:qf(t.readTime)};var t})}saveNamedQuery(e,t){return Wf(e).put(function(e){return{name:e.name,readTime:jf(Ed(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}function Gf(e){return Of(e,gf.store)}function Wf(e){return Of(e,mf.store)}class Kf{constructor(){this.Gt=new Yf}addToCollectionParentIndex(e,t){return this.Gt.add(t),wf.resolve()}getCollectionParents(e,t){return wf.resolve(this.Gt.getEntries(t))}}class Yf{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Yh(Wc.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Yh(Wc.comparator)).toArray()}}class Qf{constructor(){this.zt=new Yf}addToCollectionParentIndex(e,t){if(!this.zt.has(t)){const n=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.zt.add(t)});const i={collectionId:n,parent:Yd(r)};return Jf(e).put(i)}return wf.resolve()}getCollectionParents(e,t){const n=[],r=IDBKeyRange.bound([t,""],[qc(t),""],!1,!0);return Jf(e).Lt(r).next(e=>{for(const r of e){if(r.collectionId!==t)break;n.push(Xd(r.parent))}return n})}}function Jf(e){return Of(e,ff.store)}const Xf={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ep{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new ep(e,ep.DEFAULT_COLLECTION_PERCENTILE,ep.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function tp(e,t,n){const r=e.store(rf.store),i=e.store(sf.store),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const u=r.Kt({range:o},(e,t,n)=>(a++,n.delete()));s.push(u.next(()=>{Sc(1===a)}));const c=[];for(const l of n.mutations){const e=sf.key(t,l.key.path,n.batchId);s.push(i.delete(e)),c.push(l.key)}return wf.waitFor(s).next(()=>c)}function np(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Tc();t=e.noDocument}return JSON.stringify(t).length}ep.DEFAULT_COLLECTION_PERCENTILE=10,ep.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ep.DEFAULT=new ep(41943040,ep.DEFAULT_COLLECTION_PERCENTILE,ep.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ep.DISABLED=new ep(-1,0,0);class rp{constructor(e,t,n,r){this.userId=e,this.N=t,this.Ht=n,this.referenceDelegate=r,this.Jt={}}static Yt(e,t,n,r){Sc(""!==e.uid);const i=e.isAuthenticated()?e.uid:"";return new rp(i,t,n,r)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return sp(e).Kt({index:rf.userMutationsIndex,range:n},(e,n,r)=>{t=!1,r.done()}).next(()=>t)}addMutationBatch(e,t,n,r){const i=op(e),s=sp(e);return s.add({}).next(o=>{Sc("number"==typeof o);const a=new Rf(o,t,n,r),u=function(e,t,n){const r=n.baseMutations.map(t=>Pd(e.Wt,t)),i=n.mutations.map(t=>Pd(e.Wt,t));return new rf(t,n.batchId,n.localWriteTime.toMillis(),r,i)}(this.N,this.userId,a),c=[];let l=new Yh((e,t)=>Vc(e.canonicalString(),t.canonicalString()));for(const e of r){const t=sf.key(this.userId,e.key.path,o);l=l.add(e.key.path.popLast()),c.push(s.put(u)),c.push(i.put(t,sf.PLACEHOLDER))}return l.forEach(t=>{c.push(this.Ht.addToCollectionParentIndex(e,t))}),e.addOnCommittedListener(()=>{this.Jt[o]=a.keys()}),wf.waitFor(c).next(()=>a)})}lookupMutationBatch(e,t){return sp(e).get(t).next(e=>e?(Sc(e.userId===this.userId),Bf(this.N,e)):null)}Xt(e,t){return this.Jt[t]?wf.resolve(this.Jt[t]):this.lookupMutationBatch(e,t).next(e=>{if(e){const n=e.keys();return this.Jt[t]=n,n}return null})}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=IDBKeyRange.lowerBound([this.userId,n]);let i=null;return sp(e).Kt({index:rf.userMutationsIndex,range:r},(e,t,r)=>{t.userId===this.userId&&(Sc(t.batchId>=n),i=Bf(this.N,t)),r.done()}).next(()=>i)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return sp(e).Kt({index:rf.userMutationsIndex,range:t,reverse:!0},(e,t,r)=>{n=t.batchId,r.done()}).next(()=>n)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return sp(e).Lt(rf.userMutationsIndex,t).next(e=>e.map(e=>Bf(this.N,e)))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=sf.prefixForPath(this.userId,t.path),r=IDBKeyRange.lowerBound(n),i=[];return op(e).Kt({range:r},(n,r,s)=>{const[o,a,u]=n,c=Xd(a);if(o===this.userId&&t.path.isEqual(c))return sp(e).get(u).next(e=>{if(!e)throw Tc();Sc(e.userId===this.userId),i.push(Bf(this.N,e))});s.done()}).next(()=>i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Yh(Vc);const r=[];return t.forEach(t=>{const i=sf.prefixForPath(this.userId,t.path),s=IDBKeyRange.lowerBound(i),o=op(e).Kt({range:s},(e,r,i)=>{const[s,o,a]=e,u=Xd(o);s===this.userId&&t.path.isEqual(u)?n=n.add(a):i.done()});r.push(o)}),wf.waitFor(r).next(()=>this.Zt(e,n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1,i=sf.prefixForPath(this.userId,n),s=IDBKeyRange.lowerBound(i);let o=new Yh(Vc);return op(e).Kt({range:s},(e,t,i)=>{const[s,a,u]=e,c=Xd(a);s===this.userId&&n.isPrefixOf(c)?c.length===r&&(o=o.add(u)):i.done()}).next(()=>this.Zt(e,o))}Zt(e,t){const n=[],r=[];return t.forEach(t=>{r.push(sp(e).get(t).next(e=>{if(null===e)throw Tc();Sc(e.userId===this.userId),n.push(Bf(this.N,e))}))}),wf.waitFor(r).next(()=>n)}removeMutationBatch(e,t){return tp(e.Qt,this.userId,t).next(n=>(e.addOnCommittedListener(()=>{this.te(t.batchId)}),wf.forEach(n,t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))}te(e){delete this.Jt[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return wf.resolve();const n=IDBKeyRange.lowerBound(sf.prefixForUser(this.userId)),r=[];return op(e).Kt({range:n},(e,t,n)=>{if(e[0]===this.userId){const t=Xd(e[1]);r.push(t)}else n.done()}).next(()=>{Sc(0===r.length)})})}containsKey(e,t){return ip(e,this.userId,t)}ee(e){return ap(e).get(this.userId).next(e=>e||new nf(this.userId,-1,""))}}function ip(e,t,n){const r=sf.prefixForPath(t,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return op(e).Kt({range:s,qt:!0},(e,n,r)=>{const[s,a,u]=e;s===t&&a===i&&(o=!0),r.done()}).next(()=>o)}function sp(e){return Of(e,rf.store)}function op(e){return Of(e,sf.store)}function ap(e){return Of(e,nf.store)}class up{constructor(e){this.ne=e}next(){return this.ne+=2,this.ne}static se(){return new up(0)}static ie(){return new up(-1)}}class cp{constructor(e,t){this.referenceDelegate=e,this.N=t}allocateTargetId(e){return this.re(e).next(t=>{const n=new up(t.highestTargetId);return t.highestTargetId=n.next(),this.oe(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.re(e).next(e=>zc.fromTimestamp(new Bc(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.re(e).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(e,t,n){return this.re(e).next(r=>(r.highestListenSequenceNumber=t,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.oe(e,r)))}addTargetData(e,t){return this.ae(e,t).next(()=>this.re(e).next(n=>(n.targetCount+=1,this.ce(t,n),this.oe(e,n))))}updateTargetData(e,t){return this.ae(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>lp(e).delete(t.targetId)).next(()=>this.re(e)).next(t=>(Sc(t.targetCount>0),t.targetCount-=1,this.oe(e,t)))}removeTargets(e,t,n){let r=0;const i=[];return lp(e).Kt((s,o)=>{const a=zf(o);a.sequenceNumber<=t&&null===n.get(a.targetId)&&(r++,i.push(this.removeTargetData(e,a)))}).next(()=>wf.waitFor(i)).next(()=>r)}forEachTarget(e,t){return lp(e).Kt((e,n)=>{const r=zf(n);t(r)})}re(e){return hp(e).get(df.key).next(e=>(Sc(null!==e),e))}oe(e,t){return hp(e).put(df.key,t)}ae(e,t){return lp(e).put(Zf(this.N,t))}ce(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.re(e).next(e=>e.targetCount)}getTargetData(e,t){const n=xl(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let i=null;return lp(e).Kt({range:r,index:lf.queryTargetsIndexName},(e,n,r)=>{const s=zf(n);Nl(t,s.target)&&(i=s,r.done())}).next(()=>i)}addMatchingKeys(e,t,n){const r=[],i=dp(e);return t.forEach(t=>{const s=Yd(t.path);r.push(i.put(new hf(n,s))),r.push(this.referenceDelegate.addReference(e,n,t))}),wf.waitFor(r)}removeMatchingKeys(e,t,n){const r=dp(e);return wf.forEach(t,t=>{const i=Yd(t.path);return wf.waitFor([r.delete([n,i]),this.referenceDelegate.removeReference(e,n,t)])})}removeMatchingKeysForTargetId(e,t){const n=dp(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),r=dp(e);let i=sd();return r.Kt({range:n,qt:!0},(e,t,n)=>{const r=Xd(e[1]),s=new cl(r);i=i.add(s)}).next(()=>i)}containsKey(e,t){const n=Yd(t.path),r=IDBKeyRange.bound([n],[qc(n)],!1,!0);let i=0;return dp(e).Kt({index:hf.documentTargetsIndex,qt:!0,range:r},([e,t],n,r)=>{0!==e&&(i++,r.done())}).next(()=>i>0)}Et(e,t){return lp(e).get(t).next(e=>e?zf(e):null)}}function lp(e){return Of(e,lf.store)}function hp(e){return Of(e,df.store)}function dp(e){return Of(e,hf.store)}function fp(e){return pp.apply(this,arguments)}function pp(){return(pp=(0,rs.Z)(function*(e){if(e.code!==Ac.FAILED_PRECONDITION||e.message!==vf)throw e;wc("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}function gp([e,t],[n,r]){const i=Vc(e,n);return 0===i?Vc(t,r):i}class mp{constructor(e){this.ue=e,this.buffer=new Yh(gp),this.he=0}le(){return++this.he}fe(e){const t=[e,this.le()];if(this.buffer.size<this.ue)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();gp(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class yp{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.de=!1,this.we=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this._e(e)}stop(){this.we&&(this.we.cancel(),this.we=null)}get started(){return null!==this.we}_e(e){var t=this;const n=this.de?3e5:6e4;wc("LruGarbageCollector",`Garbage collection scheduled in ${n}ms`),this.we=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(0,rs.Z)(function*(){t.we=null,t.de=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(e){Sf(e)?wc("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e):yield fp(e)}yield t._e(e)}))}}class vp{constructor(e,t){this.me=e,this.params=t}calculateTargetCount(e,t){return this.me.ge(e).next(e=>Math.floor(t/100*e))}nthSequenceNumber(e,t){if(0===t)return wf.resolve(Mc.T);const n=new mp(t);return this.me.forEachTarget(e,e=>n.fe(e.sequenceNumber)).next(()=>this.me.ye(e,e=>n.fe(e))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.me.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.me.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(wc("LruGarbageCollector","Garbage collection skipped; disabled"),wf.resolve(Xf)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(wc("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Xf):this.pe(e,t))}getCacheSize(e){return this.me.getCacheSize(e)}pe(e,t){let n,r,i,s,o,a,u;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(t=>(t>this.params.maximumSequenceNumbersToCollect?(wc("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),r=this.params.maximumSequenceNumbersToCollect):r=t,s=Date.now(),this.nthSequenceNumber(e,r))).next(r=>(n=r,o=Date.now(),this.removeTargets(e,n,t))).next(t=>(i=t,a=Date.now(),this.removeOrphanedDocuments(e,n))).next(e=>(u=Date.now(),_c()<=os.in.DEBUG&&wc("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-c}ms\n\tDetermined least recently used ${r} in `+(o-s)+"ms\n"+`\tRemoved ${i} targets in `+(a-o)+"ms\n"+`\tRemoved ${e} documents in `+(u-a)+"ms\n"+`Total Duration: ${u-c}ms`),wf.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})))}}class _p{constructor(e,t){this.db=e,this.garbageCollector=function(e,t){return new vp(e,t)}(this,t)}ge(e){const t=this.Ee(e);return this.db.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}Ee(e){let t=0;return this.ye(e,e=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}ye(e,t){return this.Te(e,(e,n)=>t(n))}addReference(e,t,n){return wp(e,n)}removeReference(e,t,n){return wp(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return wp(e,t)}Ie(e,t){return function(e,t){let n=!1;return ap(e).jt(r=>ip(e,r,t).next(e=>(e&&(n=!0),wf.resolve(!e)))).next(()=>n)}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let i=0;return this.Te(e,(s,o)=>{if(o<=t){const t=this.Ie(e,s).next(t=>{if(!t)return i++,n.getEntry(e,s).next(()=>(n.removeEntry(s),dp(e).delete([0,Yd(s.path)])))});r.push(t)}}).next(()=>wf.waitFor(r)).next(()=>n.apply(e)).next(()=>i)}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return wp(e,t)}Te(e,t){const n=dp(e);let r,i=Mc.T;return n.Kt({index:hf.documentTargetsIndex},([e,n],{path:s,sequenceNumber:o})=>{0===e?(i!==Mc.T&&t(new cl(Xd(r)),i),i=o,r=s):i=Mc.T}).next(()=>{i!==Mc.T&&t(new cl(Xd(r)),i)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function wp(e,t){return dp(e).put(function(e,t){return new hf(0,Yd(e.path),t)}(t,e.currentSequenceNumber))}class bp{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(let n=0;n<r.length;n++)if(this.equalsFn(r[n][0],e))return void(r[n]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1}forEach(e){Hc(this.inner,(t,n)=>{for(const[r,i]of n)e(r,i)})}isEmpty(){return $c(this.inner)}}class Ip{constructor(){this.changes=new bp(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}getReadTime(e){const t=this.changes.get(e);return t?t.readTime:zc.min()}addEntry(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})}removeEntry(e,t=null){this.assertNotApplied(),this.changes.set(e,{document:Cl.newInvalidDocument(e),readTime:t})}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?wf.resolve(n.document):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Ep{constructor(e,t){this.N=e,this.Ht=t}addEntry(e,t,n){return Cp(e).put(Ap(t),n)}removeEntry(e,t){const n=Cp(e),r=Ap(t);return n.delete(r)}updateMetadata(e,t){return this.getMetadata(e).next(n=>(n.byteSize+=t,this.Ae(e,n)))}getEntry(e,t){return Cp(e).get(Ap(t)).next(e=>this.Re(t,e))}Pe(e,t){return Cp(e).get(Ap(t)).next(e=>({document:this.Re(t,e),size:np(e)}))}getEntries(e,t){let n=Xh();return this.be(e,t,(e,t)=>{const r=this.Re(e,t);n=n.insert(e,r)}).next(()=>n)}ve(e,t){let n=Xh(),r=new Gh(cl.comparator);return this.be(e,t,(e,t)=>{const i=this.Re(e,t);n=n.insert(e,i),r=r.insert(e,np(t))}).next(()=>({documents:n,Ve:r}))}be(e,t,n){if(t.isEmpty())return wf.resolve();const r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator();let s=i.getNext();return Cp(e).Kt({range:r},(e,t,r)=>{const o=cl.fromSegments(e);for(;s&&cl.comparator(s,o)<0;)n(s,null),s=i.getNext();s&&s.isEqual(o)&&(n(s,t),s=i.hasNext()?i.getNext():null),s?r.Mt(s.path.toArray()):r.done()}).next(()=>{for(;s;)n(s,null),s=i.hasNext()?i.getNext():null})}getDocumentsMatchingQuery(e,t,n){let r=Xh();const i=t.path.length+1,s={};if(n.isEqual(zc.min())){const e=t.path.toArray();s.range=IDBKeyRange.lowerBound(e)}else{const e=t.path.toArray(),r=Uf(n);s.range=IDBKeyRange.lowerBound([e,r],!0),s.index=uf.collectionReadTimeIndex}return Cp(e).Kt(s,(e,n,s)=>{if(e.length!==i)return;const o=Mf(this.N,n);t.path.isPrefixOf(o.key.path)?ah(t,o)&&(r=r.insert(o.key,o)):s.done()}).next(()=>r)}newChangeBuffer(e){return new Tp(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(e=>e.byteSize)}getMetadata(e){return Sp(e).get(cf.key).next(e=>(Sc(!!e),e))}Ae(e,t){return Sp(e).put(cf.key,t)}Re(e,t){if(t){const e=Mf(this.N,t);if(!e.isNoDocument()||!e.version.isEqual(zc.min()))return e}return Cl.newInvalidDocument(e)}}class Tp extends Ip{constructor(e,t){super(),this.Se=e,this.trackRemovals=t,this.De=new bp(e=>e.toString(),(e,t)=>e.isEqual(t))}applyChanges(e){const t=[];let n=0,r=new Yh((e,t)=>Vc(e.canonicalString(),t.canonicalString()));return this.changes.forEach((i,s)=>{const o=this.De.get(i);if(s.document.isValidDocument()){const a=Ff(this.Se.N,s.document,this.getReadTime(i));r=r.add(i.path.popLast());const u=np(a);n+=u-o,t.push(this.Se.addEntry(e,i,a))}else if(n-=o,this.trackRemovals){const n=Ff(this.Se.N,Cl.newNoDocument(i,zc.min()),this.getReadTime(i));t.push(this.Se.addEntry(e,i,n))}else t.push(this.Se.removeEntry(e,i))}),r.forEach(n=>{t.push(this.Se.Ht.addToCollectionParentIndex(e,n))}),t.push(this.Se.updateMetadata(e,n)),wf.waitFor(t)}getFromCache(e,t){return this.Se.Pe(e,t).next(e=>(this.De.set(t,e.size),e.document))}getAllFromCache(e,t){return this.Se.ve(e,t).next(({documents:e,Ve:t})=>(t.forEach((e,t)=>{this.De.set(e,t)}),e))}}function Sp(e){return Of(e,cf.store)}function Cp(e){return Of(e,uf.store)}function Ap(e){return e.path.toArray()}class kp{constructor(e){this.N=e}Ct(e,t,n,r){Sc(n<r&&n>=0&&r<=11);const i=new bf("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(tf.store)}(e),function(e){e.createObjectStore(nf.store,{keyPath:nf.keyPath}),e.createObjectStore(rf.store,{keyPath:rf.keyPath,autoIncrement:!0}).createIndex(rf.userMutationsIndex,rf.userMutationsKeyPath,{unique:!0}),e.createObjectStore(sf.store)}(e),xp(e),function(e){e.createObjectStore(uf.store)}(e));let s=wf.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(hf.store),e.deleteObjectStore(lf.store),e.deleteObjectStore(df.store)}(e),xp(e)),s=s.next(()=>function(e){const t=e.store(df.store),n=new df(0,0,zc.min().toTimestamp(),0);return t.put(df.key,n)}(i))),n<4&&r>=4&&(0!==n&&(s=s.next(()=>function(e,t){return t.store(rf.store).Lt().next(n=>{e.deleteObjectStore(rf.store),e.createObjectStore(rf.store,{keyPath:rf.keyPath,autoIncrement:!0}).createIndex(rf.userMutationsIndex,rf.userMutationsKeyPath,{unique:!0});const r=t.store(rf.store),i=n.map(e=>r.put(e));return wf.waitFor(i)})}(e,i))),s=s.next(()=>{!function(e){e.createObjectStore(pf.store,{keyPath:pf.keyPath})}(e)})),n<5&&r>=5&&(s=s.next(()=>this.Ce(i))),n<6&&r>=6&&(s=s.next(()=>(function(e){e.createObjectStore(cf.store)}(e),this.Ne(i)))),n<7&&r>=7&&(s=s.next(()=>this.xe(i))),n<8&&r>=8&&(s=s.next(()=>this.ke(e,i))),n<9&&r>=9&&(s=s.next(()=>{!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){const t=e.objectStore(uf.store);t.createIndex(uf.readTimeIndex,uf.readTimeIndexPath,{unique:!1}),t.createIndex(uf.collectionReadTimeIndex,uf.collectionReadTimeIndexPath,{unique:!1})}(t)})),n<10&&r>=10&&(s=s.next(()=>this.$e(i))),n<11&&r>=11&&(s=s.next(()=>{!function(e){e.createObjectStore(gf.store,{keyPath:gf.keyPath})}(e),function(e){e.createObjectStore(mf.store,{keyPath:mf.keyPath})}(e)})),s}Ne(e){let t=0;return e.store(uf.store).Kt((e,n)=>{t+=np(n)}).next(()=>{const n=new cf(t);return e.store(cf.store).put(cf.key,n)})}Ce(e){const t=e.store(nf.store),n=e.store(rf.store);return t.Lt().next(t=>wf.forEach(t,t=>{const r=IDBKeyRange.bound([t.userId,-1],[t.userId,t.lastAcknowledgedBatchId]);return n.Lt(rf.userMutationsIndex,r).next(n=>wf.forEach(n,n=>{Sc(n.userId===t.userId);const r=Bf(this.N,n);return tp(e,t.userId,r).next(()=>{})}))}))}xe(e){const t=e.store(hf.store),n=e.store(uf.store);return e.store(df.store).get(df.key).next(e=>{const r=[];return n.Kt((n,i)=>{const s=new Wc(n),o=function(e){return[0,Yd(e)]}(s);r.push(t.get(o).next(n=>n?wf.resolve():(n=>t.put(new hf(0,Yd(n),e.highestListenSequenceNumber)))(s)))}).next(()=>wf.waitFor(r))})}ke(e,t){e.createObjectStore(ff.store,{keyPath:ff.keyPath});const n=t.store(ff.store),r=new Yf,i=e=>{if(r.add(e)){const t=e.lastSegment(),r=e.popLast();return n.put({collectionId:t,parent:Yd(r)})}};return t.store(uf.store).Kt({qt:!0},(e,t)=>{const n=new Wc(e);return i(n.popLast())}).next(()=>t.store(sf.store).Kt({qt:!0},([e,t,n],r)=>{const s=Xd(t);return i(s.popLast())}))}$e(e){const t=e.store(lf.store);return t.Kt((e,n)=>{const r=zf(n),i=Zf(this.N,r);return t.put(i)})}}function xp(e){e.createObjectStore(hf.store,{keyPath:hf.keyPath}).createIndex(hf.documentTargetsIndex,hf.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(lf.store,{keyPath:lf.keyPath}).createIndex(lf.queryTargetsIndexName,lf.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(df.store)}const Np="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Op{constructor(e,t,n,r,i,s,o,a,u,c){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.Oe=i,this.window=s,this.document=o,this.Fe=u,this.Me=c,this.Le=null,this.Be=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ue=null,this.inForeground=!1,this.qe=null,this.Ke=null,this.je=Number.NEGATIVE_INFINITY,this.Qe=e=>Promise.resolve(),!Op.Pt())throw new kc(Ac.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new _p(this,r),this.We=t+"main",this.N=new Lf(a),this.Ge=new If(this.We,11,new kp(this.N)),this.ze=new cp(this.referenceDelegate,this.N),this.Ht=new Qf,this.He=function(e,t){return new Ep(e,t)}(this.N,this.Ht),this.Je=new $f,this.window&&this.window.localStorage?this.Ye=this.window.localStorage:(this.Ye=null,!1===c&&bc("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Xe().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new kc(Ac.FAILED_PRECONDITION,Np);return this.Ze(),this.tn(),this.en(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.ze.getHighestSequenceNumber(e))}).then(e=>{this.Le=new Mc(e,this.Fe)}).then(()=>{this.Be=!0}).catch(e=>(this.Ge&&this.Ge.close(),Promise.reject(e)))}nn(e){var t=this;return this.Qe=function(){var n=(0,rs.Z)(function*(n){if(t.started)return e(n)});return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ge.xt(function(){var t=(0,rs.Z)(function*(t){null===t.newVersion&&(yield e())});return function(e){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Oe.enqueueAndForget((0,rs.Z)(function*(){t.started&&(yield t.Xe())})))}Xe(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Dp(e).put(new pf(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.sn(e).next(e=>{e||(this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)))})}).next(()=>this.rn(e)).next(t=>this.isPrimary&&!t?this.on(e).next(()=>!1):!!t&&this.an(e).next(()=>!0))).catch(e=>{if(Sf(e))return wc("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return wc("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Oe.enqueueRetryable(()=>this.Qe(e)),this.isPrimary=e})}sn(e){return Rp(e).get(tf.key).next(e=>wf.resolve(this.cn(e)))}un(e){return Dp(e).delete(this.clientId)}hn(){var e=this;return(0,rs.Z)(function*(){if(e.isPrimary&&!e.ln(e.je,18e5)){e.je=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",t=>{const n=Of(t,pf.store);return n.Lt().next(t=>{const r=e.fn(t,18e5),i=t.filter(e=>-1===r.indexOf(e));return wf.forEach(i,e=>n.delete(e.clientId)).next(()=>i)})}).catch(()=>[]);if(e.Ye)for(const n of t)e.Ye.removeItem(e.dn(n.clientId))}})()}en(){this.Ke=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Xe().then(()=>this.hn()).then(()=>this.en()))}cn(e){return!!e&&e.ownerId===this.clientId}rn(e){return this.Me?wf.resolve(!0):Rp(e).get(tf.key).next(t=>{if(null!==t&&this.ln(t.leaseTimestampMs,5e3)&&!this.wn(t.ownerId)){if(this.cn(t)&&this.networkEnabled)return!0;if(!this.cn(t)){if(!t.allowTabSynchronization)throw new kc(Ac.FAILED_PRECONDITION,Np);return!1}}return!(!this.networkEnabled||!this.inForeground)||Dp(e).Lt().next(e=>void 0===this.fn(e,5e3).find(e=>{if(this.clientId!==e.clientId){const t=!this.inForeground&&e.inForeground,n=this.networkEnabled===e.networkEnabled;if(!this.networkEnabled&&e.networkEnabled||t&&n)return!0}return!1}))}).next(e=>(this.isPrimary!==e&&wc("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var e=this;return(0,rs.Z)(function*(){e.Be=!1,e._n(),e.Ke&&(e.Ke.cancel(),e.Ke=null),e.mn(),e.gn(),yield e.Ge.runTransaction("shutdown","readwrite",[tf.store,pf.store],t=>{const n=new Nf(t,Mc.T);return e.on(n).next(()=>e.un(n))}),e.Ge.close(),e.yn()})()}fn(e,t){return e.filter(e=>this.ln(e.updateTimeMs,t)&&!this.wn(e.clientId))}pn(){return this.runTransaction("getActiveClients","readonly",e=>Dp(e).Lt().next(e=>this.fn(e,18e5).map(e=>e.clientId)))}get started(){return this.Be}getMutationQueue(e){return rp.Yt(e,this.N,this.Ht,this.referenceDelegate)}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getIndexManager(){return this.Ht}getBundleCache(){return this.Je}runTransaction(e,t,n){let r;return wc("IndexedDbPersistence","Starting transaction:",e),this.Ge.runTransaction(e,"readonly"===t?"readonly":"readwrite",yf,i=>(r=new Nf(i,this.Le?this.Le.next():Mc.T),"readwrite-primary"===t?this.sn(r).next(e=>!!e||this.rn(r)).next(t=>{if(!t)throw bc(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)),new kc(Ac.FAILED_PRECONDITION,vf);return n(r)}).next(e=>this.an(r).next(()=>e)):this.En(r).next(()=>n(r)))).then(e=>(r.raiseOnCommittedEvent(),e))}En(e){return Rp(e).get(tf.key).next(e=>{if(null!==e&&this.ln(e.leaseTimestampMs,5e3)&&!this.wn(e.ownerId)&&!this.cn(e)&&!(this.Me||this.allowTabSynchronization&&e.allowTabSynchronization))throw new kc(Ac.FAILED_PRECONDITION,Np)})}an(e){const t=new tf(this.clientId,this.allowTabSynchronization,Date.now());return Rp(e).put(tf.key,t)}static Pt(){return If.Pt()}on(e){const t=Rp(e);return t.get(tf.key).next(e=>this.cn(e)?(wc("IndexedDbPersistence","Releasing primary lease."),t.delete(tf.key)):wf.resolve())}ln(e,t){const n=Date.now();return!(e<n-t||e>n&&(bc(`Detected an update time that is in the future: ${e} > ${n}`),1))}Ze(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qe=()=>{this.Oe.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Xe()))},this.document.addEventListener("visibilitychange",this.qe),this.inForeground="visible"===this.document.visibilityState)}mn(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)}tn(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Ue=()=>{this._n(),(0,as.G6)()&&navigator.appVersion.match("Version/14")&&this.Oe.enterRestrictedMode(!0),this.Oe.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ue))}gn(){this.Ue&&(this.window.removeEventListener("pagehide",this.Ue),this.Ue=null)}wn(e){var t;try{const n=null!==(null===(t=this.Ye)||void 0===t?void 0:t.getItem(this.dn(e)));return wc("IndexedDbPersistence",`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(e){return bc("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}_n(){if(this.Ye)try{this.Ye.setItem(this.dn(this.clientId),String(Date.now()))}catch(e){bc("Failed to set zombie client id.",e)}}yn(){if(this.Ye)try{this.Ye.removeItem(this.dn(this.clientId))}catch(e){}}dn(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Rp(e){return Of(e,tf.store)}function Dp(e){return Of(e,pf.store)}function Pp(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}class Lp{constructor(e,t){this.progress=e,this.Tn=t}}class Mp{constructor(e,t,n){this.He=e,this.In=t,this.Ht=n}An(e,t){return this.In.getAllMutationBatchesAffectingDocumentKey(e,t).next(n=>this.Rn(e,t,n))}Rn(e,t,n){return this.He.getEntry(e,t).next(e=>{for(const t of n)t.applyToLocalView(e);return e})}Pn(e,t){e.forEach((e,n)=>{for(const r of t)r.applyToLocalView(n)})}bn(e,t){return this.He.getEntries(e,t).next(t=>this.vn(e,t).next(()=>t))}vn(e,t){return this.In.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>this.Pn(t,e))}getDocumentsMatchingQuery(e,t,n){return function(e){return cl.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Vn(e,t.path):eh(t)?this.Sn(e,t,n):this.Dn(e,t,n)}Vn(e,t){return this.An(e,new cl(t)).next(e=>{let t=td();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}Sn(e,t,n){const r=t.collectionGroup;let i=td();return this.Ht.getCollectionParents(e,r).next(s=>wf.forEach(s,s=>{const o=function(e,t){return new Gl(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(r));return this.Dn(e,o,n).next(e=>{e.forEach((e,t)=>{i=i.insert(e,t)})})}).next(()=>i))}Dn(e,t,n){let r,i;return this.He.getDocumentsMatchingQuery(e,t,n).next(n=>(r=n,this.In.getAllMutationBatchesAffectingQuery(e,t))).next(t=>(i=t,this.Cn(e,i,r).next(e=>{r=e;for(const t of i)for(const e of t.mutations){const n=e.key;let i=r.get(n);null==i&&(i=Cl.newInvalidDocument(n),r=r.insert(n,i)),Oh(e,i,t.localWriteTime),i.isFoundDocument()||(r=r.remove(n))}}))).next(()=>(r.forEach((e,n)=>{ah(t,n)||(r=r.remove(e))}),r))}Cn(e,t,n){let r=sd();for(const s of t)for(const e of s.mutations)e instanceof Mh&&null===n.get(e.key)&&(r=r.add(e.key));let i=n;return this.He.getEntries(e,r).next(e=>(e.forEach((e,t)=>{t.isFoundDocument()&&(i=i.insert(e,t))}),i))}}class Fp{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Nn=n,this.xn=r}static kn(e,t){let n=sd(),r=sd();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Fp(e,t.fromCache,n,r)}}class Up{$n(e){this.On=e}getDocumentsMatchingQuery(e,t,n,r){return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(zc.min())?this.Fn(e,t):this.On.bn(e,r).next(i=>{const s=this.Mn(t,i);return(Yl(t)||Ql(t))&&this.Ln(t.limitType,s,r,n)?this.Fn(e,t):(_c()<=os.in.DEBUG&&wc("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),oh(t)),this.On.getDocumentsMatchingQuery(e,t,n).next(e=>(s.forEach(t=>{e=e.insert(t.key,t)}),e)))})}Mn(e,t){let n=new Yh(uh(e));return t.forEach((t,r)=>{ah(e,r)&&(n=n.add(r))}),n}Ln(e,t,n,r){if(n.size!==t.size)return!0;const i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Fn(e,t){return _c()<=os.in.DEBUG&&wc("QueryEngine","Using full collection scan to execute query:",oh(t)),this.On.getDocumentsMatchingQuery(e,t,zc.min())}}class Vp{constructor(e,t,n,r){this.persistence=e,this.Bn=t,this.N=r,this.Un=new Gh(Vc),this.qn=new bp(e=>xl(e),Nl),this.Kn=zc.min(),this.In=e.getMutationQueue(n),this.jn=e.getRemoteDocumentCache(),this.ze=e.getTargetCache(),this.Qn=new Mp(this.jn,this.In,this.persistence.getIndexManager()),this.Je=e.getBundleCache(),this.Bn.$n(this.Qn)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Un))}}function jp(e,t,n,r){return new Vp(e,t,n,r)}function qp(e,t){return Bp.apply(this,arguments)}function Bp(){return(Bp=(0,rs.Z)(function*(e,t){const n=Cc(e);let r=n.In,i=n.Qn;const s=yield n.persistence.runTransaction("Handle user change","readonly",e=>{let s;return n.In.getAllMutationBatches(e).next(o=>(s=o,r=n.persistence.getMutationQueue(t),i=new Mp(n.jn,r,n.persistence.getIndexManager()),r.getAllMutationBatches(e))).next(t=>{const n=[],r=[];let o=sd();for(const e of s){n.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){r.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return i.bn(e,o).next(e=>({Wn:e,removedBatchIds:n,addedBatchIds:r}))})});return n.In=r,n.Qn=i,n.Bn.$n(n.Qn),s})).apply(this,arguments)}function zp(e,t){const n=Cc(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),i=n.jn.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let o=wf.resolve();return s.forEach(e=>{o=o.next(()=>r.getEntry(t,e)).next(t=>{const s=n.docVersions.get(e);Sc(null!==s),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&r.addEntry(t,n.commitVersion))})}),o.next(()=>e.In.removeMutationBatch(t,i))}(n,e,t,i).next(()=>i.apply(e)).next(()=>n.In.performConsistencyCheck(e)).next(()=>n.Qn.bn(e,r))})}function Zp(e){const t=Cc(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.ze.getLastRemoteSnapshotVersion(e))}function Hp(e,t){const n=Cc(e),r=t.snapshotVersion;let i=n.Un;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const s=n.jn.newChangeBuffer({trackRemovals:!0});i=n.Un;const o=[];t.targetChanges.forEach((t,s)=>{const a=i.get(s);if(!a)return;o.push(n.ze.removeMatchingKeys(e,t.removedDocuments,s).next(()=>n.ze.addMatchingKeys(e,t.addedDocuments,s)));const u=t.resumeToken;if(u.approximateByteSize()>0){const c=a.withResumeToken(u,r).withSequenceNumber(e.currentSequenceNumber);i=i.insert(s,c),function(e,t,n){return Sc(t.resumeToken.approximateByteSize()>0),0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(a,c,t)&&o.push(n.ze.updateTargetData(e,c))}});let a=Xh();if(t.documentUpdates.forEach((r,i)=>{t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),o.push($p(e,s,t.documentUpdates,r,void 0).next(e=>{a=e})),!r.isEqual(zc.min())){const t=n.ze.getLastRemoteSnapshotVersion(e).next(t=>n.ze.setTargetsMetadata(e,e.currentSequenceNumber,r));o.push(t)}return wf.waitFor(o).next(()=>s.apply(e)).next(()=>n.Qn.vn(e,a)).next(()=>a)}).then(e=>(n.Un=i,e))}function $p(e,t,n,r,i){let s=sd();return n.forEach(e=>s=s.add(e)),t.getEntries(e,s).next(e=>{let s=Xh();return n.forEach((n,o)=>{const a=e.get(n),u=(null==i?void 0:i.get(n))||r;o.isNoDocument()&&o.version.isEqual(zc.min())?(t.removeEntry(n,u),s=s.insert(n,o)):!a.isValidDocument()||o.version.compareTo(a.version)>0||0===o.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(o,u),s=s.insert(n,o)):wc("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",o.version)}),s})}function Gp(e,t){const n=Cc(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=-1),n.In.getNextMutationBatchAfterBatchId(e,t)))}function Wp(e,t){const n=Cc(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.ze.getTargetData(e,t).next(i=>i?(r=i,wf.resolve(r)):n.ze.allocateTargetId(e).next(i=>(r=new Pf(t,i,0,e.currentSequenceNumber),n.ze.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.Un.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Un=n.Un.insert(e.targetId,e),n.qn.set(t,e.targetId)),e})}function Kp(e,t,n){return Yp.apply(this,arguments)}function Yp(){return(Yp=(0,rs.Z)(function*(e,t,n){const r=Cc(e),i=r.Un.get(t),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!Sf(e))throw e;wc("LocalStore",`Failed to update sequence numbers for target ${t}: ${e}`)}r.Un=r.Un.remove(t),r.qn.delete(i.target)})).apply(this,arguments)}function Qp(e,t,n){const r=Cc(e);let i=zc.min(),s=sd();return r.persistence.runTransaction("Execute query","readonly",e=>function(e,t,n){const r=Cc(e),i=r.qn.get(n);return void 0!==i?wf.resolve(r.Un.get(i)):r.ze.getTargetData(t,n)}(r,e,nh(t)).next(t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.ze.getMatchingKeysForTargetId(e,t.targetId).next(e=>{s=e})}).next(()=>r.Bn.getDocumentsMatchingQuery(e,t,n?i:zc.min(),n?s:sd())).next(e=>({documents:e,Gn:s})))}function Jp(e,t){const n=Cc(e),r=Cc(n.ze),i=n.Un.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",e=>r.Et(e,t).next(e=>e?e.target:null))}function Xp(e){const t=Cc(e);return t.persistence.runTransaction("Get new document changes","readonly",e=>function(e,t,n){const r=Cc(e);let i=Xh(),s=Uf(n);const o=Cp(t),a=IDBKeyRange.lowerBound(s,!0);return o.Kt({index:uf.readTimeIndex,range:a},(e,t)=>{const n=Mf(r.N,t);i=i.insert(n.key,n),s=t.readTime}).next(()=>({Tn:i,readTime:Vf(s)}))}(t.jn,e,t.Kn)).then(({Tn:e,readTime:n})=>(t.Kn=n,e))}function eg(){return(eg=(0,rs.Z)(function*(e){const t=Cc(e);return t.persistence.runTransaction("Synchronize last document change read time","readonly",e=>function(e){const t=Cp(e);let n=zc.min();return t.Kt({index:uf.readTimeIndex,reverse:!0},(e,t,r)=>{t.readTime&&(n=Vf(t.readTime)),r.done()}).next(()=>n)}(e)).then(e=>{t.Kn=e})})).apply(this,arguments)}function tg(){return(tg=(0,rs.Z)(function*(e,t,n,r){const i=Cc(e);let s=sd(),o=Xh(),a=rd();for(const l of n){const e=t.zn(l.metadata.name);l.document&&(s=s.add(e)),o=o.insert(e,t.Hn(l)),a=a.insert(e,t.Jn(l.metadata.readTime))}const u=i.jn.newChangeBuffer({trackRemovals:!0}),c=yield Wp(i,function(e){return nh(Kl(Wc.fromString(`__bundle__/docs/${e}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",e=>$p(e,u,o,zc.min(),a).next(t=>(u.apply(e),t)).next(t=>i.ze.removeMatchingKeysForTargetId(e,c.targetId).next(()=>i.ze.addMatchingKeys(e,s,c.targetId)).next(()=>i.Qn.vn(e,t)).next(()=>t)))})).apply(this,arguments)}function ng(e,t){return rg.apply(this,arguments)}function rg(){return(rg=(0,rs.Z)(function*(e,t,n=sd()){const r=yield Wp(e,nh(Hf(t.bundledQuery))),i=Cc(e);return i.persistence.runTransaction("Save named query","readwrite",e=>{const s=Ed(t.readTime);if(r.snapshotVersion.compareTo(s)>=0)return i.Je.saveNamedQuery(e,t);const o=r.withResumeToken(Jc.EMPTY_BYTE_STRING,s);return i.Un=i.Un.insert(o.targetId,o),i.ze.updateTargetData(e,o).next(()=>i.ze.removeMatchingKeysForTargetId(e,r.targetId)).next(()=>i.ze.addMatchingKeys(e,n,r.targetId)).next(()=>i.Je.saveNamedQuery(e,t))})})).apply(this,arguments)}class ig{constructor(e){this.N=e,this.Yn=new Map,this.Xn=new Map}getBundleMetadata(e,t){return wf.resolve(this.Yn.get(t))}saveBundleMetadata(e,t){var n;return this.Yn.set(t.id,{id:(n=t).id,version:n.version,createTime:Ed(n.createTime)}),wf.resolve()}getNamedQuery(e,t){return wf.resolve(this.Xn.get(t))}saveNamedQuery(e,t){return this.Xn.set(t.name,function(e){return{name:e.name,query:Hf(e.bundledQuery),readTime:Ed(e.readTime)}}(t)),wf.resolve()}}class sg{constructor(){this.Zn=new Yh(og.ts),this.es=new Yh(og.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(e,t){const n=new og(e,t);this.Zn=this.Zn.add(n),this.es=this.es.add(n)}ss(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.rs(new og(e,t))}os(e,t){e.forEach(e=>this.removeReference(e,t))}cs(e){const t=new cl(new Wc([])),n=new og(t,e),r=new og(t,e+1),i=[];return this.es.forEachInRange([n,r],e=>{this.rs(e),i.push(e.key)}),i}us(){this.Zn.forEach(e=>this.rs(e))}rs(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}hs(e){const t=new cl(new Wc([])),n=new og(t,e),r=new og(t,e+1);let i=sd();return this.es.forEachInRange([n,r],e=>{i=i.add(e.key)}),i}containsKey(e){const t=new og(e,0),n=this.Zn.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class og{constructor(e,t){this.key=e,this.ls=t}static ts(e,t){return cl.comparator(e.key,t.key)||Vc(e.ls,t.ls)}static ns(e,t){return Vc(e.ls,t.ls)||cl.comparator(e.key,t.key)}}class ag{constructor(e,t){this.Ht=e,this.referenceDelegate=t,this.In=[],this.fs=1,this.ds=new Yh(og.ts)}checkEmpty(e){return wf.resolve(0===this.In.length)}addMutationBatch(e,t,n,r){const i=this.fs;this.fs++;const s=new Rf(i,t,n,r);this.In.push(s);for(const o of r)this.ds=this.ds.add(new og(o.key,i)),this.Ht.addToCollectionParentIndex(e,o.key.path.popLast());return wf.resolve(s)}lookupMutationBatch(e,t){return wf.resolve(this.ws(t))}getNextMutationBatchAfterBatchId(e,t){const n=this._s(t+1),r=n<0?0:n;return wf.resolve(this.In.length>r?this.In[r]:null)}getHighestUnacknowledgedBatchId(){return wf.resolve(0===this.In.length?-1:this.fs-1)}getAllMutationBatches(e){return wf.resolve(this.In.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new og(t,0),r=new og(t,Number.POSITIVE_INFINITY),i=[];return this.ds.forEachInRange([n,r],e=>{const t=this.ws(e.ls);i.push(t)}),wf.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Yh(Vc);return t.forEach(e=>{const t=new og(e,0),r=new og(e,Number.POSITIVE_INFINITY);this.ds.forEachInRange([t,r],e=>{n=n.add(e.ls)})}),wf.resolve(this.gs(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;cl.isDocumentKey(i)||(i=i.child(""));const s=new og(new cl(i),0);let o=new Yh(Vc);return this.ds.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.ls)),!0)},s),wf.resolve(this.gs(o))}gs(e){const t=[];return e.forEach(e=>{const n=this.ws(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){Sc(0===this.ys(t.batchId,"removed")),this.In.shift();let n=this.ds;return wf.forEach(t.mutations,r=>{const i=new og(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.ds=n})}te(e){}containsKey(e,t){const n=new og(t,0),r=this.ds.firstAfterOrEqual(n);return wf.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return wf.resolve()}ys(e,t){return this._s(e)}_s(e){return 0===this.In.length?0:e-this.In[0].batchId}ws(e){const t=this._s(e);return t<0||t>=this.In.length?null:this.In[t]}}class ug{constructor(e,t){this.Ht=e,this.ps=t,this.docs=new Gh(cl.comparator),this.size=0}addEntry(e,t,n){const r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.ps(t);return this.docs=this.docs.insert(r,{document:t.clone(),size:o,readTime:n}),this.size+=o-s,this.Ht.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return wf.resolve(n?n.document.clone():Cl.newInvalidDocument(t))}getEntries(e,t){let n=Xh();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.clone():Cl.newInvalidDocument(e))}),wf.resolve(n)}getDocumentsMatchingQuery(e,t,n){let r=Xh();const i=new cl(t.path.child("")),s=this.docs.getIteratorFrom(i);for(;s.hasNext();){const{key:e,value:{document:i,readTime:o}}=s.getNext();if(!t.path.isPrefixOf(e.path))break;o.compareTo(n)<=0||ah(t,i)&&(r=r.insert(i.key,i.clone()))}return wf.resolve(r)}Es(e,t){return wf.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new cg(this)}getSize(e){return wf.resolve(this.size)}}class cg extends Ip{constructor(e){super(),this.Se=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.document.isValidDocument()?t.push(this.Se.addEntry(e,r.document,this.getReadTime(n))):this.Se.removeEntry(n)}),wf.waitFor(t)}getFromCache(e,t){return this.Se.getEntry(e,t)}getAllFromCache(e,t){return this.Se.getEntries(e,t)}}class lg{constructor(e){this.persistence=e,this.Ts=new bp(e=>xl(e),Nl),this.lastRemoteSnapshotVersion=zc.min(),this.highestTargetId=0,this.Is=0,this.As=new sg,this.targetCount=0,this.Rs=up.se()}forEachTarget(e,t){return this.Ts.forEach((e,n)=>t(n)),wf.resolve()}getLastRemoteSnapshotVersion(e){return wf.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return wf.resolve(this.Is)}allocateTargetId(e){return this.highestTargetId=this.Rs.next(),wf.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Is&&(this.Is=t),wf.resolve()}ae(e){this.Ts.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Rs=new up(t),this.highestTargetId=t),e.sequenceNumber>this.Is&&(this.Is=e.sequenceNumber)}addTargetData(e,t){return this.ae(t),this.targetCount+=1,wf.resolve()}updateTargetData(e,t){return this.ae(t),wf.resolve()}removeTargetData(e,t){return this.Ts.delete(t.target),this.As.cs(t.targetId),this.targetCount-=1,wf.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Ts.forEach((s,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.Ts.delete(s),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)}),wf.waitFor(i).next(()=>r)}getTargetCount(e){return wf.resolve(this.targetCount)}getTargetData(e,t){const n=this.Ts.get(t)||null;return wf.resolve(n)}addMatchingKeys(e,t,n){return this.As.ss(t,n),wf.resolve()}removeMatchingKeys(e,t,n){this.As.os(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(t=>{i.push(r.markPotentiallyOrphaned(e,t))}),wf.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.As.cs(t),wf.resolve()}getMatchingKeysForTargetId(e,t){const n=this.As.hs(t);return wf.resolve(n)}containsKey(e,t){return wf.resolve(this.As.containsKey(t))}}class hg{constructor(e,t){this.Ps={},this.Le=new Mc(0),this.Be=!1,this.Be=!0,this.referenceDelegate=e(this),this.ze=new lg(this),this.Ht=new Kf,this.He=function(e,t){return new ug(e,t)}(this.Ht,e=>this.referenceDelegate.bs(e)),this.N=new Lf(t),this.Je=new ig(this.N)}start(){return Promise.resolve()}shutdown(){return this.Be=!1,Promise.resolve()}get started(){return this.Be}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Ht}getMutationQueue(e){let t=this.Ps[e.toKey()];return t||(t=new ag(this.Ht,this.referenceDelegate),this.Ps[e.toKey()]=t),t}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getBundleCache(){return this.Je}runTransaction(e,t,n){wc("MemoryPersistence","Starting transaction:",e);const r=new dg(this.Le.next());return this.referenceDelegate.vs(),n(r).next(e=>this.referenceDelegate.Vs(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Ss(e,t){return wf.or(Object.values(this.Ps).map(n=>()=>n.containsKey(e,t)))}}class dg extends _f{constructor(e){super(),this.currentSequenceNumber=e}}class fg{constructor(e){this.persistence=e,this.Ds=new sg,this.Cs=null}static Ns(e){return new fg(e)}get xs(){if(this.Cs)return this.Cs;throw Tc()}addReference(e,t,n){return this.Ds.addReference(n,t),this.xs.delete(n.toString()),wf.resolve()}removeReference(e,t,n){return this.Ds.removeReference(n,t),this.xs.add(n.toString()),wf.resolve()}markPotentiallyOrphaned(e,t){return this.xs.add(t.toString()),wf.resolve()}removeTarget(e,t){this.Ds.cs(t.targetId).forEach(e=>this.xs.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.xs.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}vs(){this.Cs=new Set}Vs(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return wf.forEach(this.xs,n=>{const r=cl.fromPath(n);return this.ks(e,r).next(e=>{e||t.removeEntry(r)})}).next(()=>(this.Cs=null,t.apply(e)))}updateLimboDocument(e,t){return this.ks(e,t).next(e=>{e?this.xs.delete(t.toString()):this.xs.add(t.toString())})}bs(e){return 0}ks(e,t){return wf.or([()=>wf.resolve(this.Ds.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ss(e,t)])}}function pg(e,t){return`firestore_clients_${e}_${t}`}function gg(e,t,n){let r=`firestore_mutations_${e}_${n}`;return t.isAuthenticated()&&(r+=`_${t.uid}`),r}function mg(e,t){return`firestore_targets_${e}_${t}`}class yg{constructor(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}static $s(e,t,n){const r=JSON.parse(n);let i,s="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code,s&&(i=new kc(r.error.code,r.error.message))),s?new yg(e,t,r.state,i):(bc("SharedClientState",`Failed to parse mutation state for ID '${t}': ${n}`),null)}Os(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class vg{constructor(e,t,n){this.targetId=e,this.state=t,this.error=n}static $s(e,t){const n=JSON.parse(t);let r,i="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return i&&n.error&&(i="string"==typeof n.error.message&&"string"==typeof n.error.code,i&&(r=new kc(n.error.code,n.error.message))),i?new vg(e,n.state,r):(bc("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Os(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class _g{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static $s(e,t){const n=JSON.parse(t);let r="object"==typeof n&&n.activeTargetIds instanceof Array,i=ad();for(let s=0;r&&s<n.activeTargetIds.length;++s)r=ul(n.activeTargetIds[s]),i=i.add(n.activeTargetIds[s]);return r?new _g(e,i):(bc("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class wg{constructor(e,t){this.clientId=e,this.onlineState=t}static $s(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new wg(t.clientId,t.onlineState):(bc("SharedClientState",`Failed to parse online state: ${e}`),null)}}class bg{constructor(){this.activeTargetIds=ad()}Fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ms(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Os(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Ig{constructor(e,t,n,r,i){this.window=e,this.Oe=t,this.persistenceKey=n,this.Ls=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Bs=this.Us.bind(this),this.qs=new Gh(Vc),this.started=!1,this.Ks=[];const s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.js=pg(this.persistenceKey,this.Ls),this.Qs=function(e){return`firestore_sequence_number_${e}`}(this.persistenceKey),this.qs=this.qs.insert(this.Ls,new bg),this.Ws=new RegExp(`^firestore_clients_${s}_([^_]*)$`),this.Gs=new RegExp(`^firestore_mutations_${s}_(\\d+)(?:_(.*))?$`),this.zs=new RegExp(`^firestore_targets_${s}_(\\d+)$`),this.Hs=function(e){return`firestore_online_state_${e}`}(this.persistenceKey),this.Js=function(e){return`firestore_bundle_loaded_${e}`}(this.persistenceKey),this.window.addEventListener("storage",this.Bs)}static Pt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,rs.Z)(function*(){const t=yield e.syncEngine.pn();for(const r of t){if(r===e.Ls)continue;const t=e.getItem(pg(e.persistenceKey,r));if(t){const n=_g.$s(r,t);n&&(e.qs=e.qs.insert(n.clientId,n))}}e.Ys();const n=e.storage.getItem(e.Hs);if(n){const t=e.Xs(n);t&&e.Zs(t)}for(const r of e.Ks)e.Us(r);e.Ks=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Qs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ti(this.qs)}isActiveQueryTarget(e){let t=!1;return this.qs.forEach((n,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.ei(e,"pending")}updateMutationState(e,t,n){this.ei(e,t,n),this.ni(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const n=this.storage.getItem(mg(this.persistenceKey,e));if(n){const r=vg.$s(e,n);r&&(t=r.state)}}return this.si.Fs(e),this.Ys(),t}removeLocalQueryTarget(e){this.si.Ms(e),this.Ys()}isLocalQueryTarget(e){return this.si.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(mg(this.persistenceKey,e))}updateQueryState(e,t,n){this.ii(e,t,n)}handleUserChange(e,t,n){t.forEach(e=>{this.ni(e)}),this.currentUser=e,n.forEach(e=>{this.addPendingMutation(e)})}setOnlineState(e){this.ri(e)}notifyBundleLoaded(){this.oi()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Bs),this.removeItem(this.js),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return wc("SharedClientState","READ",e,t),t}setItem(e,t){wc("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){wc("SharedClientState","REMOVE",e),this.storage.removeItem(e)}Us(e){var t=this;const n=e;if(n.storageArea===this.storage){if(wc("SharedClientState","EVENT",n.key,n.newValue),n.key===this.js)return void bc("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable((0,rs.Z)(function*(){if(t.started){if(null!==n.key)if(t.Ws.test(n.key)){if(null==n.newValue){const e=t.ai(n.key);return t.ci(e,null)}{const e=t.ui(n.key,n.newValue);if(e)return t.ci(e.clientId,e)}}else if(t.Gs.test(n.key)){if(null!==n.newValue){const e=t.hi(n.key,n.newValue);if(e)return t.li(e)}}else if(t.zs.test(n.key)){if(null!==n.newValue){const e=t.fi(n.key,n.newValue);if(e)return t.di(e)}}else if(n.key===t.Hs){if(null!==n.newValue){const e=t.Xs(n.newValue);if(e)return t.Zs(e)}}else if(n.key===t.Qs){const e=function(e){let t=Mc.T;if(null!=e)try{const n=JSON.parse(e);Sc("number"==typeof n),t=n}catch(e){bc("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue);e!==Mc.T&&t.sequenceNumberHandler(e)}else if(n.key===t.Js)return t.syncEngine.wi()}else t.Ks.push(n)}))}}get si(){return this.qs.get(this.Ls)}Ys(){this.setItem(this.js,this.si.Os())}ei(e,t,n){const r=new yg(this.currentUser,e,t,n),i=gg(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Os())}ni(e){const t=gg(this.persistenceKey,this.currentUser,e);this.removeItem(t)}ri(e){this.storage.setItem(this.Hs,JSON.stringify({clientId:this.Ls,onlineState:e}))}ii(e,t,n){const r=mg(this.persistenceKey,e),i=new vg(e,t,n);this.setItem(r,i.Os())}oi(){this.setItem(this.Js,"value-not-used")}ai(e){const t=this.Ws.exec(e);return t?t[1]:null}ui(e,t){const n=this.ai(e);return _g.$s(n,t)}hi(e,t){const n=this.Gs.exec(e),r=Number(n[1]);return yg.$s(new mc(void 0!==n[2]?n[2]:null),r,t)}fi(e,t){const n=this.zs.exec(e),r=Number(n[1]);return vg.$s(r,t)}Xs(e){return wg.$s(e)}li(e){var t=this;return(0,rs.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine._i(e.batchId,e.state,e.error);wc("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}di(e){return this.syncEngine.mi(e.targetId,e.state,e.error)}ci(e,t){const n=t?this.qs.insert(e,t):this.qs.remove(e),r=this.ti(this.qs),i=this.ti(n),s=[],o=[];return i.forEach(e=>{r.has(e)||s.push(e)}),r.forEach(e=>{i.has(e)||o.push(e)}),this.syncEngine.gi(s,o).then(()=>{this.qs=n})}Zs(e){this.qs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ti(e){let t=ad();return e.forEach((e,n)=>{t=t.unionWith(n.activeTargetIds)}),t}}class Eg{constructor(){this.yi=new bg,this.pi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.yi.Fs(e),this.pi[e]||"not-current"}updateQueryState(e,t,n){this.pi[e]=t}removeLocalQueryTarget(e){this.yi.Ms(e)}isLocalQueryTarget(e){return this.yi.activeTargetIds.has(e)}clearQueryState(e){delete this.pi[e]}getAllActiveQueryTargets(){return this.yi.activeTargetIds}isActiveQueryTarget(e){return this.yi.activeTargetIds.has(e)}start(){return this.yi=new bg,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}class Tg{Ei(e){}shutdown(){}}class Sg{constructor(){this.Ti=()=>this.Ii(),this.Ai=()=>this.Ri(),this.Pi=[],this.bi()}Ei(e){this.Pi.push(e)}shutdown(){window.removeEventListener("online",this.Ti),window.removeEventListener("offline",this.Ai)}bi(){window.addEventListener("online",this.Ti),window.addEventListener("offline",this.Ai)}Ii(){wc("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Pi)e(0)}Ri(){wc("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Pi)e(1)}static Pt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Cg={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class Ag{constructor(e){this.vi=e.vi,this.Vi=e.Vi}Si(e){this.Di=e}Ci(e){this.Ni=e}onMessage(e){this.xi=e}close(){this.Vi()}send(e){this.vi(e)}ki(){this.Di()}$i(e){this.Ni(e)}Oi(e){this.xi(e)}}class kg extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.Fi=(e.ssl?"https":"http")+"://"+e.host,this.Mi="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Li(e,t,n,r){const i=this.Bi(e,t);wc("RestConnection","Sending: ",i,n);const s={};return this.Ui(s,r),this.qi(e,i,s,n).then(e=>(wc("RestConnection","Received: ",e),e),t=>{throw Ic("RestConnection",`${e} failed with error: `,t,"url: ",i,"request:",n),t})}Ki(e,t,n,r){return this.Li(e,t,n,r)}Ui(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/"+yc,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t)for(const n in t.authHeaders)t.authHeaders.hasOwnProperty(n)&&(e[n]=t.authHeaders[n])}Bi(e,t){return`${this.Fi}/v1/${t}:${Cg[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}qi(e,t,n,r){return new Promise((i,s)=>{const o=new gc;o.listenOnce(hc.COMPLETE,()=>{try{switch(o.getLastErrorCode()){case lc.NO_ERROR:const t=o.getResponseJson();wc("Connection","XHR received:",JSON.stringify(t)),i(t);break;case lc.TIMEOUT:wc("Connection",'RPC "'+e+'" timed out'),s(new kc(Ac.DEADLINE_EXCEEDED,"Request time out"));break;case lc.HTTP_ERROR:const n=o.getStatus();if(wc("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){const e=o.getResponseJson().error;if(e&&e.status&&e.message){const t=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Ac).indexOf(t)>=0?t:Ac.UNKNOWN}(e.status);s(new kc(t,e.message))}else s(new kc(Ac.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new kc(Ac.UNAVAILABLE,"Connection failed."));break;default:Tc()}}finally{wc("Connection",'RPC "'+e+'" completed.')}});const a=JSON.stringify(r);o.send(t,"POST",a,n,15)})}ji(e,t){const n=[this.Fi,"/","google.firestore.v1.Firestore","/",e,"/channel"],r=new sc,i=Xo(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(s.xmlHttpFactory=new fc({})),this.Ui(s.initMessageHeaders,t),(0,as.uI)()||(0,as.b$)()||(0,as.d)()||(0,as.w1)()||(0,as.Mn)()||(0,as.ru)()||(s.httpHeadersOverwriteParam="$httpHeaders");const o=n.join("");wc("Connection","Creating WebChannel: "+o,s);const a=r.createWebChannel(o,s);let u=!1,c=!1;const l=new Ag({vi:e=>{c?wc("Connection","Not sending because WebChannel is closed:",e):(u||(wc("Connection","Opening WebChannel transport."),a.open(),u=!0),wc("Connection","WebChannel sending:",e),a.send(e))},Vi:()=>a.close()}),h=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return h(a,pc.EventType.OPEN,()=>{c||wc("Connection","WebChannel transport opened.")}),h(a,pc.EventType.CLOSE,()=>{c||(c=!0,wc("Connection","WebChannel transport closed"),l.$i())}),h(a,pc.EventType.ERROR,e=>{c||(c=!0,Ic("Connection","WebChannel transport errored:",e),l.$i(new kc(Ac.UNAVAILABLE,"The operation could not be completed")))}),h(a,pc.EventType.MESSAGE,e=>{var t;if(!c){const n=e.data[0];Sc(!!n);const r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){wc("Connection","WebChannel received error:",i);const e=i.status;let t=function(e){const t=zh[e];if(void 0!==t)return $h(t)}(e),n=i.message;void 0===t&&(t=Ac.INTERNAL,n="Unknown error status: "+e+" with message "+i.message),c=!0,l.$i(new kc(t,n)),a.close()}else wc("Connection","WebChannel received:",n),l.Oi(n)}}),h(i,dc.STAT_EVENT,e=>{10===e.stat?wc("Connection","Detected buffering proxy"):11===e.stat&&wc("Connection","Detected no buffering proxy")}),setTimeout(()=>{l.ki()},0),l}}function xg(){return"undefined"!=typeof window?window:null}function Ng(){return"undefined"!=typeof document?document:null}function Og(e){return new _d(e,!0)}class Rg{constructor(e,t,n=1e3,r=1.5,i=6e4){this.Oe=e,this.timerId=t,this.Qi=n,this.Wi=r,this.Gi=i,this.zi=0,this.Hi=null,this.Ji=Date.now(),this.reset()}reset(){this.zi=0}Yi(){this.zi=this.Gi}Xi(e){this.cancel();const t=Math.floor(this.zi+this.Zi()),n=Math.max(0,Date.now()-this.Ji),r=Math.max(0,t-n);r>0&&wc("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.zi} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.Hi=this.Oe.enqueueAfterDelay(this.timerId,r,()=>(this.Ji=Date.now(),e())),this.zi*=this.Wi,this.zi<this.Qi&&(this.zi=this.Qi),this.zi>this.Gi&&(this.zi=this.Gi)}tr(){null!==this.Hi&&(this.Hi.skipDelay(),this.Hi=null)}cancel(){null!==this.Hi&&(this.Hi.cancel(),this.Hi=null)}Zi(){return(Math.random()-.5)*this.zi}}class Dg{constructor(e,t,n,r,i,s){this.Oe=e,this.er=n,this.nr=r,this.credentialsProvider=i,this.listener=s,this.state=0,this.sr=0,this.ir=null,this.stream=null,this.rr=new Rg(e,t)}ar(){return 1===this.state||2===this.state||4===this.state}cr(){return 2===this.state}start(){3!==this.state?this.auth():this.ur()}stop(){var e=this;return(0,rs.Z)(function*(){e.ar()&&(yield e.close(0))})()}hr(){this.state=0,this.rr.reset()}lr(){this.cr()&&null===this.ir&&(this.ir=this.Oe.enqueueAfterDelay(this.er,6e4,()=>this.dr()))}wr(e){this._r(),this.stream.send(e)}dr(){var e=this;return(0,rs.Z)(function*(){if(e.cr())return e.close(0)})()}_r(){this.ir&&(this.ir.cancel(),this.ir=null)}close(e,t){var n=this;return(0,rs.Z)(function*(){n._r(),n.rr.cancel(),n.sr++,3!==e?n.rr.reset():t&&t.code===Ac.RESOURCE_EXHAUSTED?(bc(t.toString()),bc("Using maximum backoff delay to prevent overloading the backend."),n.rr.Yi()):t&&t.code===Ac.UNAUTHENTICATED&&n.credentialsProvider.invalidateToken(),null!==n.stream&&(n.mr(),n.stream.close(),n.stream=null),n.state=e,yield n.listener.Ci(t)})()}mr(){}auth(){this.state=1;const e=this.gr(this.sr),t=this.sr;this.credentialsProvider.getToken().then(e=>{this.sr===t&&this.yr(e)},t=>{e(()=>{const e=new kc(Ac.UNKNOWN,"Fetching auth token failed: "+t.message);return this.pr(e)})})}yr(e){const t=this.gr(this.sr);this.stream=this.Er(e),this.stream.Si(()=>{t(()=>(this.state=2,this.listener.Si()))}),this.stream.Ci(e=>{t(()=>this.pr(e))}),this.stream.onMessage(e=>{t(()=>this.onMessage(e))})}ur(){var e=this;this.state=4,this.rr.Xi((0,rs.Z)(function*(){e.state=0,e.start()}))}pr(e){return wc("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(3,e)}gr(e){return t=>{this.Oe.enqueueAndForget(()=>this.sr===e?t():(wc("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Pg extends Dg{constructor(e,t,n,r,i){super(e,"listen_stream_connection_backoff","listen_stream_idle",t,n,i),this.N=r}Er(e){return this.nr.ji("Listen",e)}onMessage(e){this.rr.reset();const t=function(e,t){let n;if("targetChange"in t){const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Tc()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.D?(Sc(void 0===t||"string"==typeof t),Jc.fromBase64String(t||"")):(Sc(void 0===t||t instanceof Uint8Array),Jc.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(e){const t=void 0===e.code?Ac.UNKNOWN:$h(e.code);return new kc(t,e.message||"")}(o);n=new dd(r,i,s,a||null)}else if("documentChange"in t){const r=t.documentChange,i=Ad(e,r.document.name),s=Ed(r.document.updateTime),o=new Tl({mapValue:{fields:r.document.fields}}),a=Cl.newFoundDocument(i,s,o);n=new ld(r.targetIds||[],r.removedTargetIds||[],a.key,a)}else if("documentDelete"in t){const r=t.documentDelete,i=Ad(e,r.document),s=r.readTime?Ed(r.readTime):zc.min(),o=Cl.newNoDocument(i,s);n=new ld([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in t){const r=t.documentRemove,i=Ad(e,r.document);n=new ld([],r.removedTargetIds||[],i,null)}else{if(!("filter"in t))return Tc();{const e=t.filter,r=new Bh(e.count||0);n=new hd(e.targetId,r)}}return n}(this.N,e),n=function(e){if(!("targetChange"in e))return zc.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?zc.min():t.readTime?Ed(t.readTime):zc.min()}(e);return this.listener.Tr(t,n)}Ir(e){const t={};t.database=Nd(this.N),t.addTarget=function(e,t){let n;const r=t.target;return n=Ol(r)?{documents:Md(e,r)}:{query:Fd(e,r)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=bd(e,t.resumeToken):t.snapshotVersion.compareTo(zc.min())>0&&(n.readTime=wd(e,t.snapshotVersion.toTimestamp())),n}(this.N,e);const n=function(e,t){const n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Tc()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);n&&(t.labels=n),this.wr(t)}Ar(e){const t={};t.database=Nd(this.N),t.removeTarget=e,this.wr(t)}}class Lg extends Dg{constructor(e,t,n,r,i){super(e,"write_stream_connection_backoff","write_stream_idle",t,n,i),this.N=r,this.Rr=!1}get Pr(){return this.Rr}start(){this.Rr=!1,this.lastStreamToken=void 0,super.start()}mr(){this.Rr&&this.br([])}Er(e){return this.nr.ji("Write",e)}onMessage(e){if(Sc(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Rr){this.rr.reset();const t=function(e,t){return e&&e.length>0?(Sc(void 0!==t),e.map(e=>function(e,t){let n=Ed(e.updateTime?e.updateTime:t);return n.isEqual(zc.min())&&(n=Ed(t)),new Ch(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=Ed(e.commitTime);return this.listener.vr(n,t)}return Sc(!e.writeResults||0===e.writeResults.length),this.Rr=!0,this.listener.Vr()}Sr(){const e={};e.database=Nd(this.N),this.wr(e)}br(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>Pd(this.N,e))};this.wr(t)}}class Mg extends class{}{constructor(e,t,n){super(),this.credentials=e,this.nr=t,this.N=n,this.Dr=!1}Cr(){if(this.Dr)throw new kc(Ac.FAILED_PRECONDITION,"The client has already been terminated.")}Li(e,t,n){return this.Cr(),this.credentials.getToken().then(r=>this.nr.Li(e,t,n,r)).catch(e=>{throw"FirebaseError"===e.name?(e.code===Ac.UNAUTHENTICATED&&this.credentials.invalidateToken(),e):new kc(Ac.UNKNOWN,e.toString())})}Ki(e,t,n){return this.Cr(),this.credentials.getToken().then(r=>this.nr.Ki(e,t,n,r)).catch(e=>{throw"FirebaseError"===e.name?(e.code===Ac.UNAUTHENTICATED&&this.credentials.invalidateToken(),e):new kc(Ac.UNKNOWN,e.toString())})}terminate(){this.Dr=!0}}class Fg{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Nr=0,this.kr=null,this.$r=!0}Or(){0===this.Nr&&(this.Fr("Unknown"),this.kr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.kr=null,this.Mr("Backend didn't respond within 10 seconds."),this.Fr("Offline"),Promise.resolve())))}Lr(e){"Online"===this.state?this.Fr("Unknown"):(this.Nr++,this.Nr>=1&&(this.Br(),this.Mr(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.Fr("Offline")))}set(e){this.Br(),this.Nr=0,"Online"===e&&(this.$r=!1),this.Fr(e)}Fr(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}Mr(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.$r?(bc(t),this.$r=!1):wc("OnlineStateTracker",t)}Br(){null!==this.kr&&(this.kr.cancel(),this.kr=null)}}class Ug{constructor(e,t,n,r,i){var s=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ur=[],this.qr=new Map,this.Kr=new Set,this.jr=[],this.Qr=i,this.Qr.Ei(e=>{n.enqueueAndForget((0,rs.Z)(function*(){var e;Kg(s)&&(wc("RemoteStore","Restarting streams for network reachability change."),yield(e=(0,rs.Z)(function*(e){const t=Cc(e);t.Kr.add(4),yield qg(t),t.Wr.set("Unknown"),t.Kr.delete(4),yield Vg(t)}),function(t){return e.apply(this,arguments)})(s))}))}),this.Wr=new Fg(n,r)}}function Vg(e){return jg.apply(this,arguments)}function jg(){return(jg=(0,rs.Z)(function*(e){if(Kg(e))for(const t of e.jr)yield t(!0)})).apply(this,arguments)}function qg(e){return Bg.apply(this,arguments)}function Bg(){return(Bg=(0,rs.Z)(function*(e){for(const t of e.jr)yield t(!1)})).apply(this,arguments)}function zg(e,t){const n=Cc(e);n.qr.has(t.targetId)||(n.qr.set(t.targetId,t),Wg(n)?Gg(n):Im(n).cr()&&Hg(n,t))}function Zg(e,t){const n=Cc(e),r=Im(n);n.qr.delete(t),r.cr()&&$g(n,t),0===n.qr.size&&(r.cr()?r.lr():Kg(n)&&n.Wr.set("Unknown"))}function Hg(e,t){e.Gr.Y(t.targetId),Im(e).Ir(t)}function $g(e,t){e.Gr.Y(t),Im(e).Ar(t)}function Gg(e){e.Gr=new pd({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>e.qr.get(t)||null}),Im(e).start(),e.Wr.Or()}function Wg(e){return Kg(e)&&!Im(e).ar()&&e.qr.size>0}function Kg(e){return 0===Cc(e).Kr.size}function Yg(e){e.Gr=void 0}function Qg(e){return Jg.apply(this,arguments)}function Jg(){return(Jg=(0,rs.Z)(function*(e){e.qr.forEach((t,n)=>{Hg(e,t)})})).apply(this,arguments)}function Xg(e,t){return em.apply(this,arguments)}function em(){return(em=(0,rs.Z)(function*(e,t){Yg(e),Wg(e)?(e.Wr.Lr(t),Gg(e)):e.Wr.set("Unknown")})).apply(this,arguments)}function tm(e,t,n){return nm.apply(this,arguments)}function nm(){return(nm=(0,rs.Z)(function*(e,t,n){if(e.Wr.set("Online"),t instanceof dd&&2===t.state&&t.cause)try{yield(r=(0,rs.Z)(function*(e,t){const n=t.cause;for(const r of t.targetIds)e.qr.has(r)&&(yield e.remoteSyncer.rejectListen(r,n),e.qr.delete(r),e.Gr.removeTarget(r))}),function(e,t){return r.apply(this,arguments)})(e,t)}catch(n){wc("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),yield rm(e,n)}else if(t instanceof ld?e.Gr.rt(t):t instanceof hd?e.Gr.ft(t):e.Gr.ct(t),!n.isEqual(zc.min()))try{const t=yield Zp(e.localStore);n.compareTo(t)>=0&&(yield function(e,t){const n=e.Gr._t(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.qr.get(r);i&&e.qr.set(r,i.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach(t=>{const n=e.qr.get(t);if(!n)return;e.qr.set(t,n.withResumeToken(Jc.EMPTY_BYTE_STRING,n.snapshotVersion)),$g(e,t);const r=new Pf(n.target,t,1,n.sequenceNumber);Hg(e,r)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n))}catch(t){wc("RemoteStore","Failed to raise snapshot:",t),yield rm(e,t)}var r})).apply(this,arguments)}function rm(e,t,n){return im.apply(this,arguments)}function im(){return(im=(0,rs.Z)(function*(e,t,n){if(!Sf(t))throw t;e.Kr.add(1),yield qg(e),e.Wr.set("Offline"),n||(n=()=>Zp(e.localStore)),e.asyncQueue.enqueueRetryable((0,rs.Z)(function*(){wc("RemoteStore","Retrying IndexedDB access"),yield n(),e.Kr.delete(1),yield Vg(e)}))})).apply(this,arguments)}function sm(e,t){return t().catch(n=>rm(e,n,t))}function om(e){return am.apply(this,arguments)}function am(){return(am=(0,rs.Z)(function*(e){const t=Cc(e),n=Em(t);let r=t.Ur.length>0?t.Ur[t.Ur.length-1].batchId:-1;for(;um(t);)try{const e=yield Gp(t.localStore,r);if(null===e){0===t.Ur.length&&n.lr();break}r=e.batchId,cm(t,e)}catch(e){yield rm(t,e)}lm(t)&&hm(t)})).apply(this,arguments)}function um(e){return Kg(e)&&e.Ur.length<10}function cm(e,t){e.Ur.push(t);const n=Em(e);n.cr()&&n.Pr&&n.br(t.mutations)}function lm(e){return Kg(e)&&!Em(e).ar()&&e.Ur.length>0}function hm(e){Em(e).start()}function dm(e){return fm.apply(this,arguments)}function fm(){return(fm=(0,rs.Z)(function*(e){Em(e).Sr()})).apply(this,arguments)}function pm(e){return gm.apply(this,arguments)}function gm(){return(gm=(0,rs.Z)(function*(e){const t=Em(e);for(const n of e.Ur)t.br(n.mutations)})).apply(this,arguments)}function mm(e,t,n){return ym.apply(this,arguments)}function ym(){return(ym=(0,rs.Z)(function*(e,t,n){const r=e.Ur.shift(),i=Df.from(r,t,n);yield sm(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),yield om(e)})).apply(this,arguments)}function vm(e,t){return _m.apply(this,arguments)}function _m(){return(_m=(0,rs.Z)(function*(e,t){var n;t&&Em(e).Pr&&(yield(n=(0,rs.Z)(function*(e,t){if(Hh(n=t.code)&&n!==Ac.ABORTED){const n=e.Ur.shift();Em(e).hr(),yield sm(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),yield om(e)}var n}),function(e,t){return n.apply(this,arguments)})(e,t)),lm(e)&&hm(e)})).apply(this,arguments)}function wm(e,t){return bm.apply(this,arguments)}function bm(){return(bm=(0,rs.Z)(function*(e,t){const n=Cc(e);t?(n.Kr.delete(2),yield Vg(n)):t||(n.Kr.add(2),yield qg(n),n.Wr.set("Unknown"))})).apply(this,arguments)}function Im(e){return e.zr||(e.zr=function(e,t,n){const r=Cc(e);return r.Cr(),new Pg(t,r.nr,r.credentials,r.N,n)}(e.datastore,e.asyncQueue,{Si:Qg.bind(null,e),Ci:Xg.bind(null,e),Tr:tm.bind(null,e)}),e.jr.push(function(){var t=(0,rs.Z)(function*(t){t?(e.zr.hr(),Wg(e)?Gg(e):e.Wr.set("Unknown")):(yield e.zr.stop(),Yg(e))});return function(e){return t.apply(this,arguments)}}())),e.zr}function Em(e){return e.Hr||(e.Hr=function(e,t,n){const r=Cc(e);return r.Cr(),new Lg(t,r.nr,r.credentials,r.N,n)}(e.datastore,e.asyncQueue,{Si:dm.bind(null,e),Ci:vm.bind(null,e),Vr:pm.bind(null,e),vr:mm.bind(null,e)}),e.jr.push(function(){var t=(0,rs.Z)(function*(t){t?(e.Hr.hr(),yield om(e)):(yield e.Hr.stop(),e.Ur.length>0&&(wc("RemoteStore",`Stopping write stream with ${e.Ur.length} pending writes`),e.Ur=[]))});return function(e){return t.apply(this,arguments)}}())),e.Hr}class Tm{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new xc,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,o=new Tm(e,t,s,r,i);return o.start(n),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new kc(Ac.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Sm(e,t){if(bc("AsyncQueue",`${t}: ${e}`),Sf(e))return new kc(Ac.UNAVAILABLE,`${t}: ${e}`);throw e}class Cm{constructor(e){this.comparator=e?(t,n)=>e(t,n)||cl.comparator(t.key,n.key):(e,t)=>cl.comparator(e.key,t.key),this.keyedMap=td(),this.sortedSet=new Gh(this.comparator)}static emptySet(e){return new Cm(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Cm))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Cm;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Am{constructor(){this.Jr=new Gh(cl.comparator)}track(e){const t=e.doc.key,n=this.Jr.get(t);n?0!==e.type&&3===n.type?this.Jr=this.Jr.insert(t,e):3===e.type&&1!==n.type?this.Jr=this.Jr.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Jr=this.Jr.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Jr=this.Jr.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Jr=this.Jr.remove(t):1===e.type&&2===n.type?this.Jr=this.Jr.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Jr=this.Jr.insert(t,{type:2,doc:e.doc}):Tc():this.Jr=this.Jr.insert(t,e)}Yr(){const e=[];return this.Jr.inorderTraversal((t,n)=>{e.push(n)}),e}}class km{constructor(e,t,n,r,i,s,o,a){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a}static fromInitialDocuments(e,t,n,r){const i=[];return t.forEach(e=>{i.push({type:0,doc:e})}),new km(e,t,Cm.emptySet(t),i,n,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ih(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class xm{constructor(){this.Xr=void 0,this.listeners=[]}}class Nm{constructor(){this.queries=new bp(e=>sh(e),ih),this.onlineState="Unknown",this.Zr=new Set}}function Om(e,t){return Rm.apply(this,arguments)}function Rm(){return(Rm=(0,rs.Z)(function*(e,t){const n=Cc(e),r=t.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new xm),i)try{s.Xr=yield n.onListen(r)}catch(e){const n=Sm(e,`Initialization of query '${oh(t.query)}' failed`);return void t.onError(n)}n.queries.set(r,s),s.listeners.push(t),t.eo(n.onlineState),s.Xr&&t.no(s.Xr)&&Fm(n)})).apply(this,arguments)}function Dm(e,t){return Pm.apply(this,arguments)}function Pm(){return(Pm=(0,rs.Z)(function*(e,t){const n=Cc(e),r=t.query;let i=!1;const s=n.queries.get(r);if(s){const e=s.listeners.indexOf(t);e>=0&&(s.listeners.splice(e,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)})).apply(this,arguments)}function Lm(e,t){const n=Cc(e);let r=!1;for(const i of t){const e=n.queries.get(i.query);if(e){for(const t of e.listeners)t.no(i)&&(r=!0);e.Xr=i}}r&&Fm(n)}function Mm(e,t,n){const r=Cc(e),i=r.queries.get(t);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(t)}function Fm(e){e.Zr.forEach(e=>{e.next()})}class Um{constructor(e,t,n){this.query=e,this.so=t,this.io=!1,this.ro=null,this.onlineState="Unknown",this.options=n||{}}no(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new km(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.io?this.oo(e)&&(this.so.next(e),t=!0):this.ao(e,this.onlineState)&&(this.co(e),t=!0),this.ro=e,t}onError(e){this.so.error(e)}eo(e){this.onlineState=e;let t=!1;return this.ro&&!this.io&&this.ao(this.ro,e)&&(this.co(this.ro),t=!0),t}ao(e,t){return!e.fromCache||!(this.options.uo&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}oo(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.ro&&this.ro.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}co(e){e=km.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.io=!0,this.so.next(e)}}class Vm{constructor(e,t){this.payload=e,this.byteLength=t}ho(){return"metadata"in this.payload}}class jm{constructor(e){this.N=e}zn(e){return Ad(this.N,e)}Hn(e){return e.metadata.exists?Dd(this.N,e.document,!1):Cl.newNoDocument(this.zn(e.metadata.name),this.Jn(e.metadata.readTime))}Jn(e){return Ed(e)}}class qm{constructor(e,t,n){this.lo=e,this.localStore=t,this.N=n,this.queries=[],this.documents=[],this.progress=Bm(e)}fo(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}wo(e){const t=new Map,n=new jm(this.N);for(const r of e)if(r.metadata.queries){const e=n.zn(r.metadata.name);for(const n of r.metadata.queries){const r=(t.get(n)||sd()).add(e);t.set(n,r)}}return t}complete(){var e=this;return(0,rs.Z)(function*(){const t=yield function(e,t,n,r){return tg.apply(this,arguments)}(e.localStore,new jm(e.N),e.documents,e.lo.id),n=e.wo(e.documents);for(const r of e.queries)yield ng(e.localStore,r,n.get(r.name));return e.progress.taskState="Success",new Lp(Object.assign({},e.progress),t)})()}}function Bm(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}class zm{constructor(e){this.key=e}}class Zm{constructor(e){this.key=e}}class Hm{constructor(e,t){this.query=e,this._o=t,this.mo=null,this.current=!1,this.yo=sd(),this.mutatedKeys=sd(),this.po=uh(e),this.Eo=new Cm(this.po)}get To(){return this._o}Io(e,t){const n=t?t.Ao:new Am,r=t?t.Eo:this.Eo;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,o=!1;const a=Yl(this.query)&&r.size===this.query.limit?r.last():null,u=Ql(this.query)&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const c=r.get(e),l=ah(this.query,t)?t:null,h=!!c&&this.mutatedKeys.has(c.key),d=!!l&&(l.hasLocalMutations||this.mutatedKeys.has(l.key)&&l.hasCommittedMutations);let f=!1;c&&l?c.data.isEqual(l.data)?h!==d&&(n.track({type:3,doc:l}),f=!0):this.Ro(c,l)||(n.track({type:2,doc:l}),f=!0,(a&&this.po(l,a)>0||u&&this.po(l,u)<0)&&(o=!0)):!c&&l?(n.track({type:0,doc:l}),f=!0):c&&!l&&(n.track({type:1,doc:c}),f=!0,(a||u)&&(o=!0)),f&&(l?(s=s.add(l),i=d?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))}),Yl(this.query)||Ql(this.query))for(;s.size>this.query.limit;){const e=Yl(this.query)?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{Eo:s,Ao:n,Ln:o,mutatedKeys:i}}Ro(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n){const r=this.Eo;this.Eo=e.Eo,this.mutatedKeys=e.mutatedKeys;const i=e.Ao.Yr();i.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Tc()}};return n(e)-n(t)}(e.type,t.type)||this.po(e.doc,t.doc)),this.Po(n);const s=t?this.bo():[],o=0===this.yo.size&&this.current?1:0,a=o!==this.mo;return this.mo=o,0!==i.length||a?{snapshot:new km(this.query,e.Eo,r,i,e.mutatedKeys,0===o,a,!1),vo:s}:{vo:s}}eo(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Eo:this.Eo,Ao:new Am,mutatedKeys:this.mutatedKeys,Ln:!1},!1)):{vo:[]}}Vo(e){return!this._o.has(e)&&!!this.Eo.has(e)&&!this.Eo.get(e).hasLocalMutations}Po(e){e&&(e.addedDocuments.forEach(e=>this._o=this._o.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this._o=this._o.delete(e)),this.current=e.current)}bo(){if(!this.current)return[];const e=this.yo;this.yo=sd(),this.Eo.forEach(e=>{this.Vo(e.key)&&(this.yo=this.yo.add(e.key))});const t=[];return e.forEach(e=>{this.yo.has(e)||t.push(new Zm(e))}),this.yo.forEach(n=>{e.has(n)||t.push(new zm(n))}),t}So(e){this._o=e.Gn,this.yo=sd();const t=this.Io(e.documents);return this.applyChanges(t,!0)}Do(){return km.fromInitialDocuments(this.query,this.Eo,this.mutatedKeys,0===this.mo)}}class $m{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Gm{constructor(e){this.key=e,this.Co=!1}}class Wm{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.No={},this.xo=new bp(e=>sh(e),ih),this.ko=new Map,this.$o=new Set,this.Oo=new Gh(cl.comparator),this.Fo=new Map,this.Mo=new sg,this.Lo={},this.Bo=new Map,this.Uo=up.ie(),this.onlineState="Unknown",this.qo=void 0}get isPrimaryClient(){return!0===this.qo}}function Km(e,t){return Ym.apply(this,arguments)}function Ym(){return(Ym=(0,rs.Z)(function*(e,t){const n=Vy(e);let r,i;const s=n.xo.get(t);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Do();else{const e=yield Wp(n.localStore,nh(t)),s=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,i=yield Qm(n,t,r,"current"===s),n.isPrimaryClient&&zg(n.remoteStore,e)}return i})).apply(this,arguments)}function Qm(e,t,n,r){return Jm.apply(this,arguments)}function Jm(){return(Jm=(0,rs.Z)(function*(e,t,n,r){e.Ko=(t,n,r)=>{return(i=(0,rs.Z)(function*(e,t,n,r){let i=t.view.Io(n);i.Ln&&(i=yield Qp(e.localStore,t.query,!1).then(({documents:e})=>t.view.Io(e,i)));const s=r&&r.targetChanges.get(t.targetId),o=t.view.applyChanges(i,e.isPrimaryClient,s);return my(e,t.targetId,o.vo),o.snapshot}),function(e,t,n,r){return i.apply(this,arguments)})(e,t,n,r);var i};const i=yield Qp(e.localStore,t,!0),s=new Hm(t,i.Gn),o=s.Io(i.documents),a=cd.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState),u=s.applyChanges(o,e.isPrimaryClient,a);my(e,n,u.vo);const c=new $m(t,n,s);return e.xo.set(t,c),e.ko.has(n)?e.ko.get(n).push(t):e.ko.set(n,[t]),u.snapshot})).apply(this,arguments)}function Xm(e,t){return ey.apply(this,arguments)}function ey(){return(ey=(0,rs.Z)(function*(e,t){const n=Cc(e),r=n.xo.get(t),i=n.ko.get(r.targetId);if(i.length>1)return n.ko.set(r.targetId,i.filter(e=>!ih(e,t))),void n.xo.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Kp(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Zg(n.remoteStore,r.targetId),py(n,r.targetId)}).catch(fp))):(py(n,r.targetId),yield Kp(n.localStore,r.targetId,!0))})).apply(this,arguments)}function ty(){return(ty=(0,rs.Z)(function*(e,t,n){const r=jy(e);try{const e=yield function(e,t){const n=Cc(e),r=Bc.now(),i=t.reduce((e,t)=>e.add(t.key),sd());let s;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>n.Qn.bn(e,i).next(i=>{s=i;const o=[];for(const e of t){const t=Rh(e,s.get(e.key));null!=t&&o.push(new Mh(e.key,t,Sl(t.value.mapValue),Ah.exists(!0)))}return n.In.addMutationBatch(e,r,o,t)})).then(e=>(e.applyToLocalDocumentSet(s),{batchId:e.batchId,changes:s}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Lo[e.currentUser.toKey()];r||(r=new Gh(Vc)),r=r.insert(t,n),e.Lo[e.currentUser.toKey()]=r}(r,e.batchId,n),yield _y(r,e.changes),yield om(r.remoteStore)}catch(e){const t=Sm(e,"Failed to persist write");n.reject(t)}})).apply(this,arguments)}function ny(e,t){return ry.apply(this,arguments)}function ry(){return(ry=(0,rs.Z)(function*(e,t){const n=Cc(e);try{const e=yield Hp(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.Fo.get(t);r&&(Sc(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.Co=!0:e.modifiedDocuments.size>0?Sc(r.Co):e.removedDocuments.size>0&&(Sc(r.Co),r.Co=!1))}),yield _y(n,e,t)}catch(e){yield fp(e)}})).apply(this,arguments)}function iy(e,t,n){const r=Cc(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.xo.forEach((n,r)=>{const i=r.view.eo(t);i.snapshot&&e.push(i.snapshot)}),function(e,t){const n=Cc(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const i of n.listeners)i.eo(t)&&(r=!0)}),r&&Fm(n)}(r.eventManager,t),e.length&&r.No.Tr(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function sy(e,t,n){return oy.apply(this,arguments)}function oy(){return(oy=(0,rs.Z)(function*(e,t,n){const r=Cc(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Fo.get(t),s=i&&i.key;if(s){let e=new Gh(cl.comparator);e=e.insert(s,Cl.newNoDocument(s,zc.min()));const n=sd().add(s),i=new ud(zc.min(),new Map,new Yh(Vc),e,n);yield ny(r,i),r.Oo=r.Oo.remove(s),r.Fo.delete(t),vy(r)}else yield Kp(r.localStore,t,!1).then(()=>py(r,t,n)).catch(fp)})).apply(this,arguments)}function ay(e,t){return uy.apply(this,arguments)}function uy(){return(uy=(0,rs.Z)(function*(e,t){const n=Cc(e),r=t.batch.batchId;try{const e=yield zp(n.localStore,t);fy(n,r,null),dy(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield _y(n,e)}catch(e){yield fp(e)}})).apply(this,arguments)}function cy(e,t,n){return ly.apply(this,arguments)}function ly(){return(ly=(0,rs.Z)(function*(e,t,n){const r=Cc(e);try{const e=yield function(e,t){const n=Cc(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.In.lookupMutationBatch(e,t).next(t=>(Sc(null!==t),r=t.keys(),n.In.removeMutationBatch(e,t))).next(()=>n.In.performConsistencyCheck(e)).next(()=>n.Qn.bn(e,r))})}(r.localStore,t);fy(r,t,n),dy(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),yield _y(r,e)}catch(n){yield fp(n)}})).apply(this,arguments)}function hy(){return(hy=(0,rs.Z)(function*(e,t){const n=Cc(e);Kg(n.remoteStore)||wc("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const e=yield function(e){const t=Cc(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",e=>t.In.getHighestUnacknowledgedBatchId(e))}(n.localStore);if(-1===e)return void t.resolve();const r=n.Bo.get(e)||[];r.push(t),n.Bo.set(e,r)}catch(e){const n=Sm(e,"Initialization of waitForPendingWrites() operation failed");t.reject(n)}})).apply(this,arguments)}function dy(e,t){(e.Bo.get(t)||[]).forEach(e=>{e.resolve()}),e.Bo.delete(t)}function fy(e,t,n){const r=Cc(e);let i=r.Lo[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Lo[r.currentUser.toKey()]=i}}function py(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.ko.get(t))e.xo.delete(r),n&&e.No.jo(r,n);e.ko.delete(t),e.isPrimaryClient&&e.Mo.cs(t).forEach(t=>{e.Mo.containsKey(t)||gy(e,t)})}function gy(e,t){e.$o.delete(t.path.canonicalString());const n=e.Oo.get(t);null!==n&&(Zg(e.remoteStore,n),e.Oo=e.Oo.remove(t),e.Fo.delete(n),vy(e))}function my(e,t,n){for(const r of n)r instanceof zm?(e.Mo.addReference(r.key,t),yy(e,r)):r instanceof Zm?(wc("SyncEngine","Document no longer in limbo: "+r.key),e.Mo.removeReference(r.key,t),e.Mo.containsKey(r.key)||gy(e,r.key)):Tc()}function yy(e,t){const n=t.key,r=n.path.canonicalString();e.Oo.get(n)||e.$o.has(r)||(wc("SyncEngine","New document in limbo: "+n),e.$o.add(r),vy(e))}function vy(e){for(;e.$o.size>0&&e.Oo.size<e.maxConcurrentLimboResolutions;){const t=e.$o.values().next().value;e.$o.delete(t);const n=new cl(Wc.fromString(t)),r=e.Uo.next();e.Fo.set(r,new Gm(n)),e.Oo=e.Oo.insert(n,r),zg(e.remoteStore,new Pf(nh(Kl(n.path)),r,2,Mc.T))}}function _y(e,t,n){return wy.apply(this,arguments)}function wy(){return(wy=(0,rs.Z)(function*(e,t,n){const r=Cc(e),i=[],s=[],o=[];var a;r.xo.isEmpty()||(r.xo.forEach((e,a)=>{o.push(r.Ko(a,t,n).then(e=>{if(e){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,e.fromCache?"not-current":"current"),i.push(e);const t=Fp.kn(a.targetId,e);s.push(t)}}))}),yield Promise.all(o),r.No.Tr(i),yield(a=(0,rs.Z)(function*(e,t){const n=Cc(e);try{yield n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>wf.forEach(t,t=>wf.forEach(t.Nn,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>wf.forEach(t.xn,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!Sf(e))throw e;wc("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Un.get(e),r=t.withLastLimboFreeSnapshotVersion(t.snapshotVersion);n.Un=n.Un.insert(e,r)}}}),function(e,t){return a.apply(this,arguments)})(r.localStore,s))})).apply(this,arguments)}function by(e,t){return Iy.apply(this,arguments)}function Iy(){return(Iy=(0,rs.Z)(function*(e,t){const n=Cc(e);if(!n.currentUser.isEqual(t)){wc("SyncEngine","User change. New user:",t.toKey());const e=yield qp(n.localStore,t);n.currentUser=t,function(e,t){e.Bo.forEach(e=>{e.forEach(e=>{e.reject(new kc(Ac.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),e.Bo.clear()}(n),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),yield _y(n,e.Wn)}})).apply(this,arguments)}function Ey(e,t){const n=Cc(e),r=n.Fo.get(t);if(r&&r.Co)return sd().add(r.key);{let e=sd();const r=n.ko.get(t);if(!r)return e;for(const t of r){const r=n.xo.get(t);e=e.unionWith(r.view.To)}return e}}function Ty(e,t){return Sy.apply(this,arguments)}function Sy(){return(Sy=(0,rs.Z)(function*(e,t){const n=Cc(e),r=yield Qp(n.localStore,t.query,!0),i=t.view.So(r);return n.isPrimaryClient&&my(n,t.targetId,i.vo),i})).apply(this,arguments)}function Cy(e){return Ay.apply(this,arguments)}function Ay(){return(Ay=(0,rs.Z)(function*(e){const t=Cc(e);return Xp(t.localStore).then(e=>_y(t,e))})).apply(this,arguments)}function ky(e,t,n,r){return xy.apply(this,arguments)}function xy(){return(xy=(0,rs.Z)(function*(e,t,n,r){const i=Cc(e),s=yield function(e,t){const n=Cc(e),r=Cc(n.In);return n.persistence.runTransaction("Lookup mutation documents","readonly",e=>r.Xt(e,t).next(t=>t?n.Qn.bn(e,t):wf.resolve(null)))}(i.localStore,t);null!==s?("pending"===n?yield om(i.remoteStore):"acknowledged"===n||"rejected"===n?(fy(i,t,r||null),dy(i,t),function(e,t){Cc(Cc(e).In).te(t)}(i.localStore,t)):Tc(),yield _y(i,s)):wc("SyncEngine","Cannot apply mutation batch with id: "+t)})).apply(this,arguments)}function Ny(){return(Ny=(0,rs.Z)(function*(e,t){const n=Cc(e);if(Vy(n),jy(n),!0===t&&!0!==n.qo){const e=n.sharedClientState.getAllActiveQueryTargets(),t=yield Oy(n,e.toArray());n.qo=!0,yield wm(n.remoteStore,!0);for(const r of t)zg(n.remoteStore,r)}else if(!1===t&&!1!==n.qo){const e=[];let t=Promise.resolve();n.ko.forEach((r,i)=>{n.sharedClientState.isLocalQueryTarget(i)?e.push(i):t=t.then(()=>(py(n,i),Kp(n.localStore,i,!0))),Zg(n.remoteStore,i)}),yield t,yield Oy(n,e),function(e){const t=Cc(e);t.Fo.forEach((e,n)=>{Zg(t.remoteStore,n)}),t.Mo.us(),t.Fo=new Map,t.Oo=new Gh(cl.comparator)}(n),n.qo=!1,yield wm(n.remoteStore,!1)}})).apply(this,arguments)}function Oy(e,t,n){return Ry.apply(this,arguments)}function Ry(){return(Ry=(0,rs.Z)(function*(e,t,n){const r=Cc(e),i=[],s=[];for(const o of t){let e;const t=r.ko.get(o);if(t&&0!==t.length){e=yield Wp(r.localStore,nh(t[0]));for(const e of t){const t=r.xo.get(e),n=yield Ty(r,t);n.snapshot&&s.push(n.snapshot)}}else{const t=yield Jp(r.localStore,o);e=yield Wp(r.localStore,t),yield Qm(r,Dy(t),o,!1)}i.push(e)}return r.No.Tr(s),i})).apply(this,arguments)}function Dy(e){return Wl(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function Py(e){const t=Cc(e);return Cc(Cc(t.localStore).persistence).pn()}function Ly(e,t,n,r){return My.apply(this,arguments)}function My(){return(My=(0,rs.Z)(function*(e,t,n,r){const i=Cc(e);if(i.qo)wc("SyncEngine","Ignoring unexpected query state notification.");else if(i.ko.has(t))switch(n){case"current":case"not-current":{const e=yield Xp(i.localStore),r=ud.createSynthesizedRemoteEventForCurrentChange(t,"current"===n);yield _y(i,e,r);break}case"rejected":yield Kp(i.localStore,t,!0),py(i,t,r);break;default:Tc()}})).apply(this,arguments)}function Fy(e,t,n){return Uy.apply(this,arguments)}function Uy(){return(Uy=(0,rs.Z)(function*(e,t,n){const r=Vy(e);if(r.qo){for(const e of t){if(r.ko.has(e)){wc("SyncEngine","Adding an already active target "+e);continue}const t=yield Jp(r.localStore,e),n=yield Wp(r.localStore,t);yield Qm(r,Dy(t),n.targetId,!1),zg(r.remoteStore,n)}for(const e of n)r.ko.has(e)&&(yield Kp(r.localStore,e,!1).then(()=>{Zg(r.remoteStore,e),py(r,e)}).catch(fp))}})).apply(this,arguments)}function Vy(e){const t=Cc(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=ny.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ey.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=sy.bind(null,t),t.No.Tr=Lm.bind(null,t.eventManager),t.No.jo=Mm.bind(null,t.eventManager),t}function jy(e){const t=Cc(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=ay.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=cy.bind(null,t),t}class qy{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,rs.Z)(function*(){t.N=Og(e.databaseInfo.databaseId),t.sharedClientState=t.Wo(e),t.persistence=t.Go(e),yield t.persistence.start(),t.gcScheduler=t.zo(e),t.localStore=t.Ho(e)})()}zo(e){return null}Ho(e){return jp(this.persistence,new Up,e.initialUser,this.N)}Go(e){return new hg(fg.Ns,this.N)}Wo(e){return new Eg}terminate(){var e=this;return(0,rs.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class By extends qy{constructor(e,t,n){super(),this.Jo=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,n=this;return(0,rs.Z)(function*(){yield t().call(n,e),yield function(e){return eg.apply(this,arguments)}(n.localStore),yield n.Jo.initialize(n,e),yield jy(n.Jo.syncEngine),yield om(n.Jo.remoteStore),yield n.persistence.nn(()=>(n.gcScheduler&&!n.gcScheduler.started&&n.gcScheduler.start(n.localStore),Promise.resolve()))})()}Ho(e){return jp(this.persistence,new Up,e.initialUser,this.N)}zo(e){return new yp(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}Go(e){const t=Pp(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?ep.withCacheSize(this.cacheSizeBytes):ep.DEFAULT;return new Op(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,xg(),Ng(),this.N,this.sharedClientState,!!this.forceOwnership)}Wo(e){return new Eg}}class zy extends By{constructor(e,t){super(e,t,!1),this.Jo=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,n=this;return(0,rs.Z)(function*(){yield t().call(n,e);const r=n.Jo.syncEngine;n.sharedClientState instanceof Ig&&(n.sharedClientState.syncEngine={_i:ky.bind(null,r),mi:Ly.bind(null,r),gi:Fy.bind(null,r),pn:Py.bind(null,r),wi:Cy.bind(null,r)},yield n.sharedClientState.start()),yield n.persistence.nn(function(){var e=(0,rs.Z)(function*(e){yield function(e,t){return Ny.apply(this,arguments)}(n.Jo.syncEngine,e),n.gcScheduler&&(e&&!n.gcScheduler.started?n.gcScheduler.start(n.localStore):e||n.gcScheduler.stop())});return function(t){return e.apply(this,arguments)}}())})()}Wo(e){const t=xg();if(!Ig.Pt(t))throw new kc(Ac.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=Pp(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Ig(t,e.asyncQueue,n,e.clientId,e.initialUser)}}class Zy{initialize(e,t){var n=this;return(0,rs.Z)(function*(){n.localStore||(n.localStore=e.localStore,n.sharedClientState=e.sharedClientState,n.datastore=n.createDatastore(t),n.remoteStore=n.createRemoteStore(t),n.eventManager=n.createEventManager(t),n.syncEngine=n.createSyncEngine(t,!e.synchronizeTabs),n.sharedClientState.onlineStateHandler=e=>iy(n.syncEngine,e,1),n.remoteStore.remoteSyncer.handleCredentialChange=by.bind(null,n.syncEngine),yield wm(n.remoteStore,n.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Nm}createDatastore(e){const t=Og(e.databaseInfo.databaseId),n=new kg(e.databaseInfo);return function(e,t,n){return new Mg(e,t,n)}(e.credentials,n,t)}createRemoteStore(e){return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=e=>iy(this.syncEngine,e,0),s=Sg.Pt()?new Sg:new Tg,new Ug(t,n,r,i,s);var t,n,r,i,s}createSyncEngine(e,t){return function(e,t,n,r,i,s,o){const a=new Wm(e,t,n,r,i,s);return o&&(a.qo=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,rs.Z)(function*(e){const t=Cc(e);wc("RemoteStore","RemoteStore shutting down."),t.Kr.add(5),yield qg(t),t.Qr.shutdown(),t.Wr.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function Hy(e,t=10240){let n=0;return{read:()=>(0,rs.Z)(function*(){if(n<e.byteLength){const r={value:e.slice(n,n+t),done:!1};return n+=t,r}return{done:!0}})(),cancel:()=>(0,rs.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class $y{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Yo(this.observer.next,e)}error(e){this.observer.error?this.Yo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Xo(){this.muted=!0}Yo(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Gy{constructor(e,t){this.Zo=e,this.N=t,this.metadata=new xc,this.buffer=new Uint8Array,this.ta=new TextDecoder("utf-8"),this.ea().then(e=>{e&&e.ho()?this.metadata.resolve(e.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==e?void 0:e.payload)}`))},e=>this.metadata.reject(e))}close(){return this.Zo.cancel()}getMetadata(){var e=this;return(0,rs.Z)(function*(){return e.metadata.promise})()}Qo(){var e=this;return(0,rs.Z)(function*(){return yield e.getMetadata(),e.ea()})()}ea(){var e=this;return(0,rs.Z)(function*(){const t=yield e.na();if(null===t)return null;const n=e.ta.decode(t),r=Number(n);isNaN(r)&&e.sa(`length string (${n}) is not valid number`);const i=yield e.ia(r);return new Vm(JSON.parse(i),t.length+r)})()}ra(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}na(){var e=this;return(0,rs.Z)(function*(){for(;e.ra()<0&&!(yield e.oa()););if(0===e.buffer.length)return null;const t=e.ra();t<0&&e.sa("Reached the end of bundle when a length string is expected.");const n=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),n})()}ia(e){var t=this;return(0,rs.Z)(function*(){for(;t.buffer.length<e;)(yield t.oa())&&t.sa("Reached the end of bundle when more is expected.");const n=t.ta.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),n})()}sa(e){throw this.Zo.cancel(),new Error(`Invalid bundle format: ${e}`)}oa(){var e=this;return(0,rs.Z)(function*(){const t=yield e.Zo.read();if(!t.done){const n=new Uint8Array(e.buffer.length+t.value.length);n.set(e.buffer),n.set(t.value,e.buffer.length),e.buffer=n}return t.done})()}}class Wy{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,rs.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new kc(Ac.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const n=yield(r=(0,rs.Z)(function*(e,t){const n=Cc(e),r=Nd(n.N)+"/documents",i={documents:t.map(e=>Cd(n.N,e))},s=yield n.Ki("BatchGetDocuments",r,i),o=new Map;s.forEach(e=>{const t=function(e,t){return"found"in t?function(e,t){Sc(!!t.found);const n=Ad(e,t.found.name),r=Ed(t.found.updateTime),i=new Tl({mapValue:{fields:t.found.fields}});return Cl.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){Sc(!!t.missing),Sc(!!t.readTime);const n=Ad(e,t.missing),r=Ed(t.readTime);return Cl.newNoDocument(n,r)}(e,t):Tc()}(n.N,e);o.set(t.key.toString(),t)});const a=[];return t.forEach(e=>{const t=o.get(e.toString());Sc(!!t),a.push(t)}),a}),function(e,t){return r.apply(this,arguments)})(t.datastore,e);var r;return n.forEach(e=>t.recordVersion(e)),n})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new jh(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,rs.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var n;e.mutations.forEach(e=>{t.delete(e.key.toString())}),t.forEach((t,n)=>{const r=cl.fromPath(n);e.mutations.push(new qh(r,e.precondition(r)))}),yield(n=(0,rs.Z)(function*(e,t){const n=Cc(e),r=Nd(n.N)+"/documents",i={writes:t.map(e=>Pd(n.N,e))};yield n.Li("Commit",r,i)}),function(e,t){return n.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Tc();t=zc.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new kc(Ac.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Ah.updateTime(t):Ah.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(zc.min()))throw new kc(Ac.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ah.updateTime(t)}return Ah.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Ky{constructor(e,t,n,r){this.asyncQueue=e,this.datastore=t,this.updateFunction=n,this.deferred=r,this.aa=5,this.rr=new Rg(this.asyncQueue,"transaction_retry")}run(){this.aa-=1,this.ca()}ca(){var e=this;this.rr.Xi((0,rs.Z)(function*(){const t=new Wy(e.datastore),n=e.ua(t);n&&n.then(n=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(n)}).catch(t=>{e.ha(t)}))}).catch(t=>{e.ha(t)})}))}ua(e){try{const t=this.updateFunction(e);return!ol(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}ha(e){this.aa>0&&this.la(e)?(this.aa-=1,this.asyncQueue.enqueueAndForget(()=>(this.ca(),Promise.resolve()))):this.deferred.reject(e)}la(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!Hh(t)}return!1}}class Yy{constructor(e,t,n){var r=this;this.credentials=e,this.asyncQueue=t,this.databaseInfo=n,this.user=mc.UNAUTHENTICATED,this.clientId=Uc.I(),this.credentialListener=()=>Promise.resolve(),this.credentials.start(t,function(){var e=(0,rs.Z)(function*(e){wc("FirestoreClient","Received user=",e.uid),yield r.credentialListener(e),r.user=e});return function(t){return e.apply(this,arguments)}}())}getConfiguration(){var e=this;return(0,rs.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,credentials:e.credentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.credentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new kc(Ac.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new xc;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,rs.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.credentials.shutdown(),t.resolve()}catch(n){const e=Sm(n,"Failed to shutdown persistence");t.reject(e)}})),t.promise}}function Qy(e,t){return Jy.apply(this,arguments)}function Jy(){return(Jy=(0,rs.Z)(function*(e,t){e.asyncQueue.verifyOperationInProgress(),wc("FirestoreClient","Initializing OfflineComponentProvider");const n=yield e.getConfiguration();yield t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(function(){var e=(0,rs.Z)(function*(e){r.isEqual(e)||(yield qp(t.localStore,e),r=e)});return function(t){return e.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e.offlineComponents=t})).apply(this,arguments)}function Xy(e,t){return ev.apply(this,arguments)}function ev(){return(ev=(0,rs.Z)(function*(e,t){e.asyncQueue.verifyOperationInProgress();const n=yield tv(e);wc("FirestoreClient","Initializing OnlineComponentProvider");const r=yield e.getConfiguration();yield t.initialize(n,r),e.setCredentialChangeListener(e=>{return(n=(0,rs.Z)(function*(e,t){const n=Cc(e);n.asyncQueue.verifyOperationInProgress(),wc("RemoteStore","RemoteStore received new credentials");const r=Kg(n);n.Kr.add(3),yield qg(n),r&&n.Wr.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(t),n.Kr.delete(3),yield Vg(n)}),function(e,t){return n.apply(this,arguments)})(t.remoteStore,e);var n}),e.onlineComponents=t})).apply(this,arguments)}function tv(e){return nv.apply(this,arguments)}function nv(){return(nv=(0,rs.Z)(function*(e){return e.offlineComponents||(wc("FirestoreClient","Using default OfflineComponentProvider"),yield Qy(e,new qy)),e.offlineComponents})).apply(this,arguments)}function rv(e){return iv.apply(this,arguments)}function iv(){return(iv=(0,rs.Z)(function*(e){return e.onlineComponents||(wc("FirestoreClient","Using default OnlineComponentProvider"),yield Xy(e,new Zy)),e.onlineComponents})).apply(this,arguments)}function sv(e){return tv(e).then(e=>e.persistence)}function ov(e){return tv(e).then(e=>e.localStore)}function av(e){return rv(e).then(e=>e.remoteStore)}function uv(e){return rv(e).then(e=>e.syncEngine)}function cv(e){return lv.apply(this,arguments)}function lv(){return(lv=(0,rs.Z)(function*(e){const t=yield rv(e),n=t.eventManager;return n.onListen=Km.bind(null,t.syncEngine),n.onUnlisten=Xm.bind(null,t.syncEngine),n})).apply(this,arguments)}function hv(e,t,n={}){const r=new xc;return e.asyncQueue.enqueueAndForget((0,rs.Z)(function*(){return function(e,t,n,r,i){const s=new $y({next:s=>{t.enqueueAndForget(()=>Dm(e,o));const a=s.docs.has(n);!a&&s.fromCache?i.reject(new kc(Ac.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&r&&"server"===r.source?i.reject(new kc(Ac.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:e=>i.reject(e)}),o=new Um(Kl(n.path),s,{includeMetadataChanges:!0,uo:!0});return Om(e,o)}(yield cv(e),e.asyncQueue,t,n,r)})),r.promise}function dv(e,t,n={}){const r=new xc;return e.asyncQueue.enqueueAndForget((0,rs.Z)(function*(){return function(e,t,n,r,i){const s=new $y({next:n=>{t.enqueueAndForget(()=>Dm(e,o)),n.fromCache&&"server"===r.source?i.reject(new kc(Ac.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),o=new Um(n,s,{includeMetadataChanges:!0,uo:!0});return Om(e,o)}(yield cv(e),e.asyncQueue,t,n,r)})),r.promise}class fv{constructor(e,t,n,r,i,s,o,a){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.useFetchStreams=a}}class pv{constructor(e,t){this.projectId=e,this.database=t||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof pv&&e.projectId===this.projectId&&e.database===this.database}}const gv=new Map;function mv(e,t,n){if(!n)throw new kc(Ac.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function yv(e,t,n,r){if(!0===t&&!0===r)throw new kc(Ac.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function vv(e){if(!cl.isDocumentKey(e))throw new kc(Ac.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function _v(e){if(cl.isDocumentKey(e))throw new kc(Ac.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function wv(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){if(e.constructor){const t=/function\s+([^\s(]+)\s*\(/.exec(e.constructor.toString());if(t&&t.length>1)return t[1]}return null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":Tc()}function bv(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new kc(Ac.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=wv(e);throw new kc(Ac.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function Iv(e,t){if(t<=0)throw new kc(Ac.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}class Ev{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new kc(Ac.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new kc(Ac.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,yv("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Tv{constructor(e,t){this._credentials=t,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ev({}),this._settingsFrozen=!1,e instanceof pv?this._databaseId=e:(this._app=e,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new kc(Ac.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new pv(e.options.projectId)}(e))}get app(){if(!this._app)throw new kc(Ac.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new kc(Ac.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ev(e),void 0!==e.credentials&&(this._credentials=function(e){if(!e)return new Oc;switch(e.type){case"gapi":const t=e.client;return Sc(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new Lc(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new kc(Ac.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=gv.get(e);t&&(wc("ComponentProvider","Removing Datastore"),gv.delete(e),t.terminate())}(this),Promise.resolve()}}class Sv{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Av(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Sv(this.firestore,e,this._key)}}class Cv{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Cv(this.firestore,e,this._query)}}class Av extends Cv{constructor(e,t,n){super(e,t,Kl(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Sv(this.firestore,null,new cl(e))}withConverter(e){return new Av(this.firestore,e,this._path)}}function kv(e,t,...n){if(e=(0,as.m9)(e),mv("collection","path",t),e instanceof Tv){const r=Wc.fromString(t,...n);return _v(r),new Av(e,null,r)}{if(!(e instanceof Sv||e instanceof Av))throw new kc(Ac.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=Wc.fromString(e.path,...n).child(Wc.fromString(t));return _v(r),new Av(e.firestore,null,r)}}function xv(e,t,...n){if(e=(0,as.m9)(e),1===arguments.length&&(t=Uc.I()),mv("doc","path",t),e instanceof Tv){const r=Wc.fromString(t,...n);return vv(r),new Sv(e,null,new cl(r))}{if(!(e instanceof Sv||e instanceof Av))throw new kc(Ac.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Wc.fromString(t,...n));return vv(r),new Sv(e.firestore,e instanceof Av?e.converter:null,new cl(r))}}function Nv(e,t){return e=(0,as.m9)(e),t=(0,as.m9)(t),(e instanceof Sv||e instanceof Av)&&(t instanceof Sv||t instanceof Av)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function Ov(e,t){return e=(0,as.m9)(e),t=(0,as.m9)(t),e instanceof Cv&&t instanceof Cv&&e.firestore===t.firestore&&ih(e._query,t._query)&&e.converter===t.converter}class Rv{constructor(){this.fa=Promise.resolve(),this.da=[],this.wa=!1,this._a=[],this.ma=null,this.ga=!1,this.ya=!1,this.pa=[],this.rr=new Rg(this,"async_queue_retry"),this.Ea=()=>{const e=Ng();e&&wc("AsyncQueue","Visibility state changed to "+e.visibilityState),this.rr.tr()};const e=Ng();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ea)}get isShuttingDown(){return this.wa}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ta(),this.Ia(e)}enterRestrictedMode(e){if(!this.wa){this.wa=!0,this.ya=e||!1;const t=Ng();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ea)}}enqueue(e){if(this.Ta(),this.wa)return new Promise(()=>{});const t=new xc;return this.Ia(()=>this.wa&&this.ya?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.da.push(e),this.Aa()))}Aa(){var e=this;return(0,rs.Z)(function*(){if(0!==e.da.length){try{yield e.da[0](),e.da.shift(),e.rr.reset()}catch(t){if(!Sf(t))throw t;wc("AsyncQueue","Operation failed with retryable error: "+t)}e.da.length>0&&e.rr.Xi(()=>e.Aa())}})()}Ia(e){const t=this.fa.then(()=>(this.ga=!0,e().catch(e=>{throw this.ma=e,this.ga=!1,bc("INTERNAL UNHANDLED ERROR: ",function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e)),e}).then(e=>(this.ga=!1,e))));return this.fa=t,t}enqueueAfterDelay(e,t,n){this.Ta(),this.pa.indexOf(e)>-1&&(t=0);const r=Tm.createAndSchedule(this,e,t,n,e=>this.Ra(e));return this._a.push(r),r}Ta(){this.ma&&Tc()}verifyOperationInProgress(){}Pa(){var e=this;return(0,rs.Z)(function*(){let t;do{t=e.fa,yield t}while(t!==e.fa)})()}ba(e){for(const t of this._a)if(t.timerId===e)return!0;return!1}va(e){return this.Pa().then(()=>{this._a.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this._a)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Pa()})}Va(e){this.pa.push(e)}Ra(e){const t=this._a.indexOf(e);this._a.splice(t,1)}}function Dv(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of["next","error","complete"])if(r in n&&"function"==typeof n[r])return!0;return!1}(e)}class Pv{constructor(){this._progressObserver={},this._taskCompletionResolver=new xc,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,n){this._progressObserver={next:e,error:t,complete:n}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Lv extends Tv{constructor(e,t){super(e,t),this.type="firestore",this._queue=new Rv,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||Fv(this),this._firestoreClient.terminate()}}function Mv(e){return e._firestoreClient||Fv(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Fv(e){var t;const n=e._freezeSettings(),r=function(e,t,n,r){return new fv(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new Yy(e._credentials,e._queue,r)}function Uv(e,t,n){const r=new xc;return e.asyncQueue.enqueue((0,rs.Z)(function*(){try{yield Qy(e,n),yield Xy(e,t),r.resolve()}catch(e){if(!function(e){return"FirebaseError"===e.name?e.code===Ac.FAILED_PRECONDITION||e.code===Ac.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(e))throw e;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+e),r.reject(e)}})).then(()=>r.promise)}function Vv(e){if(e._initialized||e._terminated)throw new kc(Ac.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class jv{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new kc(Ac.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yc(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class qv{constructor(e){this._byteString=e}static fromBase64String(e){try{return new qv(Jc.fromBase64String(e))}catch(e){throw new kc(Ac.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new qv(Jc.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Bv{constructor(e){this._methodName=e}}class zv{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new kc(Ac.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new kc(Ac.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Vc(this._lat,e._lat)||Vc(this._long,e._long)}}const Zv=/^__.*__$/;class Hv{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Mh(e,this.data,this.fieldMask,t,this.fieldTransforms):new Lh(e,this.data,t,this.fieldTransforms)}}class $v{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Mh(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Gv(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Tc()}}class Wv{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.N=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Sa(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Da(){return this.settings.Da}Ca(e){return new Wv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.N,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Na(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Ca({path:n,xa:!1});return r.ka(e),r}$a(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Ca({path:n,xa:!1});return r.Sa(),r}Oa(e){return this.Ca({path:void 0,xa:!0})}Fa(e){return p_(e,this.settings.methodName,this.settings.Ma||!1,this.path,this.settings.La)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Sa(){if(this.path)for(let e=0;e<this.path.length;e++)this.ka(this.path.get(e))}ka(e){if(0===e.length)throw this.Fa("Document fields must not be empty");if(Gv(this.Da)&&Zv.test(e))throw this.Fa('Document fields cannot begin and end with "__"')}}class Kv{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.N=n||Og(e)}Ba(e,t,n,r=!1){return new Wv({Da:e,methodName:t,La:n,path:Yc.emptyPath(),xa:!1,Ma:r},this.databaseId,this.N,this.ignoreUndefinedProperties)}}function Yv(e){const t=e._freezeSettings(),n=Og(e._databaseId);return new Kv(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Qv(e,t,n,r,i,s={}){const o=e.Ba(s.merge||s.mergeFields?2:0,t,n,i);l_("Data must be an object, but it was:",o,r);const a=u_(r,o);let u,c;if(s.merge)u=new Qc(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=h_(t,r,n);if(!o.contains(i))throw new kc(Ac.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);g_(e,i)||e.push(i)}u=new Qc(e),c=o.fieldTransforms.filter(e=>u.covers(e.field))}else u=null,c=o.fieldTransforms;return new Hv(new Tl(a),u,c)}class Jv extends Bv{_toFieldTransform(e){if(2!==e.Da)throw e.Fa(1===e.Da?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Jv}}function Xv(e,t,n){return new Wv({Da:3,La:t.settings.La,methodName:e._methodName,xa:n},t.databaseId,t.N,t.ignoreUndefinedProperties)}class e_ extends Bv{_toFieldTransform(e){return new Sh(e.path,new yh)}isEqual(e){return e instanceof e_}}class t_ extends Bv{constructor(e,t){super(e),this.Ua=t}_toFieldTransform(e){const t=Xv(this,e,!0),n=this.Ua.map(e=>a_(e,t)),r=new vh(n);return new Sh(e.path,r)}isEqual(e){return this===e}}class n_ extends Bv{constructor(e,t){super(e),this.Ua=t}_toFieldTransform(e){const t=Xv(this,e,!0),n=this.Ua.map(e=>a_(e,t)),r=new wh(n);return new Sh(e.path,r)}isEqual(e){return this===e}}class r_ extends Bv{constructor(e,t){super(e),this.qa=t}_toFieldTransform(e){const t=new Ih(e.N,dh(e.N,this.qa));return new Sh(e.path,t)}isEqual(e){return this===e}}function i_(e,t,n,r){const i=e.Ba(1,t,n);l_("Data must be an object, but it was:",i,r);const s=[],o=Tl.empty();Hc(r,(e,r)=>{const a=f_(t,e,n);r=(0,as.m9)(r);const u=i.$a(a);if(r instanceof Jv)s.push(a);else{const e=a_(r,u);null!=e&&(s.push(a),o.set(a,e))}});const a=new Qc(s);return new $v(o,a,i.fieldTransforms)}function s_(e,t,n,r,i,s){const o=e.Ba(1,t,n),a=[h_(t,r,n)],u=[i];if(s.length%2!=0)throw new kc(Ac.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<s.length;d+=2)a.push(h_(t,s[d])),u.push(s[d+1]);const c=[],l=Tl.empty();for(let d=a.length-1;d>=0;--d)if(!g_(c,a[d])){const e=a[d];let t=u[d];t=(0,as.m9)(t);const n=o.$a(e);if(t instanceof Jv)c.push(e);else{const r=a_(t,n);null!=r&&(c.push(e),l.set(e,r))}}const h=new Qc(c);return new $v(l,h,o.fieldTransforms)}function o_(e,t,n,r=!1){return a_(n,e.Ba(r?4:3,t))}function a_(e,t){if(c_(e=(0,as.m9)(e)))return l_("Unsupported field value:",t,e),u_(e,t);if(e instanceof Bv)return function(e,t){if(!Gv(t.Da))throw t.Fa(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.Fa(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.xa&&4!==t.Da)throw t.Fa("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=a_(i,t.Oa(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=(0,as.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return dh(t.N,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Bc.fromDate(e);return{timestampValue:wd(t.N,n)}}if(e instanceof Bc){const n=new Bc(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:wd(t.N,n)}}if(e instanceof zv)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof qv)return{bytesValue:bd(t.N,e._byteString)};if(e instanceof Sv){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Fa(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:Td(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Fa(`Unsupported field value: ${wv(e)}`)}(e,t)}function u_(e,t){const n={};return $c(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Hc(e,(e,r)=>{const i=a_(r,t.Na(e));null!=i&&(n[e]=i)}),{mapValue:{fields:n}}}function c_(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Bc||e instanceof zv||e instanceof qv||e instanceof Sv||e instanceof Bv)}function l_(e,t,n){if(!c_(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=wv(n);throw t.Fa("an object"===r?e+" a custom object":e+" "+r)}}function h_(e,t,n){if((t=(0,as.m9)(t))instanceof jv)return t._internalPath;if("string"==typeof t)return f_(e,t);throw p_("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}const d_=new RegExp("[~\\*/\\[\\]]");function f_(e,t,n){if(t.search(d_)>=0)throw p_(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new jv(...t.split("."))._internalPath}catch(r){throw p_(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function p_(e,t,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new kc(Ac.INVALID_ARGUMENT,a+e+u)}function g_(e,t){return e.some(e=>e.isEqual(t))}class m_{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Sv(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new y_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(v_("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class y_ extends m_{data(){return super.data()}}function v_(e,t){return"string"==typeof t?f_(e,t):t instanceof jv?t._internalPath:t._delegate._internalPath}class __{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class w_ extends m_{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new b_(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(v_("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class b_ extends w_{data(e={}){return super.data(e)}}class I_{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new __(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new b_(this._firestore,this._userDataWriter,n.key,n,new __(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new kc(Ac.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>({type:"added",doc:new b_(e._firestore,e._userDataWriter,n.doc.key,n.doc,new __(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:t++}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new b_(e._firestore,e._userDataWriter,t.doc.key,t.doc,new __(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:E_(t.type),doc:r,oldIndex:i,newIndex:s}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function E_(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Tc()}}function T_(e,t){return e instanceof w_&&t instanceof w_?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof I_&&t instanceof I_&&e._firestore===t._firestore&&Ov(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function S_(e){if(Ql(e)&&0===e.explicitOrderBy.length)throw new kc(Ac.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class C_{}function A_(e,...t){for(const n of t)e=n._apply(e);return e}class k_ extends C_{constructor(e,t,n){super(),this.Ka=e,this.ja=t,this.Qa=n,this.type="where"}_apply(e){const t=Yv(e.firestore),n=function(e,t,n,r,i,s,o){let a;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new kc(Ac.INVALID_ARGUMENT,`Invalid Query. You can't perform '${s}' queries on FieldPath.documentId().`);if("in"===s||"not-in"===s){L_(o,s);const t=[];for(const n of o)t.push(P_(r,e,n));a={arrayValue:{values:t}}}else a=P_(r,e,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||L_(o,s),a=o_(n,"where",o,"in"===s||"not-in"===s);const u=Rl.create(i,s,a);return function(e,t){if(t.v()){const n=Xl(e);if(null!==n&&!n.isEqual(t.field))throw new kc(Ac.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${n.toString()}' and '${t.field.toString()}'`);const r=Jl(e);null!==r&&M_(0,t.field,r)}const n=function(e,t){for(const n of e.filters)if(t.indexOf(n.op)>=0)return n.op;return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw new kc(Ac.INVALID_ARGUMENT,n===t.op?`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`:`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}(e,u),u}(e._query,0,t,e.firestore._databaseId,this.Ka,this.ja,this.Qa);return new Cv(e.firestore,e.converter,function(e,t){const n=e.filters.concat([t]);return new Gl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}class x_ extends C_{constructor(e,t){super(),this.Ka=e,this.Wa=t,this.type="orderBy"}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new kc(Ac.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new kc(Ac.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const r=new zl(t,n);return function(e,t){if(null===Jl(e)){const n=Xl(e);null!==n&&M_(0,n,t.field)}}(e,r),r}(e._query,this.Ka,this.Wa);return new Cv(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new Gl(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}class N_ extends C_{constructor(e,t,n){super(),this.type=e,this.Ga=t,this.za=n}_apply(e){return new Cv(e.firestore,e.converter,rh(e._query,this.Ga,this.za))}}class O_ extends C_{constructor(e,t,n){super(),this.type=e,this.Ha=t,this.Ja=n}_apply(e){const t=D_(e,this.type,this.Ha,this.Ja);return new Cv(e.firestore,e.converter,function(e,t){return new Gl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}class R_ extends C_{constructor(e,t,n){super(),this.type=e,this.Ha=t,this.Ja=n}_apply(e){const t=D_(e,this.type,this.Ha,this.Ja);return new Cv(e.firestore,e.converter,function(e,t){return new Gl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}function D_(e,t,n,r){if(n[0]=(0,as.m9)(n[0]),n[0]instanceof m_)return function(e,t,n,r,i){if(!r)throw new kc(Ac.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${n}().`);const s=[];for(const o of th(e))if(o.field.isKeyField())s.push(yl(t,r.key));else{const e=r.data.field(o.field);if(rl(e))throw new kc(Ac.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+o.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){const e=o.field.canonicalString();throw new kc(Ac.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${e}' (used as the orderBy) does not exist.`)}s.push(e)}return new ql(s,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);{const i=Yv(e.firestore);return function(e,t,n,r,i,s){const o=e.explicitOrderBy;if(i.length>o.length)throw new kc(Ac.INVALID_ARGUMENT,`Too many arguments provided to ${r}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const a=[];for(let u=0;u<i.length;u++){const s=i[u];if(o[u].field.isKeyField()){if("string"!=typeof s)throw new kc(Ac.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${r}(), but got a ${typeof s}`);if(!eh(e)&&-1!==s.indexOf("/"))throw new kc(Ac.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ${r}() must be a plain document ID, but '${s}' contains a slash.`);const n=e.path.child(Wc.fromString(s));if(!cl.isDocumentKey(n))throw new kc(Ac.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ${r}() must result in a valid document path, but '${n}' is not because it contains an odd number of segments.`);const i=new cl(n);a.push(yl(t,i))}else{const e=o_(n,r,s);a.push(e)}}return new ql(a,s)}(e._query,e.firestore._databaseId,i,t,n,r)}}function P_(e,t,n){if("string"==typeof(n=(0,as.m9)(n))){if(""===n)throw new kc(Ac.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!eh(t)&&-1!==n.indexOf("/"))throw new kc(Ac.INVALID_ARGUMENT,`Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(Wc.fromString(n));if(!cl.isDocumentKey(r))throw new kc(Ac.INVALID_ARGUMENT,`Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return yl(e,new cl(r))}if(n instanceof Sv)return yl(e,n._key);throw new kc(Ac.INVALID_ARGUMENT,`Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ${wv(n)}.`)}function L_(e,t){if(!Array.isArray(e)||0===e.length)throw new kc(Ac.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);if(e.length>10)throw new kc(Ac.INVALID_ARGUMENT,`Invalid Query. '${t.toString()}' filters support a maximum of 10 elements in the value array.`)}function M_(e,t,n){if(!n.isEqual(t))throw new kc(Ac.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class F_{convertValue(e,t="none"){switch(ll(e)){case 0:return null;case 1:return e.booleanValue;case 2:return tl(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(nl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Tc()}}convertObject(e,t){const n={};return Hc(e.fields,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertGeoPoint(e){return new zv(tl(e.latitude),tl(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=il(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(sl(e));default:return null}}convertTimestamp(e){const t=el(e);return new Bc(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Wc.fromString(e);Sc(Kd(n));const r=new pv(n.get(1),n.get(3)),i=new cl(n.popFirst(5));return r.isEqual(t)||bc(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}function U_(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class V_ extends F_{constructor(e){super(),this.firestore=e}convertBytes(e){return new qv(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Sv(this.firestore,null,t)}}class j_{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Yv(e)}set(e,t,n){this._verifyNotCommitted();const r=q_(e,this._firestore),i=U_(r.converter,t,n),s=Qv(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(s.toMutation(r._key,Ah.none())),this}update(e,t,n,...r){this._verifyNotCommitted();const i=q_(e,this._firestore);let s;return s="string"==typeof(t=(0,as.m9)(t))||t instanceof jv?s_(this._dataReader,"WriteBatch.update",i._key,t,n,r):i_(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(s.toMutation(i._key,Ah.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=q_(e,this._firestore);return this._mutations=this._mutations.concat(new jh(t._key,Ah.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new kc(Ac.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function q_(e,t){if((e=(0,as.m9)(e)).firestore!==t)throw new kc(Ac.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}class B_ extends F_{constructor(e){super(),this.firestore=e}convertBytes(e){return new qv(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Sv(this.firestore,null,t)}}function z_(e,t,n){e=bv(e,Sv);const r=bv(e.firestore,Lv),i=U_(e.converter,t,n);return $_(r,[Qv(Yv(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Ah.none())])}function Z_(e,t,n,...r){e=bv(e,Sv);const i=bv(e.firestore,Lv),s=Yv(i);let o;return o="string"==typeof(t=(0,as.m9)(t))||t instanceof jv?s_(s,"updateDoc",e._key,t,n,r):i_(s,"updateDoc",e._key,t),$_(i,[o.toMutation(e._key,Ah.exists(!0))])}function H_(e,...t){var n,r,i;e=(0,as.m9)(e);let s={includeMetadataChanges:!1},o=0;"object"!=typeof t[o]||Dv(t[o])||(s=t[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(Dv(t[o])){const e=t[o];t[o]=null===(n=e.next)||void 0===n?void 0:n.bind(e),t[o+1]=null===(r=e.error)||void 0===r?void 0:r.bind(e),t[o+2]=null===(i=e.complete)||void 0===i?void 0:i.bind(e)}let u,c,l;if(e instanceof Sv)c=bv(e.firestore,Lv),l=Kl(e._key.path),u={next:n=>{t[o]&&t[o](G_(c,e,n))},error:t[o+1],complete:t[o+2]};else{const n=bv(e,Cv);c=bv(n.firestore,Lv),l=n._query;const r=new B_(c);u={next:e=>{t[o]&&t[o](new I_(c,r,n,e))},error:t[o+1],complete:t[o+2]},S_(e._query)}return function(e,t,n,r){const i=new $y(r),s=new Um(t,i,n);return e.asyncQueue.enqueueAndForget((0,rs.Z)(function*(){return Om(yield cv(e),s)})),()=>{i.Xo(),e.asyncQueue.enqueueAndForget((0,rs.Z)(function*(){return Dm(yield cv(e),s)}))}}(Mv(c),l,a,u)}function $_(e,t){return function(e,t){const n=new xc;return e.asyncQueue.enqueueAndForget((0,rs.Z)(function*(){return function(e,t,n){return ty.apply(this,arguments)}(yield uv(e),t,n)})),n.promise}(Mv(e),t)}function G_(e,t,n){const r=n.docs.get(t._key),i=new B_(e);return new w_(e,i,t._key,r,new __(n.hasPendingWrites,n.fromCache),t.converter)}class W_ extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Yv(e)}get(e){const t=q_(e,this._firestore),n=new V_(this._firestore);return this._transaction.lookup([t._key]).then(e=>{if(!e||1!==e.length)return Tc();const r=e[0];if(r.isFoundDocument())return new m_(this._firestore,n,r.key,r,t.converter);if(r.isNoDocument())return new m_(this._firestore,n,t._key,null,t.converter);throw Tc()})}set(e,t,n){const r=q_(e,this._firestore),i=U_(r.converter,t,n),s=Qv(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,s),this}update(e,t,n,...r){const i=q_(e,this._firestore);let s;return s="string"==typeof(t=(0,as.m9)(t))||t instanceof jv?s_(this._dataReader,"Transaction.update",i._key,t,n,r):i_(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,s),this}delete(e){const t=q_(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=q_(e,this._firestore),n=new B_(this._firestore);return super.get(e).then(e=>new w_(this._firestore,n,t._key,e._document,new __(!1,!1),t.converter))}}yc=is.SDK_VERSION,(0,is._registerComponent)(new ss.wA("firestore",(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),r=new Lv(n,new Dc(e.getProvider("auth-internal")));return t=Object.assign({useFetchStreams:!0},t),r._setSettings(t),r},"PUBLIC")),(0,is.registerVersion)("@firebase/firestore","3.0.1",void 0);var K_=n(1906),Y_=n(45),Q_=n(8489),J_=n(9291);class X_ extends tt.xQ{constructor(e=Number.POSITIVE_INFINITY,t=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=e<1?1:e,this._windowTime=t<1?1:t,t===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(e){if(!this.isStopped){const t=this._events;t.push(e),t.length>this._bufferSize&&t.shift()}super.next(e)}nextTimeWindow(e){this.isStopped||(this._events.push(new ew(this._getNow(),e)),this._trimBufferThenGetEvents()),super.next(e)}_subscribe(e){const t=this._infiniteTimeWindow,n=t?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let s;if(this.closed)throw new nt.N;if(this.isStopped||this.hasError?s=rn.w.EMPTY:(this.observers.push(e),s=new J_.W(this,e)),r&&e.add(e=new Y_.ht(e,r)),t)for(let o=0;o<i&&!e.closed;o++)e.next(n[o]);else for(let o=0;o<i&&!e.closed;o++)e.next(n[o].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),s}_getNow(){return(this.scheduler||Q_.c).now()}_trimBufferThenGetEvents(){const e=this._getNow(),t=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let s=0;for(;s<i&&!(e-r[s].time<n);)s++;return i>t&&(s=Math.max(s,i-t)),s>0&&r.splice(0,s),r}}class ew{constructor(e,t){this.time=e,this.value=t}}function tw(e,t,n){let r;return r=e&&"object"==typeof e?e:{bufferSize:e,windowTime:t,refCount:!1,scheduler:n},e=>e.lift(function({bufferSize:e=Number.POSITIVE_INFINITY,windowTime:t=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,s,o=0,a=!1,u=!1;return function(c){let l;o++,!i||a?(a=!1,i=new X_(e,t,r),l=i.subscribe(this),s=c.subscribe({next(e){i.next(e)},error(e){a=!0,i.error(e)},complete(){u=!0,s=void 0,i.complete()}}),u&&(s=void 0)):l=i.subscribe(this),this.add(()=>{o--,l.unsubscribe(),l=void 0,s&&!u&&n&&0===o&&(s.unsubscribe(),s=void 0,i=void 0)})}}(r))}function nw(e,t){return t?Tt(()=>e,t):Tt(()=>e)}var rw=n(2893),iw=n(5271),sw=n(9748),ow=n(9001);const aw=new r.OlP("angularfire2.auth.use-emulator"),uw=new r.OlP("angularfire2.auth.settings"),cw=new r.OlP("angularfire2.auth.tenant-id"),lw=new r.OlP("angularfire2.auth.langugage-code"),hw=new r.OlP("angularfire2.auth.use-device-language"),dw=new r.OlP("angularfire.auth.persistence"),fw=(e,t,n,r,i,s,o,a)=>(0,iw.cc)(`${e.name}.auth`,"AngularFireAuth",e.name,()=>{const u=t.runOutsideAngular(()=>e.auth());if(n&&u.useEmulator(...n),r&&(u.tenantId=r),u.languageCode=i,s&&u.useDeviceLanguage(),o)for(const[e,t]of Object.entries(o))u.settings[e]=t;return a&&u.setPersistence(a),u},[n,r,i,s,o,a]);let pw=(()=>{class e{constructor(e,t,r,i,s,o,a,u,c,l,h){const d=new tt.xQ,f=(0,et.of)(void 0).pipe((0,Y_.QV)(s.outsideAngular),Tt(()=>i.runOutsideAngular(()=>Promise.resolve().then(n.bind(n,1119)))),(0,It.U)(()=>(0,sw.on)(e,i,t)),(0,It.U)(e=>fw(e,i,o,u,c,l,a,h)),tw({bufferSize:1,refCount:!1}));if(_e(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,et.of)(null);else{f.pipe(en()).subscribe();const e=f.pipe(Tt(e=>e.getRedirectResult().then(e=>e,()=>null)),iw.iC,tw({bufferSize:1,refCount:!1})),t=f.pipe(Tt(e=>new lt.y(t=>({unsubscribe:i.runOutsideAngular(()=>e.onAuthStateChanged(e=>t.next(e),e=>t.error(e),()=>t.complete()))})))),n=f.pipe(Tt(e=>new lt.y(t=>({unsubscribe:i.runOutsideAngular(()=>e.onIdTokenChanged(e=>t.next(e),e=>t.error(e),()=>t.complete()))}))));this.authState=e.pipe(nw(t),(0,rw.R)(s.outsideAngular),(0,Y_.QV)(s.insideAngular)),this.user=e.pipe(nw(n),(0,rw.R)(s.outsideAngular),(0,Y_.QV)(s.insideAngular)),this.idToken=this.user.pipe(Tt(e=>e?(0,Xe.D)(e.getIdToken()):(0,et.of)(null))),this.idTokenResult=this.user.pipe(Tt(e=>e?(0,Xe.D)(e.getIdTokenResult()):(0,et.of)(null))),this.credential=(0,K_.T)(e,d,this.authState.pipe(Lt(e=>!e))).pipe((0,It.U)(e=>(null==e?void 0:e.user)?e:null),(0,rw.R)(s.outsideAngular),(0,Y_.QV)(s.insideAngular))}return(0,sw.pX)(this,f,i,{spy:{apply:(e,t,n)=>{(e.startsWith("signIn")||e.startsWith("createUser"))&&n.then(e=>d.next(e))}}})}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(sw.Dh),r.LFG(sw.xv,8),r.LFG(r.Lbi),r.LFG(r.R0b),r.LFG(iw.HU),r.LFG(aw,8),r.LFG(uw,8),r.LFG(cw,8),r.LFG(lw,8),r.LFG(hw,8),r.LFG(dw,8))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"any"}),e})();(0,sw.GT)(pw,[{name:null,config:null,emulatorConfig:null,app:null,applyActionCode:null,checkActionCode:null,confirmPasswordReset:null,createUserWithEmailAndPassword:null,currentUser:null,fetchSignInMethodsForEmail:null,isSignInWithEmailLink:null,getRedirectResult:null,languageCode:null,settings:null,onAuthStateChanged:null,onIdTokenChanged:null,sendSignInLinkToEmail:null,sendPasswordResetEmail:null,setPersistence:null,signInAndRetrieveDataWithCredential:null,signInAnonymously:null,signInWithCredential:null,signInWithCustomToken:null,signInWithEmailAndPassword:null,signInWithPhoneNumber:null,signInWithEmailLink:null,signInWithPopup:null,signInWithRedirect:null,signOut:null,tenantId:null,updateCurrentUser:null,useDeviceLanguage:null,useEmulator:null,verifyPasswordResetCode:null}]);let gw=(()=>{class e{constructor(){ow.Z.registerVersion("angularfire",iw.q4.full,"auth-compat")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:[pw]}),e})();var mw=n(8569);function yw(){return e=>e.lift(new vw)}class vw{call(e,t){return t.subscribe(new _w(e))}}class _w extends ot.L{constructor(e){super(e),this.hasPrev=!1}_next(e){let t;this.hasPrev?t=[this.prev,e]:this.hasPrev=!0,this.prev=e,t&&this.destination.next(t)}}class ww{constructor(e,t){this.compare=e,this.keySelector=t}call(e,t){return t.subscribe(new bw(e,this.compare,this.keySelector))}}class bw extends ot.L{constructor(e,t,n){super(e),this.keySelector=n,this.hasKey=!1,"function"==typeof t&&(this.compare=t)}compare(e,t){return e===t}_next(e){let t;try{const{keySelector:n}=this;t=n?n(e):e}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:e}=this;n=e(this.key,t)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=t,this.destination.next(e))}}n(1119);var Iw=n(1932);function Ew(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new kc("invalid-argument",`Invalid options passed to function ${e}(): You cannot specify both "merge" and "mergeFields".`);return t}function Tw(){if("undefined"==typeof Uint8Array)throw new kc("unimplemented","Uint8Arrays are not available in this environment.")}function Sw(){if("undefined"==typeof atob)throw new kc("unimplemented","Blobs are unavailable in Firestore in this environment.")}class Cw{constructor(e){this._delegate=e}static fromBase64String(e){return Sw(),new Cw(qv.fromBase64String(e))}static fromUint8Array(e){return Tw(),new Cw(qv.fromUint8Array(e))}toBase64(){return Sw(),this._delegate.toBase64()}toUint8Array(){return Tw(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Aw(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of["next","error","complete"])if(r in n&&"function"==typeof n[r])return!0;return!1}(e)}class kw{enableIndexedDbPersistence(e,t){return function(e,t){Vv(e=bv(e,Lv));const n=Mv(e),r=e._freezeSettings(),i=new Zy;return Uv(n,i,new By(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function(e){Vv(e=bv(e,Lv));const t=Mv(e),n=e._freezeSettings(),r=new Zy;return Uv(t,r,new zy(r,n.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(e){if(e._initialized&&!e._terminated)throw new kc(Ac.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new xc;return e._queue.enqueueAndForgetEvenWhileRestricted((0,rs.Z)(function*(){try{yield(n=(0,rs.Z)(function*(e){if(!If.Pt())return Promise.resolve();const t=e+"main";yield If.delete(t)}),function(e){return n.apply(this,arguments)})(Pp(e._databaseId,e._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var n})),t.promise}(e._delegate)}}class xw{constructor(e,t,n){this._delegate=t,this._persistenceProvider=n,this.INTERNAL={delete:()=>this.terminate()},e instanceof pv||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();e.merge||t.host===e.host||Ic("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,n={}){!function(e,t,n,r={}){var i;const s=(e=bv(e,Tv))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==t&&Ic("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},s),{host:`${t}:${n}`,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=mc.MOCK_USER;else{t=(0,as.Sg)(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new kc(Ac.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new mc(s)}e._credentials=new Rc(new Nc(t,n))}}(this._delegate,e,t,n)}enableNetwork(){return function(e){return e.asyncQueue.enqueue((0,rs.Z)(function*(){const t=yield sv(e),n=yield av(e);return t.setNetworkEnabled(!0),function(e){const t=Cc(e);return t.Kr.delete(0),Vg(t)}(n)}))}(Mv(bv(this._delegate,Lv)))}disableNetwork(){return function(e){return e.asyncQueue.enqueue((0,rs.Z)(function*(){const t=yield sv(e),n=yield av(e);return t.setNetworkEnabled(!1),(r=(0,rs.Z)(function*(e){const t=Cc(e);t.Kr.add(0),yield qg(t),t.Wr.set("Offline")}),function(e){return r.apply(this,arguments)})(n);var r}))}(Mv(bv(this._delegate,Lv)))}enablePersistence(e){let t=!1,n=!1;return e&&(t=!!e.synchronizeTabs,n=!!e.experimentalForceOwningTab,yv("synchronizeTabs",t,"experimentalForceOwningTab",n)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(e){const t=new xc;return e.asyncQueue.enqueueAndForget((0,rs.Z)(function*(){return function(e,t){return hy.apply(this,arguments)}(yield uv(e),t)})),t.promise}(Mv(bv(this._delegate,Lv)))}onSnapshotsInSync(e){return t=e,function(e,t){const n=new $y(t);return e.asyncQueue.enqueueAndForget((0,rs.Z)(function*(){return function(e,t){Cc(e).Zr.add(t),t.next()}(yield cv(e),n)})),()=>{n.Xo(),e.asyncQueue.enqueueAndForget((0,rs.Z)(function*(){return function(e,t){Cc(e).Zr.delete(t)}(yield cv(e),n)}))}}(Mv(bv(this._delegate,Lv)),Dv(t)?t:{next:t});var t}get app(){if(!this._appCompat)throw new kc("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new zw(this,kv(this._delegate,e))}catch(t){throw Lw(t,"collection()","Firestore.collection()")}}doc(e){try{return new Pw(this,xv(this._delegate,e))}catch(t){throw Lw(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new jw(this,function(e,t){if(e=bv(e,Tv),mv("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new kc(Ac.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Cv(e,null,function(e){return new Gl(Wc.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw Lw(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return n=t=>e(new Ow(this,t)),function(e,t){const n=new xc;return e.asyncQueue.enqueueAndForget((0,rs.Z)(function*(){const r=yield function(e){return rv(e).then(e=>e.datastore)}(e);new Ky(e.asyncQueue,r,t,n).run()})),n.promise}(Mv(t=this._delegate),e=>n(new W_(t,e)));var t,n}batch(){return Mv(this._delegate),new Rw(new j_(this._delegate,e=>$_(this._delegate,e)))}loadBundle(e){return function(e,t){const n=Mv(e=bv(e,Lv)),r=new Pv;return function(e,t,n,r){const i=function(e,t){let n;return n="string"==typeof e?(new TextEncoder).encode(e):e,function(e,t){return new Gy(e,t)}(function(e,t){if(e instanceof Uint8Array)return Hy(e,t);if(e instanceof ArrayBuffer)return Hy(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(n),t)}(n,Og(t));e.asyncQueue.enqueueAndForget((0,rs.Z)(function*(){!function(e,t,n){const r=Cc(e);var i;(i=(0,rs.Z)(function*(e,t,n){try{const r=yield t.getMetadata();if(yield function(e,t){const n=Cc(e),r=Ed(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",e=>n.Je.getBundleMetadata(e,t.id)).then(e=>!!e&&e.createTime.compareTo(r)>=0)}(e.localStore,r))return yield t.close(),void n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(r));n._updateProgress(Bm(r));const i=new qm(r,e.localStore,t.N);let s=yield t.Qo();for(;s;){const e=yield i.fo(s);e&&n._updateProgress(e),s=yield t.Qo()}const o=yield i.complete();yield _y(e,o.Tn,void 0),yield function(e,t){const n=Cc(e);return n.persistence.runTransaction("Save bundle","readwrite",e=>n.Je.saveBundleMetadata(e,t))}(e.localStore,r),n._completeWith(o.progress)}catch(e){Ic("SyncEngine",`Loading bundle failed with ${e}`),n._failWith(e)}}),function(e,t,n){return i.apply(this,arguments)})(r,t,n).then(()=>{r.sharedClientState.notifyBundleLoaded()})}(yield uv(e),i,r)}))}(n,e._databaseId,t,r),r}(this._delegate,e)}namedQuery(e){return(t=this._delegate,n=e,function(e,t){return e.asyncQueue.enqueue((0,rs.Z)(function*(){return function(e,t){const n=Cc(e);return n.persistence.runTransaction("Get named query","readonly",e=>n.Je.getNamedQuery(e,t))}(yield ov(e),t)}))}(Mv(t=bv(t,Lv)),n).then(e=>e?new Cv(t,null,e.query):null)).then(e=>e?new jw(this,e):null);var t,n}}class Nw extends F_{constructor(e){super(),this.firestore=e}convertBytes(e){return new Cw(new qv(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Pw.forKey(t,this.firestore,null)}}class Ow{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Nw(e)}get(e){const t=Zw(e);return this._delegate.get(t).then(e=>new Uw(this._firestore,new w_(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,t.converter)))}set(e,t,n){const r=Zw(e);return n?(Ew("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n,...r){const i=Zw(e);return 2===arguments.length?this._delegate.update(i,t):this._delegate.update(i,t,n,...r),this}delete(e){const t=Zw(e);return this._delegate.delete(t),this}}class Rw{constructor(e){this._delegate=e}set(e,t,n){const r=Zw(e);return n?(Ew("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n,...r){const i=Zw(e);return 2===arguments.length?this._delegate.update(i,t):this._delegate.update(i,t,n,...r),this}delete(e){const t=Zw(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}let Dw=(()=>{class e{constructor(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}fromFirestore(e,t){const n=new b_(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Vw(this._firestore,n),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(t,n){const r=e.INSTANCES;let i=r.get(t);i||(i=new WeakMap,r.set(t,i));let s=i.get(n);return s||(s=new e(t,new Nw(t),n),i.set(n,s)),s}}return e.INSTANCES=new WeakMap,e})();class Pw{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Nw(e)}static forPath(e,t,n){if(e.length%2!=0)throw new kc("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Pw(t,new Sv(t._delegate,n,new cl(e)))}static forKey(e,t,n){return new Pw(t,new Sv(t._delegate,n,e))}get id(){return this._delegate.id}get parent(){return new zw(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new zw(this.firestore,kv(this._delegate,e))}catch(t){throw Lw(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,as.m9)(e))instanceof Sv&&Nv(this._delegate,e)}set(e,t){t=Ew("DocumentReference.set",t);try{return t?z_(this._delegate,e,t):z_(this._delegate,e)}catch(n){throw Lw(n,"setDoc()","DocumentReference.set()")}}update(e,t,...n){try{return 1===arguments.length?Z_(this._delegate,e):Z_(this._delegate,e,t,...n)}catch(r){throw Lw(r,"updateDoc()","DocumentReference.update()")}}delete(){return $_(bv((e=this._delegate).firestore,Lv),[new jh(e._key,Ah.none())]);var e}onSnapshot(...e){const t=Mw(e),n=Fw(e,e=>new Uw(this.firestore,new w_(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter)));return H_(this._delegate,t,n)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(e){e=bv(e,Sv);const t=bv(e.firestore,Lv),n=Mv(t),r=new B_(t);return function(e,t){const n=new xc;return e.asyncQueue.enqueueAndForget((0,rs.Z)(function*(){return(r=(0,rs.Z)(function*(e,t,n){try{const r=yield function(e,t){const n=Cc(e);return n.persistence.runTransaction("read document","readonly",e=>n.Qn.An(e,t))}(e,t);r.isFoundDocument()?n.resolve(r):r.isNoDocument()?n.resolve(null):n.reject(new kc(Ac.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(e){const r=Sm(e,`Failed to get document '${t} from cache`);n.reject(r)}}),function(e,t,n){return r.apply(this,arguments)})(yield ov(e),t,n);var r})),n.promise}(n,e._key).then(n=>new w_(t,r,e._key,n,new __(null!==n&&n.hasLocalMutations,!0),e.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=bv(e,Sv);const t=bv(e.firestore,Lv);return hv(Mv(t),e._key,{source:"server"}).then(n=>G_(t,e,n))}(this._delegate):function(e){e=bv(e,Sv);const t=bv(e.firestore,Lv);return hv(Mv(t),e._key).then(n=>G_(t,e,n))}(this._delegate),t.then(e=>new Uw(this.firestore,new w_(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter)))}withConverter(e){return new Pw(this.firestore,this._delegate.withConverter(e?Dw.getInstance(this.firestore,e):null))}}function Lw(e,t,n){return e.message=e.message.replace(t,n),e}function Mw(e){for(const t of e)if("object"==typeof t&&!Aw(t))return t;return{}}function Fw(e,t){var n,r;let i;return i=Aw(e[0])?e[0]:Aw(e[1])?e[1]:"function"==typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]},{next:e=>{i.next&&i.next(t(e))},error:null===(n=i.error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class Uw{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Pw(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return T_(this._delegate,e._delegate)}}class Vw extends Uw{data(e){const t=this._delegate.data(e);return void 0!==t||Tc(),t}}class jw{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Nw(e)}where(e,t,n){try{return new jw(this.firestore,A_(this._delegate,function(e,t,n){const r=t,i=v_("where",e);return new k_(i,r,n)}(e,t,n)))}catch(r){throw Lw(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new jw(this.firestore,A_(this._delegate,function(e,t="asc"){const n=t,r=v_("orderBy",e);return new x_(r,n)}(e,t)))}catch(n){throw Lw(n,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new jw(this.firestore,A_(this._delegate,(Iv("limit",t=e),new N_("limit",t,"F"))))}catch(n){throw Lw(n,"limit()","Query.limit()")}var t}limitToLast(e){try{return new jw(this.firestore,A_(this._delegate,(Iv("limitToLast",t=e),new N_("limitToLast",t,"L"))))}catch(n){throw Lw(n,"limitToLast()","Query.limitToLast()")}var t}startAt(...e){try{return new jw(this.firestore,A_(this._delegate,function(...e){return new O_("startAt",e,!0)}(...e)))}catch(t){throw Lw(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new jw(this.firestore,A_(this._delegate,function(...e){return new O_("startAfter",e,!1)}(...e)))}catch(t){throw Lw(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new jw(this.firestore,A_(this._delegate,function(...e){return new R_("endBefore",e,!0)}(...e)))}catch(t){throw Lw(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new jw(this.firestore,A_(this._delegate,function(...e){return new R_("endAt",e,!1)}(...e)))}catch(t){throw Lw(t,"endAt()","Query.endAt()")}}isEqual(e){return Ov(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(e){e=bv(e,Cv);const t=bv(e.firestore,Lv),n=Mv(t),r=new B_(t);return function(e,t){const n=new xc;return e.asyncQueue.enqueueAndForget((0,rs.Z)(function*(){return(r=(0,rs.Z)(function*(e,t,n){try{const r=yield Qp(e,t,!0),i=new Hm(t,r.Gn),s=i.Io(r.documents),o=i.applyChanges(s,!1);n.resolve(o.snapshot)}catch(e){const r=Sm(e,`Failed to execute query '${t} against cache`);n.reject(r)}}),function(e,t,n){return r.apply(this,arguments)})(yield ov(e),t,n);var r})),n.promise}(n,e._query).then(n=>new I_(t,r,e,n))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=bv(e,Cv);const t=bv(e.firestore,Lv),n=Mv(t),r=new B_(t);return dv(n,e._query,{source:"server"}).then(n=>new I_(t,r,e,n))}(this._delegate):function(e){e=bv(e,Cv);const t=bv(e.firestore,Lv),n=Mv(t),r=new B_(t);return S_(e._query),dv(n,e._query).then(n=>new I_(t,r,e,n))}(this._delegate),t.then(e=>new Bw(this.firestore,new I_(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot)))}onSnapshot(...e){const t=Mw(e),n=Fw(e,e=>new Bw(this.firestore,new I_(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot)));return H_(this._delegate,t,n)}withConverter(e){return new jw(this.firestore,this._delegate.withConverter(e?Dw.getInstance(this.firestore,e):null))}}class qw{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Vw(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Bw{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new jw(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Vw(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(e=>new qw(this._firestore,e))}forEach(e,t){this._delegate.forEach(n=>{e.call(t,new Vw(this._firestore,n))})}isEqual(e){return T_(this._delegate,e._delegate)}}class zw extends jw{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Pw(this.firestore,e):null}doc(e){try{return new Pw(this.firestore,void 0===e?xv(this._delegate):xv(this._delegate,e))}catch(t){throw Lw(t,"doc()","CollectionReference.doc()")}}add(e){return function(e,t){const n=bv(e.firestore,Lv),r=xv(e),i=U_(e.converter,t);return $_(n,[Qv(Yv(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Ah.exists(!1))]).then(()=>r)}(this._delegate,e).then(e=>new Pw(this.firestore,e))}isEqual(e){return Nv(this._delegate,e._delegate)}withConverter(e){return new zw(this.firestore,this._delegate.withConverter(e?Dw.getInstance(this.firestore,e):null))}}function Zw(e){return bv(e,Sv)}class Hw{constructor(...e){this._delegate=new jv(...e)}static documentId(){return new Hw(Yc.keyField().canonicalString())}isEqual(e){return(e=(0,as.m9)(e))instanceof jv&&this._delegate._internalPath.isEqual(e._internalPath)}}class $w{constructor(e){this._delegate=e}static serverTimestamp(){const e=new e_("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new $w(e)}static delete(){const e=new Jv("deleteField");return e._methodName="FieldValue.delete",new $w(e)}static arrayUnion(...e){const t=function(...e){return new t_("arrayUnion",e)}(...e);return t._methodName="FieldValue.arrayUnion",new $w(t)}static arrayRemove(...e){const t=function(...e){return new n_("arrayRemove",e)}(...e);return t._methodName="FieldValue.arrayRemove",new $w(t)}static increment(e){const t=new r_("increment",e);return t._methodName="FieldValue.increment",new $w(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const Gw={Firestore:xw,GeoPoint:zv,Timestamp:Bc,Blob:Cw,Transaction:Ow,WriteBatch:Rw,DocumentReference:Pw,DocumentSnapshot:Uw,Query:jw,QueryDocumentSnapshot:Vw,QuerySnapshot:Bw,CollectionReference:zw,FieldPath:Hw,FieldValue:$w,setLogLevel:function(e){vc.setLogLevel(e)},CACHE_SIZE_UNLIMITED:-1};var Ww,Kw;function Yw(e,t){return function(e,t=mw.z){return new lt.y(n=>{let r;return null!=t?t.schedule(()=>{r=e.onSnapshot({includeMetadataChanges:!0},n)}):r=e.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(e,t)}function Qw(e,t){return Yw(e,t).pipe((0,It.U)(e=>({payload:e,type:"query"})))}function Jw(e,t){return Qw(e,t).pipe(Ot(void 0),yw(),(0,It.U)(([e,t])=>{const n=t.payload.docChanges(),r=n.map(e=>({type:e.type,payload:e}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(t.payload.metadata)&&t.payload.docs.forEach((t,i)=>{const s=n.find(e=>e.doc.ref.isEqual(t.ref)),o=null==e?void 0:e.payload.docs.find(e=>e.ref.isEqual(t.ref));s&&JSON.stringify(s.doc.metadata)===JSON.stringify(t.metadata)||!s&&o&&JSON.stringify(o.metadata)===JSON.stringify(t.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:t}})}),r}))}function Xw(e,t,n){return Jw(e,n).pipe(Rt((e,n)=>function(e,t,n){return t.forEach(t=>{n.indexOf(t.type)>-1&&(e=function(e,t){switch(t.type){case"added":if(!e[t.newIndex]||!e[t.newIndex].doc.ref.isEqual(t.doc.ref))return eb(e,t.newIndex,0,t);break;case"modified":if(null==e[t.oldIndex]||e[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const n=e.slice();return n.splice(t.oldIndex,1),n.splice(t.newIndex,0,t),n}return eb(e,t.newIndex,1,t)}break;case"removed":if(e[t.oldIndex]&&e[t.oldIndex].doc.ref.isEqual(t.doc.ref))return eb(e,t.oldIndex,1)}return e}(e,t))}),e}(e,n.map(e=>e.payload),t),[]),e=>e.lift(new ww(void 0,void 0)),(0,It.U)(e=>e.map(e=>({type:e.type,payload:e}))))}function eb(e,t,n,...r){const i=e.slice();return i.splice(t,n,...r),i}function tb(e){return e&&0!==e.length||(e=["added","removed","modified"]),e}Kw=(e,t)=>new xw(e,t,new kw),(Ww=Iw.Z).INTERNAL.registerComponent(new ss.wA("firestore-compat",e=>{const t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("firestore").getImmediate();return Kw(t,n)},"PUBLIC").setServiceProps(Object.assign({},Gw))),Ww.registerVersion("@firebase/firestore-compat","0.1.1");class nb{constructor(e,t,n){this.ref=e,this.query=t,this.afs=n}stateChanges(e){let t=Jw(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,It.U)(t=>t.filter(t=>e.indexOf(t.type)>-1)))),t.pipe(Ot(void 0),yw(),Lt(([e,t])=>t.length>0||!e),(0,It.U)(([e,t])=>t),iw.iC)}auditTrail(e){return this.stateChanges(e).pipe(Rt((e,t)=>[...e,...t],[]))}snapshotChanges(e){const t=tb(e);return Xw(this.query,t,this.afs.schedulers.outsideAngular).pipe(iw.iC)}valueChanges(e={}){return Qw(this.query,this.afs.schedulers.outsideAngular).pipe((0,It.U)(t=>t.payload.docs.map(t=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data())),iw.iC)}get(e){return(0,Xe.D)(this.query.get(e)).pipe(iw.f6)}add(e){return this.ref.add(e)}doc(e){return new rb(this.ref.doc(e),this.afs)}}class rb{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const n=this.ref.collection(e),{ref:r,query:i}=cb(n,t);return new nb(r,i,this.afs)}snapshotChanges(){return Yw(this.ref,this.afs.schedulers.outsideAngular).pipe(Ot(void 0),yw(),(0,It.U)(([e,t])=>t.exists?(null==e?void 0:e.exists)?{payload:t,type:"modified"}:{payload:t,type:"added"}:{payload:t,type:"removed"})).pipe(iw.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,It.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Xe.D)(this.ref.get(e)).pipe((0,Y_.QV)(this.afs.schedulers.insideAngular))}}class ib{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?Jw(this.query,this.afs.schedulers.outsideAngular).pipe((0,It.U)(t=>t.filter(t=>e.indexOf(t.type)>-1)),Lt(e=>e.length>0),iw.iC):Jw(this.query,this.afs.schedulers.outsideAngular).pipe(iw.iC)}auditTrail(e){return this.stateChanges(e).pipe(Rt((e,t)=>[...e,...t],[]))}snapshotChanges(e){const t=tb(e);return Xw(this.query,t,this.afs.schedulers.outsideAngular).pipe(iw.iC)}valueChanges(e={}){return Qw(this.query,this.afs.schedulers.outsideAngular).pipe((0,It.U)(t=>t.payload.docs.map(t=>e.idField?Object.assign({[e.idField]:t.id},t.data()):t.data())),iw.iC)}get(e){return(0,Xe.D)(this.query.get(e)).pipe(iw.f6)}}const sb=new r.OlP("angularfire2.enableFirestorePersistence"),ob=new r.OlP("angularfire2.firestore.persistenceSettings"),ab=new r.OlP("angularfire2.firestore.settings"),ub=new r.OlP("angularfire2.firestore.use-emulator");function cb(e,t=(e=>e)){return{query:t(e),ref:e}}let lb=(()=>{class e{constructor(e,t,n,r,i,s,o,a,u,c,l,h,d,f,p,g){this.schedulers=o;const m=(0,sw.on)(e,s,t),y=u;c&&fw(m,s,l,d,f,p,h,g),[this.firestore,this.persistenceEnabled$]=(0,iw.cc)(`${m.name}.firestore`,"AngularFirestore",m.name,()=>{const e=s.runOutsideAngular(()=>m.firestore());if(r&&e.settings(r),y&&e.useEmulator(...y),n&&!_e(i)){const t=()=>{try{return(0,Xe.D)(e.enablePersistence(a||void 0).then(()=>!0,()=>!1))}catch(t){return"undefined"!=typeof console&&console.warn(t),(0,et.of)(!1)}};return[e,s.runOutsideAngular(t)]}return[e,(0,et.of)(!1)]},[r,y,n])}collection(e,t){let n;n="string"==typeof e?this.firestore.collection(e):e;const{ref:r,query:i}=cb(n,t),s=this.schedulers.ngZone.run(()=>r);return new nb(s,i,this)}collectionGroup(e,t){const n=t||(e=>e),r=this.firestore.collectionGroup(e);return new ib(n(r),this)}doc(e){let t;t="string"==typeof e?this.firestore.doc(e):e;const n=this.schedulers.ngZone.run(()=>t);return new rb(n,this)}createId(){return this.firestore.collection("_").doc().id}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(sw.Dh),r.LFG(sw.xv,8),r.LFG(sb,8),r.LFG(ab,8),r.LFG(r.Lbi),r.LFG(r.R0b),r.LFG(iw.HU),r.LFG(ob,8),r.LFG(ub,8),r.LFG(pw,8),r.LFG(aw,8),r.LFG(uw,8),r.LFG(cw,8),r.LFG(lw,8),r.LFG(hw,8),r.LFG(dw,8))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"any"}),e})(),hb=(()=>{class e{constructor(){ow.Z.registerVersion("angularfire",iw.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:e,providers:[{provide:sb,useValue:!0},{provide:ob,useValue:t}]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:[lb]}),e})(),db=(()=>{class e{constructor(e,t){this.afAuth=e,this.afs=t}addChatMessage(e,t){let n=new Date;return this.afs.collection("message").add({msg:e,from:t.email,fromName:t.email,createdAt:n})}getChatMessages(e){let t=[];return this.getUsers().pipe(Tt(e=>(t=e,this.afs.collection("message",e=>e.orderBy("createdAt")).valueChanges({idField:"id"}))),(0,It.U)(t=>{for(let n of t)n.myMsg=e.email===n.from;return t}))}getUsers(){return this.afs.collection("users").valueChanges({idField:"uid"})}getUserForMsg(e,t){for(let n of t)if(n.uid==e)return n.email;return"Deleted"}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(pw),r.LFG(lb))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),fb=(()=>{class e{constructor(e){this.afAuth=e,this.isLogged=!1,e.authState.subscribe(e=>this.isLogged=e)}onLogin(e){var t=this;return(0,rs.Z)(function*(){try{return yield t.afAuth.signInWithEmailAndPassword(e.email,e.pass)}catch(n){return}})()}onRegister(e){var t=this;return(0,rs.Z)(function*(){try{return yield t.afAuth.createUserWithEmailAndPassword(e.email,e.pass)}catch(n){return}})()}getCurrentUser(){return this.afAuth.currentUser}logout(){this.afAuth.signOut()}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(pw))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var pb=n(5024);function gb(e,t,n,r){return(0,pb.m)(n)&&(r=n,n=void 0),r?gb(e,t,n).pipe((0,It.U)(e=>(0,st.k)(e)?r(...e):r(e))):new lt.y(r=>{mb(e,t,function(e){r.next(arguments.length>1?Array.prototype.slice.call(arguments):e)},r,n)})}function mb(e,t,n,r,i){let s;if(function(e){return e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}(e)){const r=e;e.addEventListener(t,n,i),s=()=>r.removeEventListener(t,n,i)}else if(function(e){return e&&"function"==typeof e.on&&"function"==typeof e.off}(e)){const r=e;e.on(t,n),s=()=>r.off(t,n)}else if(function(e){return e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}(e)){const r=e;e.addListener(t,n),s=()=>r.removeListener(t,n)}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(let s=0,o=e.length;s<o;s++)mb(e[s],t,n,r,i)}r.add(s)}var yb=n(2293);function vb(e){const{index:t,period:n,subscriber:r}=e;if(r.next(t),!r.closed){if(-1===n)return r.complete();e.index=t+1,this.schedule(e,n)}}class _b{call(e,t){return t.subscribe(new wb(e))}}class wb extends at{constructor(e){super(e),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}_next(e){this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{for(let n=0;n<t&&!this.hasFirst;n++){const t=ht(this,e[n],void 0,n);this.subscriptions&&this.subscriptions.push(t),this.add(t)}this.observables=null}}notifyNext(e,t,n){if(!this.hasFirst){this.hasFirst=!0;for(let e=0;e<this.subscriptions.length;e++)if(e!==n){let t=this.subscriptions[e];t.unsubscribe(),this.remove(t)}this.subscriptions=null}this.destination.next(t)}}n(6054);var bb=n(5686);function Ib(...e){const t=e[e.length-1];return"function"==typeof t&&e.pop(),(0,dt.n)(e,void 0).lift(new Eb(t))}class Eb{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new Tb(e,this.resultSelector))}}class Tb extends ot.L{constructor(e,t,n=Object.create(null)){super(e),this.resultSelector=t,this.iterators=[],this.active=0,this.resultSelector="function"==typeof t?t:void 0}_next(e){const t=this.iterators;(0,st.k)(e)?t.push(new Cb(e)):t.push("function"==typeof e[bb.hZ]?new Sb(e[bb.hZ]()):new Ab(this.destination,this,e))}_complete(){const e=this.iterators,t=e.length;if(this.unsubscribe(),0!==t){this.active=t;for(let n=0;n<t;n++){let t=e[n];t.stillUnsubscribed?this.destination.add(t.subscribe()):this.active--}}else this.destination.complete()}notifyInactive(){this.active--,0===this.active&&this.destination.complete()}checkIterators(){const e=this.iterators,t=e.length,n=this.destination;for(let s=0;s<t;s++){let t=e[s];if("function"==typeof t.hasValue&&!t.hasValue())return}let r=!1;const i=[];for(let s=0;s<t;s++){let t=e[s],o=t.next();if(t.hasCompleted()&&(r=!0),o.done)return void n.complete();i.push(o.value)}this.resultSelector?this._tryresultSelector(i):n.next(i),r&&n.complete()}_tryresultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}class Sb{constructor(e){this.iterator=e,this.nextResult=e.next()}hasValue(){return!0}next(){const e=this.nextResult;return this.nextResult=this.iterator.next(),e}hasCompleted(){const e=this.nextResult;return Boolean(e&&e.done)}}class Cb{constructor(e){this.array=e,this.index=0,this.length=0,this.length=e.length}[bb.hZ](){return this}next(e){const t=this.index++;return t<this.length?{value:this.array[t],done:!1}:{value:null,done:!0}}hasValue(){return this.array.length>this.index}hasCompleted(){return this.array.length===this.index}}class Ab extends Et.Ds{constructor(e,t,n){super(e),this.parent=t,this.observable=n,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}[bb.hZ](){return this}next(){const e=this.buffer;return 0===e.length&&this.isComplete?{value:null,done:!0}:{value:e.shift(),done:!1}}hasValue(){return this.buffer.length>0}hasCompleted(){return 0===this.buffer.length&&this.isComplete}notifyComplete(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}notifyNext(e){this.buffer.push(e),this.parent.checkIterators()}subscribe(){return(0,Et.ft)(this.observable,new Et.IY(this))}}function kb(e){return t=>t.lift(new xb(e))}class xb{constructor(e){this.notifier=e}call(e,t){const n=new Nb(e),r=(0,Et.ft)(this.notifier,new Et.IY(n));return r&&!n.seenValue?(n.add(r),t.subscribe(n)):n}}class Nb extends Et.Ds{constructor(e){super(e),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}function Ob(...e){return t=>{let n;return"function"==typeof e[e.length-1]&&(n=e.pop()),t.lift(new Rb(e,n))}}class Rb{constructor(e,t){this.observables=e,this.project=t}call(e,t){return t.subscribe(new Db(e,this.observables,this.project))}}class Db extends at{constructor(e,t,n){super(e),this.observables=t,this.project=n,this.toRespond=[];const r=t.length;this.values=new Array(r);for(let i=0;i<r;i++)this.toRespond.push(i);for(let i=0;i<r;i++)this.add(ht(this,t[i],void 0,i))}notifyNext(e,t,n){this.values[n]=t;const r=this.toRespond;if(r.length>0){const e=r.indexOf(n);-1!==e&&r.splice(e,1)}}notifyComplete(){}_next(e){if(0===this.toRespond.length){const t=[e,...this.values];this.project?this._tryProject(t):this.destination.next(t)}}_tryProject(e){let t;try{t=this.project.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}n(8861),n(1055);var Pb=n(2056);function Lb(e,t){return new lt.y(n=>{const r=e.length;if(0===r)return void n.complete();const i=new Array(r);let s=0,o=0;for(let a=0;a<r;a++){const u=(0,Xe.D)(e[a]);let c=!1;n.add(u.subscribe({next:e=>{c||(c=!0,o++),i[a]=e},error:e=>n.error(e),complete:()=>{s++,s!==r&&c||(o===r&&n.next(t?t.reduce((e,t,n)=>(e[t]=i[n],e),{}):i),n.complete())}}))}})}let Mb=(()=>{class e{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=e=>{},this.onTouched=()=>{}}setProperty(e,t){this._renderer.setProperty(this._elementRef.nativeElement,e,t)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.Qsj),r.Y36(r.SBq))},e.\u0275dir=r.lG2({type:e}),e})(),Fb=(()=>{class e extends Mb{}return e.\u0275fac=function(){let t;return function(n){return(t||(t=r.n5z(e)))(n||e)}}(),e.\u0275dir=r.lG2({type:e,features:[r.qOj]}),e})();const Ub=new r.OlP("NgValueAccessor"),Vb={provide:Ub,useExisting:(0,r.Gpc)(()=>qb),multi:!0},jb=new r.OlP("CompositionEventMode");let qb=(()=>{class e extends Mb{constructor(e,t,n){super(e,t),this._compositionMode=n,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const e=s()?s().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.Qsj),r.Y36(r.SBq),r.Y36(jb,8))},e.\u0275dir=r.lG2({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,t){1&e&&r.NdJ("input",function(e){return t._handleInput(e.target.value)})("blur",function(){return t.onTouched()})("compositionstart",function(){return t._compositionStart()})("compositionend",function(e){return t._compositionEnd(e.target.value)})},features:[r._Bn([Vb]),r.qOj]}),e})();const Bb=new r.OlP("NgValidators"),zb=new r.OlP("NgAsyncValidators");function Zb(e){return null!=e}function Hb(e){const t=(0,r.QGY)(e)?(0,Xe.D)(e):e;return(0,r.CqO)(t),t}function $b(e){let t={};return e.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function Gb(e,t){return t.map(t=>t(e))}function Wb(e){return e.map(e=>function(e){return!e.validate}(e)?e:t=>e.validate(t))}function Kb(e){return null!=e?function(e){if(!e)return null;const t=e.filter(Zb);return 0==t.length?null:function(e){return $b(Gb(e,t))}}(Wb(e)):null}function Yb(e){return null!=e?function(e){if(!e)return null;const t=e.filter(Zb);return 0==t.length?null:function(e){return function(...e){if(1===e.length){const t=e[0];if((0,st.k)(t))return Lb(t,null);if((0,Pb.K)(t)&&Object.getPrototypeOf(t)===Object.prototype){const e=Object.keys(t);return Lb(e.map(e=>t[e]),e)}}if("function"==typeof e[e.length-1]){const t=e.pop();return Lb(e=1===e.length&&(0,st.k)(e[0])?e[0]:e,null).pipe((0,It.U)(e=>t(...e)))}return Lb(e,null)}(Gb(e,t).map(Hb)).pipe((0,It.U)($b))}}(Wb(e)):null}function Qb(e,t){return null===e?[t]:Array.isArray(e)?[...e,t]:[e,t]}let Jb=(()=>{class e{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Kb(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Yb(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=r.lG2({type:e}),e})(),Xb=(()=>{class e extends Jb{get formDirective(){return null}get path(){return null}}return e.\u0275fac=function(){let t;return function(n){return(t||(t=r.n5z(e)))(n||e)}}(),e.\u0275dir=r.lG2({type:e,features:[r.qOj]}),e})();class eI extends Jb{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}let tI=(()=>{class e extends class{constructor(e){this._cd=e}is(e){var t,n;return!!(null===(n=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===n?void 0:n[e])}}{constructor(e){super(e)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(eI,2))},e.\u0275dir=r.lG2({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,t){2&e&&r.ekj("ng-untouched",t.is("untouched"))("ng-touched",t.is("touched"))("ng-pristine",t.is("pristine"))("ng-dirty",t.is("dirty"))("ng-valid",t.is("valid"))("ng-invalid",t.is("invalid"))("ng-pending",t.is("pending"))},features:[r.qOj]}),e})();function nI(e,t){e.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function rI(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function iI(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const sI="VALID",oI="INVALID",aI="PENDING",uI="DISABLED";function cI(e){return(fI(e)?e.validators:e)||null}function lI(e){return Array.isArray(e)?Kb(e):e||null}function hI(e,t){return(fI(t)?t.asyncValidators:e)||null}function dI(e){return Array.isArray(e)?Yb(e):e||null}function fI(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}class pI{constructor(e,t){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=lI(this._rawValidators),this._composedAsyncValidatorFn=dI(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===sI}get invalid(){return this.status===oI}get pending(){return this.status==aI}get disabled(){return this.status===uI}get enabled(){return this.status!==uI}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=lI(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=dI(e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=aI,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=uI,this.errors=null,this._forEachChild(t=>{t.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(e=>e(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=sI,this._forEachChild(t=>{t.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(e=>e(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==sI&&this.status!==aI||this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?uI:sI}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=aI,this._hasOwnPendingAsyncValidator=!0;const t=Hb(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(t=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(t,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function(e,t,n){if(null==t)return null;if(Array.isArray(t)||(t=t.split(".")),Array.isArray(t)&&0===t.length)return null;let r=e;return t.forEach(e=>{r=r instanceof mI?r.controls.hasOwnProperty(e)?r.controls[e]:null:r instanceof yI&&r.at(e)||null}),r}(this,e)}getError(e,t){const n=t?this.get(t):this;return n&&n.errors?n.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new r.vpe,this.statusChanges=new r.vpe}_calculateStatus(){return this._allControlsDisabled()?uI:this.errors?oI:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(aI)?aI:this._anyControlsHaveStatus(oI)?oI:sI}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){fI(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class gI extends pI{constructor(e=null,t,n){super(cI(t),hI(n,t)),this._onChange=[],this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(e=>e(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=null,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){iI(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){iI(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class mI extends pI{constructor(e,t,n){super(cI(t),hI(n,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,n={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){this._checkAllValuesPresent(e),Object.keys(e).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((n,r)=>{n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,n)=>(e[n]=t instanceof gI?t.value:t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(e,t)=>!!t._syncPendingControls()||e);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error(`Cannot find form control with name: ${e}.`)}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const n=this.controls[t];n&&e(n,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const n=this.controls[t];if(this.contains(t)&&e(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,n)=>((t.enabled||this.disabled)&&(e[n]=t.value),e))}_reduceChildren(e,t){let n=e;return this._forEachChild((e,r)=>{n=t(n,e,r)}),n}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(e){this._forEachChild((t,n)=>{if(void 0===e[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class yI extends pI{constructor(e,t,n){super(cI(t),hI(n,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,n={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:n.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){this._checkAllValuesPresent(e),e.forEach((e,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(e,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((e,n)=>{this.at(n)&&this.at(n).patchValue(e,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((n,r)=>{n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e instanceof gI?e.value:e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((e,t)=>!!t._syncPendingControls()||e,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error(`Cannot find form control at index ${e}`)}_forEachChild(e){this.controls.forEach((t,n)=>{e(t,n)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_checkAllValuesPresent(e){this._forEachChild((t,n)=>{if(void 0===e[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const vI={provide:eI,useExisting:(0,r.Gpc)(()=>wI)},_I=(()=>Promise.resolve(null))();let wI=(()=>{class e extends eI{constructor(e,t,n,i){super(),this.control=new gI,this._registered=!1,this.update=new r.vpe,this._parent=e,this._setValidators(t),this._setAsyncValidators(n),this.valueAccessor=function(e,t){if(!t)return null;let n,r,i;return Array.isArray(t),t.forEach(e=>{e.constructor===qb?n=e:Object.getPrototypeOf(e.constructor)===Fb?r=e:i=e}),i||r||n||null}(0,i)}ngOnChanges(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),function(e,t){if(!e.hasOwnProperty("model"))return!1;const n=e.model;return!!n.isFirstChange()||!Object.is(t,n.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?[...this._parent.path,this.name]:[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){var e,t;(function(e,t){const n=function(e){return e._rawValidators}(e);null!==t.validator?e.setValidators(Qb(n,t.validator)):"function"==typeof n&&e.setValidators([n]);const r=function(e){return e._rawAsyncValidators}(e);null!==t.asyncValidator?e.setAsyncValidators(Qb(r,t.asyncValidator)):"function"==typeof r&&e.setAsyncValidators([r]);const i=()=>e.updateValueAndValidity();nI(t._rawValidators,i),nI(t._rawAsyncValidators,i)})(e=this.control,t=this),t.valueAccessor.writeValue(e.value),function(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&rI(e,t)})}(e,t),function(e,t){const n=(e,n)=>{t.valueAccessor.writeValue(e),n&&t.viewToModelUpdate(e)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}(e,t),function(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&rI(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),function(e,t){if(t.valueAccessor.setDisabledState){const n=e=>{t.valueAccessor.setDisabledState(e)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}(e,t),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){_I.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1})})}_updateDisabled(e){const t=e.isDisabled.currentValue,n=""===t||t&&"false"!==t;_I.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(Xb,9),r.Y36(Bb,10),r.Y36(zb,10),r.Y36(Ub,10))},e.\u0275dir=r.lG2({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[r._Bn([vI]),r.qOj,r.TTD]}),e})(),bI=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({}),e})(),II=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[bI]]}),e})(),EI=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[II]}),e})();const TI=["*"],SI=["dialog"];function CI(e){return null!=e}function AI(e){return(e||document.body).getBoundingClientRect()}"undefined"==typeof Element||Element.prototype.closest||(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest=function(e){let t=this;if(!document.documentElement.contains(t))return null;do{if(t.matches(e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null});const kI={animation:!0,transitionTimerDelayMs:5};let xI=(()=>{class e{constructor(){this.animation=kI.animation}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=r.Yz7({factory:function(){return new e},token:e,providedIn:"root"}),e})();const NI=()=>{},{transitionTimerDelayMs:OI}=kI,RI=new Map,DI=(e,t,n,r)=>{let i=r.context||{};const s=RI.get(t);if(s)switch(r.runningTransition){case"continue":return _t.E;case"stop":e.run(()=>s.transition$.complete()),i=Object.assign(s.context,i),RI.delete(t)}const o=n(t,r.animation,i)||NI;if(!r.animation||"none"===window.getComputedStyle(t).transitionProperty)return e.run(()=>o()),(0,et.of)(void 0).pipe(function(e){return t=>new lt.y(n=>t.subscribe(t=>e.run(()=>n.next(t)),t=>e.run(()=>n.error(t)),()=>e.run(()=>n.complete())))}(e));const a=new tt.xQ,u=new tt.xQ,c=a.pipe(function(...e){return t=>vt(t,(0,et.of)(...e))}(!0));RI.set(t,{transition$:a,complete:()=>{u.next(),u.complete()},context:i});const l=function(e){const{transitionDelay:t,transitionDuration:n}=window.getComputedStyle(e);return 1e3*(parseFloat(t)+parseFloat(n))}(t);return e.runOutsideAngular(()=>{const n=gb(t,"transitionend").pipe(kb(c),Lt(({target:e})=>e===t));(function(...e){if(1===e.length){if(!(0,st.k)(e[0]))return e[0];e=e[0]}return(0,dt.n)(e,void 0).lift(new _b)})(function(e=0,t,n){let r=-1;return(0,yb.k)(t)?r=Number(t)<1?1:Number(t):(0,it.K)(t)&&(n=t),(0,it.K)(n)||(n=mw.P),new lt.y(t=>{const i=(0,yb.k)(e)?e:+e-n.now();return n.schedule(vb,i,{index:0,period:r,subscriber:t})})}(l+OI).pipe(kb(c)),n,u).pipe(kb(c)).subscribe(()=>{RI.delete(t),e.run(()=>{o(),a.next(),a.complete()})})}),a.asObservable()};let PI=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[ve]]}),e})(),LI=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[ve]]}),e})(),MI=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({}),e})(),FI=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[ve]]}),e})(),UI=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({}),e})();var VI=function(e){return e[e.Tab=9]="Tab",e[e.Enter=13]="Enter",e[e.Escape=27]="Escape",e[e.Space=32]="Space",e[e.PageUp=33]="PageUp",e[e.PageDown=34]="PageDown",e[e.End=35]="End",e[e.Home=36]="Home",e[e.ArrowLeft=37]="ArrowLeft",e[e.ArrowUp=38]="ArrowUp",e[e.ArrowRight=39]="ArrowRight",e[e.ArrowDown=40]="ArrowDown",e}({});"undefined"!=typeof navigator&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const jI=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function qI(e){const t=Array.from(e.querySelectorAll(jI)).filter(e=>-1!==e.tabIndex);return[t[0],t[t.length-1]]}new class{getAllStyles(e){return window.getComputedStyle(e)}getStyle(e,t){return this.getAllStyles(e)[t]}isStaticPositioned(e){return"static"===(this.getStyle(e,"position")||"static")}offsetParent(e){let t=e.offsetParent||document.documentElement;for(;t&&t!==document.documentElement&&this.isStaticPositioned(t);)t=t.offsetParent;return t||document.documentElement}position(e,t=!0){let n,r={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(e,"position"))n=e.getBoundingClientRect(),n={top:n.top,bottom:n.bottom,left:n.left,right:n.right,height:n.height,width:n.width};else{const t=this.offsetParent(e);n=this.offset(e,!1),t!==document.documentElement&&(r=this.offset(t,!1)),r.top+=t.clientTop,r.left+=t.clientLeft}return n.top-=r.top,n.bottom-=r.top,n.left-=r.left,n.right-=r.left,t&&(n.top=Math.round(n.top),n.bottom=Math.round(n.bottom),n.left=Math.round(n.left),n.right=Math.round(n.right)),n}offset(e,t=!0){const n=e.getBoundingClientRect(),r=window.pageYOffset-document.documentElement.clientTop,i=window.pageXOffset-document.documentElement.clientLeft;let s={height:n.height||e.offsetHeight,width:n.width||e.offsetWidth,top:n.top+r,bottom:n.bottom+r,left:n.left+i,right:n.right+i};return t&&(s.height=Math.round(s.height),s.width=Math.round(s.width),s.top=Math.round(s.top),s.bottom=Math.round(s.bottom),s.left=Math.round(s.left),s.right=Math.round(s.right)),s}positionElements(e,t,n,r){const[i="top",s="center"]=n.split("-"),o=r?this.offset(e,!1):this.position(e,!1),a=this.getAllStyles(t),u=parseFloat(a.marginTop),c=parseFloat(a.marginBottom),l=parseFloat(a.marginLeft),h=parseFloat(a.marginRight);let d=0,f=0;switch(i){case"top":d=o.top-(t.offsetHeight+u+c);break;case"bottom":d=o.top+o.height;break;case"left":f=o.left-(t.offsetWidth+l+h);break;case"right":f=o.left+o.width}switch(s){case"top":d=o.top;break;case"bottom":d=o.top+o.height-t.offsetHeight;break;case"left":f=o.left;break;case"right":f=o.left+o.width-t.offsetWidth;break;case"center":"top"===i||"bottom"===i?f=o.left+o.width/2-t.offsetWidth/2:d=o.top+o.height/2-t.offsetHeight/2}t.style.transform=`translate(${Math.round(f)}px, ${Math.round(d)}px)`;const p=t.getBoundingClientRect(),g=document.documentElement,m=window.innerHeight||g.clientHeight,y=window.innerWidth||g.clientWidth;return p.left>=0&&p.top>=0&&p.right<=y&&p.bottom<=m}},new Date(1882,10,12),new Date(2174,10,25);let BI=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[ve,EI]]}),e})(),zI=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=r.lG2({type:e,selectors:[["",8,"navbar"]]}),e})(),ZI=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({}),e})(),HI=(()=>{class e{constructor(e){this._ngbConfig=e,this.backdrop=!0,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(xI))},e.\u0275prov=r.Yz7({factory:function(){return new e(r.LFG(xI))},token:e,providedIn:"root"}),e})();class $I{constructor(e,t,n){this.nodes=e,this.viewRef=t,this.componentRef=n}}const GI=()=>{};let WI=(()=>{class e{constructor(e){this._document=e}compensate(){const e=this._getWidth();return this._isPresent(e)?this._adjustBody(e):GI}_adjustBody(e){const t=this._document.body,n=t.style.paddingRight,r=parseFloat(window.getComputedStyle(t)["padding-right"]);return t.style["padding-right"]=`${r+e}px`,()=>t.style["padding-right"]=n}_isPresent(e){const t=this._document.body.getBoundingClientRect();return window.innerWidth-(t.left+t.right)>=e-.1*e}_getWidth(){const e=this._document.createElement("div");e.className="modal-scrollbar-measure";const t=this._document.body;t.appendChild(e);const n=e.getBoundingClientRect().width-e.clientWidth;return t.removeChild(e),n}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(o))},e.\u0275prov=r.Yz7({factory:function(){return new e(r.LFG(o))},token:e,providedIn:"root"}),e})(),KI=(()=>{class e{constructor(e,t){this._el=e,this._zone=t}ngOnInit(){this._zone.onStable.asObservable().pipe(kt(1)).subscribe(()=>{DI(this._zone,this._el.nativeElement,(e,t)=>{t&&AI(e),e.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return DI(this._zone,this._el.nativeElement,({classList:e})=>e.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.SBq),r.Y36(r.R0b))},e.\u0275cmp=r.Xpm({type:e,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1050"],hostVars:6,hostBindings:function(e,t){2&e&&(r.Tol("modal-backdrop"+(t.backdropClass?" "+t.backdropClass:"")),r.ekj("show",!t.animation)("fade",t.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})();class YI{close(e){}dismiss(e){}}class QI{constructor(e,t,n,r){this._windowCmptRef=e,this._contentRef=t,this._backdropCmptRef=n,this._beforeDismiss=r,this._closed=new tt.xQ,this._dismissed=new tt.xQ,this._hidden=new tt.xQ,e.instance.dismissEvent.subscribe(e=>{this.dismiss(e)}),this.result=new Promise((e,t)=>{this._resolve=e,this._reject=t}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(kb(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(kb(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(e){this._windowCmptRef&&(this._closed.next(e),this._resolve(e),this._removeModalElements())}_dismiss(e){this._dismissed.next(e),this._reject(e),this._removeModalElements()}dismiss(e){if(this._windowCmptRef)if(this._beforeDismiss){const t=this._beforeDismiss();t&&t.then?t.then(t=>{!1!==t&&this._dismiss(e)},()=>{}):!1!==t&&this._dismiss(e)}else this._dismiss(e)}_removeModalElements(){const e=this._windowCmptRef.instance.hide(),t=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,et.of)(void 0);e.subscribe(()=>{const{nativeElement:e}=this._windowCmptRef.location;e.parentNode.removeChild(e),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),t.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:e}=this._backdropCmptRef.location;e.parentNode.removeChild(e),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),Ib(e,t).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var JI=function(e){return e[e.BACKDROP_CLICK=0]="BACKDROP_CLICK",e[e.ESC=1]="ESC",e}({});let XI=(()=>{class e{constructor(e,t,n){this._document=e,this._elRef=t,this._zone=n,this._closed$=new tt.xQ,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new r.vpe,this.shown=new tt.xQ,this.hidden=new tt.xQ}dismiss(e){this.dismissEvent.emit(e)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(kt(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:e}=this._elRef,t={animation:this.animation,runningTransition:"stop"},n=Ib(DI(this._zone,e,()=>e.classList.remove("show"),t),DI(this._zone,this._dialogEl.nativeElement,()=>{},t));return n.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),n}_show(){const e={animation:this.animation,runningTransition:"continue"};Ib(DI(this._zone,this._elRef.nativeElement,(e,t)=>{t&&AI(e),e.classList.add("show")},e),DI(this._zone,this._dialogEl.nativeElement,()=>{},e)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:e}=this._elRef;this._zone.runOutsideAngular(()=>{gb(e,"keydown").pipe(kb(this._closed$),Lt(e=>e.which===VI.Escape)).subscribe(e=>{this.keyboard?requestAnimationFrame(()=>{e.defaultPrevented||this._zone.run(()=>this.dismiss(JI.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let t=!1;gb(this._dialogEl.nativeElement,"mousedown").pipe(kb(this._closed$),(0,tn.b)(()=>t=!1),Tt(()=>gb(e,"mouseup").pipe(kb(this._closed$),kt(1))),Lt(({target:t})=>e===t)).subscribe(()=>{t=!0}),gb(e,"click").pipe(kb(this._closed$)).subscribe(({target:n})=>{e===n&&("static"===this.backdrop?this._bumpBackdrop():!0!==this.backdrop||t||this._zone.run(()=>this.dismiss(JI.BACKDROP_CLICK))),t=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:e}=this._elRef;if(!e.contains(document.activeElement)){const t=e.querySelector("[ngbAutofocus]"),n=qI(e)[0];(t||n||e).focus()}}_restoreFocus(){const e=this._document.body,t=this._elWithFocus;let n;n=t&&t.focus&&e.contains(t)?t:e,this._zone.runOutsideAngular(()=>{setTimeout(()=>n.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&DI(this._zone,this._elRef.nativeElement,({classList:e})=>(e.add("modal-static"),()=>e.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(o),r.Y36(r.SBq),r.Y36(r.R0b))},e.\u0275cmp=r.Xpm({type:e,selectors:[["ngb-modal-window"]],viewQuery:function(e,t){if(1&e&&r.Gf(SI,7),2&e){let e;r.iGM(e=r.CRH())&&(t._dialogEl=e.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(e,t){2&e&&(r.uIk("aria-modal",!0)("aria-labelledby",t.ariaLabelledBy)("aria-describedby",t.ariaDescribedBy),r.Tol("modal d-block"+(t.windowClass?" "+t.windowClass:"")),r.ekj("fade",t.animation))},inputs:{backdrop:"backdrop",keyboard:"keyboard",animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",centered:"centered",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:TI,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(e,t){1&e&&(r.F$t(),r.TgZ(0,"div",0,1),r.TgZ(2,"div",2),r.Hsn(3),r.qZA(),r.qZA()),2&e&&r.Tol("modal-dialog"+(t.size?" modal-"+t.size:"")+(t.centered?" modal-dialog-centered":"")+(t.scrollable?" modal-dialog-scrollable":"")+(t.modalDialogClass?" "+t.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}"],encapsulation:2}),e})(),eE=(()=>{class e{constructor(e,t,n,i,s,o){this._applicationRef=e,this._injector=t,this._document=n,this._scrollBar=i,this._rendererFactory=s,this._ngZone=o,this._activeWindowCmptHasChanged=new tt.xQ,this._ariaHiddenValues=new Map,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new r.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const e=this._windowCmpts[this._windowCmpts.length-1];((e,t,n,r=!1)=>{this._ngZone.runOutsideAngular(()=>{const e=gb(t,"focusin").pipe(kb(n),(0,It.U)(e=>e.target));gb(t,"keydown").pipe(kb(n),Lt(e=>e.which===VI.Tab),Ob(e)).subscribe(([e,n])=>{const[r,i]=qI(t);n!==r&&n!==t||!e.shiftKey||(i.focus(),e.preventDefault()),n!==i||e.shiftKey||(r.focus(),e.preventDefault())}),r&&gb(t,"click").pipe(kb(n),Ob(e),(0,It.U)(e=>e[1])).subscribe(e=>e.focus())})})(0,e.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(e.location.nativeElement)}})}open(e,t,n,r){const i=r.container instanceof HTMLElement?r.container:CI(r.container)?this._document.querySelector(r.container):this._document.body,s=this._rendererFactory.createRenderer(null,null),o=this._scrollBar.compensate(),a=()=>{this._modalRefs.length||(s.removeClass(this._document.body,"modal-open"),this._revertAriaHidden())};if(!i)throw new Error(`The specified modal container "${r.container||"body"}" was not found in the DOM.`);const u=new YI,c=this._getContentRef(e,r.injector||t,n,u,r);let l=!1!==r.backdrop?this._attachBackdrop(e,i):void 0,h=this._attachWindowComponent(e,i,c),d=new QI(h,c,l,r.beforeDismiss);return this._registerModalRef(d),this._registerWindowCmpt(h),d.result.then(o,o),d.result.then(a,a),u.close=e=>{d.close(e)},u.dismiss=e=>{d.dismiss(e)},this._applyWindowOptions(h.instance,r),1===this._modalRefs.length&&s.addClass(this._document.body,"modal-open"),l&&l.instance&&(this._applyBackdropOptions(l.instance,r),l.changeDetectorRef.detectChanges()),h.changeDetectorRef.detectChanges(),d}get activeInstances(){return this._activeInstances}dismissAll(e){this._modalRefs.forEach(t=>t.dismiss(e))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(e,t){let n=e.resolveComponentFactory(KI).create(this._injector);return this._applicationRef.attachView(n.hostView),t.appendChild(n.location.nativeElement),n}_attachWindowComponent(e,t,n){let r=e.resolveComponentFactory(XI).create(this._injector,n.nodes);return this._applicationRef.attachView(r.hostView),t.appendChild(r.location.nativeElement),r}_applyWindowOptions(e,t){this._windowAttributes.forEach(n=>{CI(t[n])&&(e[n]=t[n])})}_applyBackdropOptions(e,t){this._backdropAttributes.forEach(n=>{CI(t[n])&&(e[n]=t[n])})}_getContentRef(e,t,n,i,s){return n?n instanceof r.Rgc?this._createFromTemplateRef(n,i):"string"==typeof n?this._createFromString(n):this._createFromComponent(e,t,n,i,s):new $I([])}_createFromTemplateRef(e,t){const n=e.createEmbeddedView({$implicit:t,close(e){t.close(e)},dismiss(e){t.dismiss(e)}});return this._applicationRef.attachView(n),new $I([n.rootNodes],n)}_createFromString(e){const t=this._document.createTextNode(`${e}`);return new $I([[t]])}_createFromComponent(e,t,n,i,s){const o=e.resolveComponentFactory(n),a=r.zs3.create({providers:[{provide:YI,useValue:i}],parent:t}),u=o.create(a),c=u.location.nativeElement;return s.scrollable&&c.classList.add("component-host-scrollable"),this._applicationRef.attachView(u.hostView),new $I([[c]],u.hostView,u)}_setAriaHidden(e){const t=e.parentElement;t&&e!==this._document.body&&(Array.from(t.children).forEach(t=>{t!==e&&"SCRIPT"!==t.nodeName&&(this._ariaHiddenValues.set(t,t.getAttribute("aria-hidden")),t.setAttribute("aria-hidden","true"))}),this._setAriaHidden(t))}_revertAriaHidden(){this._ariaHiddenValues.forEach((e,t)=>{e?t.setAttribute("aria-hidden",e):t.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(e){const t=()=>{const t=this._modalRefs.indexOf(e);t>-1&&(this._modalRefs.splice(t,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(e),this._activeInstances.emit(this._modalRefs),e.result.then(t,t)}_registerWindowCmpt(e){this._windowCmpts.push(e),this._activeWindowCmptHasChanged.next(),e.onDestroy(()=>{const t=this._windowCmpts.indexOf(e);t>-1&&(this._windowCmpts.splice(t,1),this._activeWindowCmptHasChanged.next())})}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(r.z2F),r.LFG(r.zs3),r.LFG(o),r.LFG(WI),r.LFG(r.FYo),r.LFG(r.R0b))},e.\u0275prov=r.Yz7({factory:function(){return new e(r.LFG(r.z2F),r.LFG(r.gxx),r.LFG(o),r.LFG(WI),r.LFG(r.FYo),r.LFG(r.R0b))},token:e,providedIn:"root"}),e})(),tE=(()=>{class e{constructor(e,t,n,r){this._moduleCFR=e,this._injector=t,this._modalStack=n,this._config=r}open(e,t={}){const n=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),t);return this._modalStack.open(this._moduleCFR,this._injector,e,n)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(e){this._modalStack.dismissAll(e)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(r._Vd),r.LFG(r.zs3),r.LFG(eE),r.LFG(HI))},e.\u0275prov=r.Yz7({factory:function(){return new e(r.LFG(r._Vd),r.LFG(r.gxx),r.LFG(eE),r.LFG(HI))},token:e,providedIn:"root"}),e})(),nE=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:[tE]}),e})(),rE=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[ve]]}),e})(),iE=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[ve]]}),e})(),sE=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[ve]]}),e})(),oE=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[ve]]}),e})(),aE=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[ve]]}),e})(),uE=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[ve]]}),e})(),cE=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[ve]]}),e})(),lE=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({}),e})();new r.OlP("live announcer delay",{providedIn:"root",factory:function(){return 100}});let hE=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[ve]]}),e})();const dE=[PI,LI,MI,FI,UI,BI,ZI,nE,rE,iE,sE,oE,aE,uE,cE,lE,hE];let fE=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[dE,PI,LI,MI,FI,UI,BI,ZI,nE,rE,iE,sE,oE,aE,uE,cE,lE,hE]}),e})(),pE=(()=>{class e{constructor(e,t){this.auth=e,this.router=t}ngOnInit(){}logOut(){this.auth.logout(),this.router.navigate(["/"])}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(fb),r.Y36(Mi))},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-navbar"]],decls:18,vars:0,consts:[[1,"navbar","navbar-expand-lg","navbar-light","bg-light"],["href","#",1,"navbar-brand"],["type","button","data-toggle","collapse","data-target","#navbarNav","aria-controls","navbarNav","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNav",1,"collapse","navbar-collapse"],[1,"navbar-nav"],[1,"nav-item"],["href","/home",1,"nav-link"],["href","/chat",1,"nav-link"],["href","/quien-soy",1,"nav-link"],[1,"btn","btn-danger","ml-auto",3,"click"]],template:function(e,t){1&e&&(r.TgZ(0,"nav",0),r.TgZ(1,"a",1),r._uU(2,"Sala de juegos"),r.qZA(),r.TgZ(3,"button",2),r._UZ(4,"span",3),r.qZA(),r.TgZ(5,"div",4),r.TgZ(6,"ul",5),r.TgZ(7,"li",6),r.TgZ(8,"a",7),r._uU(9,"Home"),r.qZA(),r.qZA(),r.TgZ(10,"li",6),r.TgZ(11,"a",8),r._uU(12,"chat"),r.qZA(),r.qZA(),r.TgZ(13,"li",6),r.TgZ(14,"a",9),r._uU(15,"Quien soy"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(16,"button",10),r.NdJ("click",function(){return t.logOut()}),r._uU(17,"Log Out"),r.qZA(),r.qZA(),r.qZA())},directives:[zI],styles:[""]}),e})();function gE(e,t){if(1&e&&(r.TgZ(0,"b"),r._uU(1),r.qZA()),2&e){const e=r.oxw().$implicit;r.xp6(1),r.Oqu(e.fromName)}}function mE(e,t){if(1&e&&(r.TgZ(0,"div"),r.TgZ(1,"div",3),r.YNc(2,gE,2,1,"b",4),r._UZ(3,"br"),r.TgZ(4,"span"),r._uU(5),r.TgZ(6,"div",5),r._UZ(7,"br"),r._uU(8),r.ALo(9,"date"),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&e){const e=t.$implicit;r.xp6(2),r.Q6J("ngIf",!e.myMsg),r.xp6(3),r.hij("",e.msg," "),r.xp6(3),r.Oqu(r.xi3(9,3,null==e.createdAt?null:e.createdAt.toMillis(),"short"))}}let yE=(()=>{class e{constructor(e,t){this.chatSvc=e,this.authSvc=t,this.newMsg="",this.user=new ns,this.messages=new lt.y}ngOnInit(){let e=JSON.stringify(localStorage.getItem("email"));console.log(e),this.user.email=e,this.user.uid=e,this.messages=this.chatSvc.getChatMessages(this.user)}sendMessage(){this.chatSvc.addChatMessage(this.newMsg,this.user).then(()=>{this.newMsg=""})}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(db),r.Y36(fb))},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-chat"]],decls:10,vars:5,consts:[[4,"ngFor","ngForOf"],["autoGrow","true","rows","1","maxLength","500",1,"message-input",3,"ngModel","ngModelChange"],["expand","block","fill","clear","color","primary",1,"msg-btn",3,"disabled","click"],[1,"my-message"],[4,"ngIf"],[1,"time"]],template:function(e,t){1&e&&(r._UZ(0,"app-navbar"),r.YNc(1,mE,10,6,"div",0),r.ALo(2,"async"),r.TgZ(3,"div"),r.TgZ(4,"div"),r.TgZ(5,"div"),r.TgZ(6,"textarea",1),r.NdJ("ngModelChange",function(e){return t.newMsg=e}),r.qZA(),r.qZA(),r.TgZ(7,"div"),r.TgZ(8,"button",2),r.NdJ("click",function(){return t.sendMessage()}),r._uU(9," enviar "),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&e&&(r.xp6(1),r.Q6J("ngForOf",r.lcZ(2,3,t.messages)),r.xp6(5),r.Q6J("ngModel",t.newMsg),r.xp6(2),r.Q6J("disabled",""===t.newMsg))},directives:[pE,oe,qb,tI,wI,ue],pipes:[me,ye],styles:[".message-input[_ngcontent-%COMP%]{width:100%;border:1px solid var(--ion-color-medium);border-radius:6px;background:#fff;resize:none;margin-top:0;--padding-start:8px}.message[_ngcontent-%COMP%]{padding:10px!important;border-radius:10px!important;margin-bottom:4px!important;white-space:pre-wrap}.my-message[_ngcontent-%COMP%]{background-color:#df484800;color:#000}.other-message[_ngcontent-%COMP%]{background:#df484800;color:#fff}.time[_ngcontent-%COMP%]{color:#dfdfdf;float:right;font-size:small}"]}),e})(),vE=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-error"]],decls:2,vars:0,template:function(e,t){1&e&&(r.TgZ(0,"p"),r._uU(1,"error works!"),r.qZA())},styles:[""]}),e})(),_E=(()=>{class e{constructor(e){this.authSvc=e}ngOnInit(){this.authSvc.getCurrentUser().then(e=>{console.log(e.email),localStorage.setItem("email",e.email)})}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(fb))},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-home"]],decls:1,vars:0,template:function(e,t){1&e&&r._UZ(0,"app-navbar")},directives:[pE],styles:[""]}),e})(),wE=(()=>{class e{constructor(e){this.firestore=e}getElements(){return this.firestore.collection("loginLog").ref}createElement(e){this.firestore.collection("loginLog").add(e)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(lb))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),bE=(()=>{class e{constructor(e,t,n){this.authSrv=e,this.logSrv=t,this.router=n,this.user=new ns}ngOnInit(){}login(){this.authSrv.onLogin(this.user).then(e=>{let t=new Date;null!=(null==e?void 0:e.user)?(this.logSrv.createElement({usuario:this.user.email,fecha:t}),this.router.navigate(["/home"])):this.router.navigate(["/error"])})}register(){this.router.navigate(["/register"])}loadData(){this.user.email="admin@admin.com",this.user.pass="administrador"}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(fb),r.Y36(wE),r.Y36(Mi))},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-login"]],decls:11,vars:2,consts:[[1,"row","justify-content-center",2,"padding-top","250px"],[1,"col-4","align-self-center"],[1,"card","text-center"],["placeholder","ingrese Email","type","email",1,"form-control",3,"ngModel","ngModelChange"],["placeholder","ingrese clave","type","password",1,"form-control",3,"ngModel","ngModelChange"],[1,"btn","btn-outline-danger",3,"click"],[1,"btn","btn-danger",3,"click"]],template:function(e,t){1&e&&(r.TgZ(0,"div",0),r.TgZ(1,"div",1),r.TgZ(2,"div",2),r.TgZ(3,"input",3),r.NdJ("ngModelChange",function(e){return t.user.email=e}),r.qZA(),r.TgZ(4,"input",4),r.NdJ("ngModelChange",function(e){return t.user.pass=e}),r.qZA(),r.TgZ(5,"button",5),r.NdJ("click",function(){return t.login()}),r._uU(6,"Conectarse"),r.qZA(),r.TgZ(7,"button",5),r.NdJ("click",function(){return t.register()}),r._uU(8,"Registrarse"),r.qZA(),r.TgZ(9,"button",6),r.NdJ("click",function(){return t.loadData()}),r._uU(10,"datos de login"),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&e&&(r.xp6(3),r.Q6J("ngModel",t.user.email),r.xp6(1),r.Q6J("ngModel",t.user.pass))},directives:[qb,tI,wI],styles:[""]}),e})(),IE=(()=>{class e{constructor(e){this.router=e}ngOnInit(){}home(){this.router.navigate(["/home"])}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(Mi))},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-quien-soy"]],decls:16,vars:0,consts:[[1,"text-center","base"],[1,"cover-container","d-flex","w-100","h-100","p-3","mx-auto","flex-column"],[1,"masthead","mb-auto"],[1,"inner"],[1,"masthead-brand"],["role","main",1,"inner","cover"],[1,"cover-heading"],["src","../../../assets/img/quienSoy.jpg","alt","",1,"img-fluid","rounded"],[1,"lead"],["href","https://github.com/Shilua",1,"btn","btn-lg","btn-secondary"]],template:function(e,t){1&e&&(r._UZ(0,"app-navbar"),r.TgZ(1,"div",0),r.TgZ(2,"div",1),r.TgZ(3,"header",2),r.TgZ(4,"div",3),r.TgZ(5,"h3",4),r._uU(6,"Quien soy"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(7,"main",5),r.TgZ(8,"h1",6),r._uU(9,"Maximiliano vargas."),r.qZA(),r._UZ(10,"img",7),r.TgZ(11,"p",8),r._uU(12,"soy maximiliano vargas, estudiante de la UTN FRA, programador en globant."),r.qZA(),r.TgZ(13,"p",8),r.TgZ(14,"a",9),r._uU(15,"github"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA())},directives:[pE],styles:["a[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:focus, a[_ngcontent-%COMP%]:hover{color:#fff}.btn-secondary[_ngcontent-%COMP%], .btn-secondary[_ngcontent-%COMP%]:focus, .btn-secondary[_ngcontent-%COMP%]:hover{color:#333;text-shadow:none;background-color:#fff;border:.05rem solid #fff}.base[_ngcontent-%COMP%]{height:100%;background-color:#333;display:flex;color:#fff;text-shadow:0 .05rem .1rem #00000080;box-shadow:inset 0 0 5rem #00000080}.cover-container[_ngcontent-%COMP%]{max-width:42em}.masthead[_ngcontent-%COMP%]{margin-bottom:2rem}.masthead-brand[_ngcontent-%COMP%]{margin-bottom:0}.nav-masthead[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:.25rem 0;font-weight:700;color:#ffffff80;background-color:initial;border-bottom:.25rem solid #0000}.nav-masthead[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:focus, .nav-masthead[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{border-bottom-color:#ffffff40}.nav-masthead[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%] + .nav-link[_ngcontent-%COMP%]{margin-left:1rem}.nav-masthead[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{color:#fff;border-bottom-color:#fff}@media (min-width:48em){.masthead-brand[_ngcontent-%COMP%]{float:left}.nav-masthead[_ngcontent-%COMP%]{float:right}}.cover[_ngcontent-%COMP%]{padding:0 1.5rem}.cover[_ngcontent-%COMP%]   .btn-lg[_ngcontent-%COMP%]{padding:.75rem 1.25rem;font-weight:700}.mastfoot[_ngcontent-%COMP%]{color:#ffffff80}"]}),e})(),EE=(()=>{class e{constructor(e){this.firestore=e}getElements(){return this.firestore.collection("user").ref}createElement(e){var t={email:e.email,uid:e.email};this.firestore.collection("user").doc(t.uid).set(t)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(lb))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const TE=[{path:"",component:bE},{path:"login",component:bE},{path:"home",component:_E},{path:"error",component:vE},{path:"register",component:(()=>{class e{constructor(e,t,n,r){this.authSvc=e,this.usersSvc=t,this.logSvc=n,this.router=r,this.user=new ns}ngOnInit(){}onRegister(){var e=this;return(0,rs.Z)(function*(){e.authSvc.onRegister(e.user).then(t=>{let n=new Date;e.user.uid=e.user.email,e.usersSvc.createElement(e.user),e.logSvc.createElement({usuario:e.user.email,fecha:n}),e.router.navigate(["/home"])})})()}login(){this.router.navigate(["/"])}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(fb),r.Y36(EE),r.Y36(wE),r.Y36(Mi))},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-register"]],decls:15,vars:2,consts:[[1,"row","justify-content-center",2,"padding-top","150px"],[1,"col-8","align-self-center"],[1,"form-group"],["for","email"],["placeholder","ingrese Email","type","email","id","email",1,"form-control",3,"ngModel","ngModelChange"],["for","pass"],["placeholder","ingrese clave","type","password","id","pass",1,"form-control",3,"ngModel","ngModelChange"],[1,"btn","btn-block","btn-danger",3,"click"],[1,"btn","btn-block","btn-outline-danger",3,"click"]],template:function(e,t){1&e&&(r.TgZ(0,"div",0),r.TgZ(1,"div",1),r.TgZ(2,"div"),r.TgZ(3,"div",2),r.TgZ(4,"label",3),r._uU(5,"Email"),r.qZA(),r.TgZ(6,"input",4),r.NdJ("ngModelChange",function(e){return t.user.email=e}),r.qZA(),r.qZA(),r.TgZ(7,"div",2),r.TgZ(8,"label",5),r._uU(9,"Password"),r.qZA(),r.TgZ(10,"input",6),r.NdJ("ngModelChange",function(e){return t.user.pass=e}),r.qZA(),r.qZA(),r.TgZ(11,"button",7),r.NdJ("click",function(){return t.onRegister()}),r._uU(12,"Registrarse"),r.qZA(),r.TgZ(13,"button",8),r.NdJ("click",function(){return t.login()}),r._uU(14,"Conectarse"),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&e&&(r.xp6(6),r.Q6J("ngModel",t.user.email),r.xp6(4),r.Q6J("ngModel",t.user.pass))},directives:[qb,tI,wI],styles:[""]}),e})()},{path:"quien-soy",component:IE},{path:"chat",component:yE}];let SE=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[Gi.forRoot(TE)],Gi]}),e})(),CE=(()=>{class e{constructor(){this.title="salaDeJuegos"}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-root"]],decls:1,vars:0,template:function(e,t){1&e&&r._UZ(0,"router-outlet")},directives:[Fi],styles:[""]}),e})();const AE={apiKey:"AIzaSyAaBXhQqLUg7kD6TWimjbrKrpv9g1uKvRg",authDomain:"saladejuegos-fc35a.firebaseapp.com",projectId:"saladejuegos-fc35a",storageBucket:"saladejuegos-fc35a.appspot.com",messagingSenderId:"1036505924126",appId:"1:1036505924126:web:9e9366907307ab3f5ee40f",measurementId:"G-VZGEZ0EW38"};let kE=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e,bootstrap:[CE]}),e.\u0275inj=r.cJS({providers:[],imports:[[Je,SE,fE,EI,sw.hO.initializeApp(AE),gw,hb]]}),e})();(0,r.G48)(),Ye().bootstrapModule(kE).catch(e=>console.error(e))},6304:(e,t,n)=>{"use strict";function r(e,t,n,r,i,s,o){try{var a=e[s](o),u=a.value}catch(c){return void n(c)}a.done?t(u):Promise.resolve(u).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise(function(i,s){var o=e.apply(t,n);function a(e){r(o,i,s,a,u,"next",e)}function u(e){r(o,i,s,a,u,"throw",e)}a(void 0)})}}n.d(t,{Z:()=>i})},4762:(e,t,n)=>{"use strict";n.d(t,{ZT:()=>i,pi:()=>s,_T:()=>o,mG:()=>a,Jh:()=>u,XA:()=>c,CR:()=>l,ev:()=>h});var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var s=function(){return(s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function o(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function a(e,t,n,r){return new(n||(n=Promise))(function(i,s){function o(e){try{u(r.next(e))}catch(t){s(t)}}function a(e){try{u(r.throw(e))}catch(t){s(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(o,a)}u((r=r.apply(e,t||[])).next())})}function u(e,t){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(a){s=[6,a],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function c(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function l(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,s=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o}function h(e,t,n){if(n||2===arguments.length)for(var r,i=0,s=t.length;i<s;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}}},e=>{"use strict";e(e.s=9168)}]);